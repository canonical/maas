!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=621)}([function(e,t,n){"use strict";var r=n(3),i=n(34),a=n(18),o=n(17),s=n(27),c=function e(t,n,c){var u,l,f,d,h=t&e.F,p=t&e.G,g=t&e.P,m=t&e.B,b=p?r:t&e.S?r[n]||(r[n]={}):(r[n]||{}).prototype,v=p?i:i[n]||(i[n]={}),y=v.prototype||(v.prototype={});for(u in p&&(c=n),c)f=((l=!h&&b&&void 0!==b[u])?b:c)[u],d=m&&l?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,b&&o(b,u,f,t&e.U),v[u]!=f&&a(v,u,d),g&&y[u]!=f&&(y[u]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){"use strict";"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,n){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r=n(7),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),a(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){return"object"===r(e)?null!==e:"function"==typeof e}},function(e,t,n){"use strict";(function(e){var r=n(415),i=n(414),a=n(161);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&a(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var a,o=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=n;a<s;a++)if(u(e,a)===u(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===c)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var f=!0,d=0;d<c;d++)if(u(e,a+d)!==u(t,d)){f=!1;break}if(f)return a}return-1}function v(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function y(e,t,n,r){return z(U(t,e.length-n),e,n,r)}function _(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return _(e,t,n,r)}function S(e,t,n,r){return z(F(t),e,n,r)}function M(e,t,n,r){return z(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,c,u=e[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(a=e[i+1]))&&(c=(31&u)<<6|63&a)>127&&(l=c);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(c=(15&u)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(c=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return f(null,e)},c.allocUnsafeSlow=function(e){return f(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,o=n-t,s=Math.min(a,o),u=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(u[f]!==l[f]){a=u[f],o=l[f];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=$(e[a]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function C(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function B(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,a){return a||B(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function T(e,t,n,r,a){return a||B(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return T(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return T(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=c.isBuffer(e)?e:U(new c(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function $(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function F(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(24))},function(e,t,n){"use strict";var r=n(87)("wks"),i=n(51),a=n(3).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";var r=n(31),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(2),i=n(197),a=n(33),o=Object.defineProperty;t.f=n(11)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";e.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,r){function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function a(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var s;"object"===t(e)?e.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{s=n(373).Buffer}catch(e){}function c(e,t,n){for(var r=0,i=Math.min(e.length,n),a=t;a<i;a++){var o=e.charCodeAt(a)-48;r<<=4,r|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return r}function u(e,t,n,r){for(var i=0,a=Math.min(e.length,n),o=t;o<a;o++){var s=e.charCodeAt(o)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===t(e)&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,n,r){if("number"==typeof e)return this._initNumber(e,n,r);if("object"===t(e))return this._initArray(e,n,r);"hex"===n&&(n=16),i(n===(0|n)&&n>=2&&n<=36);var a=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&a++,16===n?this._parseHex(e,a):this._parseBase(e,n,a),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),n,r)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var a,o,s=0;if("be"===n)for(r=e.length-1,a=0;r>=0;r-=3)o=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===n)for(r=0,a=0;r<e.length;r+=3)o=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,a=0;for(n=e.length-6,r=0;n>=t;n-=6)i=c(e,n,n+6),this.words[r]|=i<<a&67108863,this.words[r+1]|=i>>>26-a&4194303,(a+=24)>=26&&(a-=26,r++);n+6!==t&&(i=c(e,t,n+6),this.words[r]|=i<<a&67108863,this.words[r+1]|=i>>>26-a&4194303),this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var a=e.length-n,o=a%r,s=Math.min(a,a-o)+n,c=0,l=n;l<s;l+=r)c=u(e,l,l+r,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var f=1;for(c=u(e,l,e.length,t),l=0;l<o;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,c=o/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var l=c>>>26,f=67108863&c,d=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=d;h++){var p=u-h|0;l+=(o=(i=0|e.words[p])*(a=0|t.words[h])+f)/67108864|0,f=67108863&o}n.words[u]=0|f,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(e=e||10,t=0|t||1,16===e||"hex"===e){n="";for(var r=0,a=0,o=0;o<this.length;o++){var s=this.words[o],c=(16777215&(s<<r|a)).toString(16);n=0!==(a=s>>>24-r&16777215)||o!==this.length-1?l[6-c.length]+c+n:c+n,(r+=2)>=26&&(r-=26,o--)}for(0!==a&&(n=a.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=f[e],h=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?g+n:l[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var r=this.byteLength(),a=n||Math.max(1,r);i(r<=a,"byte array longer than desired length"),i(a>0,"Requested array length <= 0"),this.strip();var o,s,c="le"===t,u=new e(a),l=this.clone();if(c){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),u[s]=o;for(;s<a;s++)u[s]=0}else{for(s=0;s<a-r;s++)u[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),u[a-s-1]=o}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var n=e/26|0,r=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,a=0;a<r.length;a++)t=(0|n.words[a])+(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<n.length;a++)t=(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var a=0,o=0;o<r.length;o++)a=(t=(0|n.words[o])-(0|r.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<n.length;o++)a=(t=(0|n.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var r,i,a,o=e.words,s=t.words,c=n.words,u=0,l=0|o[0],f=8191&l,d=l>>>13,h=0|o[1],p=8191&h,g=h>>>13,m=0|o[2],b=8191&m,v=m>>>13,y=0|o[3],_=8191&y,w=y>>>13,S=0|o[4],M=8191&S,E=S>>>13,A=0|o[5],k=8191&A,I=A>>>13,O=0|o[6],x=8191&O,P=O>>>13,C=0|o[7],j=8191&C,R=C>>>13,D=0|o[8],B=8191&D,N=D>>>13,T=0|o[9],L=8191&T,$=T>>>13,U=0|s[0],F=8191&U,z=U>>>13,q=0|s[1],V=8191&q,H=q>>>13,K=0|s[2],G=8191&K,W=K>>>13,Y=0|s[3],J=8191&Y,X=Y>>>13,Z=0|s[4],Q=8191&Z,ee=Z>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],pe=8191&he,ge=he>>>13;n.negative=e.negative^t.negative,n.length=19;var me=(u+(r=Math.imul(f,F))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(d,F)|0))<<13)|0;u=((a=Math.imul(d,z))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(g,F)|0,a=Math.imul(g,z);var be=(u+(r=r+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,H)|0)+Math.imul(d,V)|0))<<13)|0;u=((a=a+Math.imul(d,H)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(b,F),i=(i=Math.imul(b,z))+Math.imul(v,F)|0,a=Math.imul(v,z),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(g,V)|0,a=a+Math.imul(g,H)|0;var ve=(u+(r=r+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,G)|0))<<13)|0;u=((a=a+Math.imul(d,W)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,a=Math.imul(w,z),r=r+Math.imul(b,V)|0,i=(i=i+Math.imul(b,H)|0)+Math.imul(v,V)|0,a=a+Math.imul(v,H)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(g,G)|0,a=a+Math.imul(g,W)|0;var ye=(u+(r=r+Math.imul(f,J)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(d,J)|0))<<13)|0;u=((a=a+Math.imul(d,X)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(E,F)|0,a=Math.imul(E,z),r=r+Math.imul(_,V)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(w,V)|0,a=a+Math.imul(w,H)|0,r=r+Math.imul(b,G)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(v,G)|0,a=a+Math.imul(v,W)|0,r=r+Math.imul(p,J)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,J)|0,a=a+Math.imul(g,X)|0;var _e=(u+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;u=((a=a+Math.imul(d,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(k,F),i=(i=Math.imul(k,z))+Math.imul(I,F)|0,a=Math.imul(I,z),r=r+Math.imul(M,V)|0,i=(i=i+Math.imul(M,H)|0)+Math.imul(E,V)|0,a=a+Math.imul(E,H)|0,r=r+Math.imul(_,G)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,G)|0,a=a+Math.imul(w,W)|0,r=r+Math.imul(b,J)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(v,J)|0,a=a+Math.imul(v,X)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,a=a+Math.imul(g,ee)|0;var we=(u+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(d,ne)|0))<<13)|0;u=((a=a+Math.imul(d,re)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(x,F),i=(i=Math.imul(x,z))+Math.imul(P,F)|0,a=Math.imul(P,z),r=r+Math.imul(k,V)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(I,V)|0,a=a+Math.imul(I,H)|0,r=r+Math.imul(M,G)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(E,G)|0,a=a+Math.imul(E,W)|0,r=r+Math.imul(_,J)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(w,J)|0,a=a+Math.imul(w,X)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(v,Q)|0,a=a+Math.imul(v,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(g,ne)|0,a=a+Math.imul(g,re)|0;var Se=(u+(r=r+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(d,ae)|0))<<13)|0;u=((a=a+Math.imul(d,oe)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(j,F),i=(i=Math.imul(j,z))+Math.imul(R,F)|0,a=Math.imul(R,z),r=r+Math.imul(x,V)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(P,V)|0,a=a+Math.imul(P,H)|0,r=r+Math.imul(k,G)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(I,G)|0,a=a+Math.imul(I,W)|0,r=r+Math.imul(M,J)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(E,J)|0,a=a+Math.imul(E,X)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Q)|0,a=a+Math.imul(w,ee)|0,r=r+Math.imul(b,ne)|0,i=(i=i+Math.imul(b,re)|0)+Math.imul(v,ne)|0,a=a+Math.imul(v,re)|0,r=r+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(g,ae)|0,a=a+Math.imul(g,oe)|0;var Me=(u+(r=r+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(d,ce)|0))<<13)|0;u=((a=a+Math.imul(d,ue)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(B,F),i=(i=Math.imul(B,z))+Math.imul(N,F)|0,a=Math.imul(N,z),r=r+Math.imul(j,V)|0,i=(i=i+Math.imul(j,H)|0)+Math.imul(R,V)|0,a=a+Math.imul(R,H)|0,r=r+Math.imul(x,G)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(P,G)|0,a=a+Math.imul(P,W)|0,r=r+Math.imul(k,J)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(I,J)|0,a=a+Math.imul(I,X)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(E,Q)|0,a=a+Math.imul(E,ee)|0,r=r+Math.imul(_,ne)|0,i=(i=i+Math.imul(_,re)|0)+Math.imul(w,ne)|0,a=a+Math.imul(w,re)|0,r=r+Math.imul(b,ae)|0,i=(i=i+Math.imul(b,oe)|0)+Math.imul(v,ae)|0,a=a+Math.imul(v,oe)|0,r=r+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(g,ce)|0,a=a+Math.imul(g,ue)|0;var Ee=(u+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;u=((a=a+Math.imul(d,de)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(L,F),i=(i=Math.imul(L,z))+Math.imul($,F)|0,a=Math.imul($,z),r=r+Math.imul(B,V)|0,i=(i=i+Math.imul(B,H)|0)+Math.imul(N,V)|0,a=a+Math.imul(N,H)|0,r=r+Math.imul(j,G)|0,i=(i=i+Math.imul(j,W)|0)+Math.imul(R,G)|0,a=a+Math.imul(R,W)|0,r=r+Math.imul(x,J)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(P,J)|0,a=a+Math.imul(P,X)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(I,Q)|0,a=a+Math.imul(I,ee)|0,r=r+Math.imul(M,ne)|0,i=(i=i+Math.imul(M,re)|0)+Math.imul(E,ne)|0,a=a+Math.imul(E,re)|0,r=r+Math.imul(_,ae)|0,i=(i=i+Math.imul(_,oe)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,r=r+Math.imul(b,ce)|0,i=(i=i+Math.imul(b,ue)|0)+Math.imul(v,ce)|0,a=a+Math.imul(v,ue)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(g,fe)|0,a=a+Math.imul(g,de)|0;var Ae=(u+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ge)|0)+Math.imul(d,pe)|0))<<13)|0;u=((a=a+Math.imul(d,ge)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(L,V),i=(i=Math.imul(L,H))+Math.imul($,V)|0,a=Math.imul($,H),r=r+Math.imul(B,G)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(N,G)|0,a=a+Math.imul(N,W)|0,r=r+Math.imul(j,J)|0,i=(i=i+Math.imul(j,X)|0)+Math.imul(R,J)|0,a=a+Math.imul(R,X)|0,r=r+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(P,Q)|0,a=a+Math.imul(P,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(I,ne)|0,a=a+Math.imul(I,re)|0,r=r+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(E,ae)|0,a=a+Math.imul(E,oe)|0,r=r+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(w,ce)|0,a=a+Math.imul(w,ue)|0,r=r+Math.imul(b,fe)|0,i=(i=i+Math.imul(b,de)|0)+Math.imul(v,fe)|0,a=a+Math.imul(v,de)|0;var ke=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;u=((a=a+Math.imul(g,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(L,G),i=(i=Math.imul(L,W))+Math.imul($,G)|0,a=Math.imul($,W),r=r+Math.imul(B,J)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(N,J)|0,a=a+Math.imul(N,X)|0,r=r+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,ee)|0)+Math.imul(R,Q)|0,a=a+Math.imul(R,ee)|0,r=r+Math.imul(x,ne)|0,i=(i=i+Math.imul(x,re)|0)+Math.imul(P,ne)|0,a=a+Math.imul(P,re)|0,r=r+Math.imul(k,ae)|0,i=(i=i+Math.imul(k,oe)|0)+Math.imul(I,ae)|0,a=a+Math.imul(I,oe)|0,r=r+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(E,ce)|0,a=a+Math.imul(E,ue)|0,r=r+Math.imul(_,fe)|0,i=(i=i+Math.imul(_,de)|0)+Math.imul(w,fe)|0,a=a+Math.imul(w,de)|0;var Ie=(u+(r=r+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,ge)|0)+Math.imul(v,pe)|0))<<13)|0;u=((a=a+Math.imul(v,ge)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(L,J),i=(i=Math.imul(L,X))+Math.imul($,J)|0,a=Math.imul($,X),r=r+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(N,Q)|0,a=a+Math.imul(N,ee)|0,r=r+Math.imul(j,ne)|0,i=(i=i+Math.imul(j,re)|0)+Math.imul(R,ne)|0,a=a+Math.imul(R,re)|0,r=r+Math.imul(x,ae)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,oe)|0,r=r+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,ue)|0)+Math.imul(I,ce)|0,a=a+Math.imul(I,ue)|0,r=r+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(E,fe)|0,a=a+Math.imul(E,de)|0;var Oe=(u+(r=r+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ge)|0)+Math.imul(w,pe)|0))<<13)|0;u=((a=a+Math.imul(w,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(L,Q),i=(i=Math.imul(L,ee))+Math.imul($,Q)|0,a=Math.imul($,ee),r=r+Math.imul(B,ne)|0,i=(i=i+Math.imul(B,re)|0)+Math.imul(N,ne)|0,a=a+Math.imul(N,re)|0,r=r+Math.imul(j,ae)|0,i=(i=i+Math.imul(j,oe)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,oe)|0,r=r+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,ue)|0,r=r+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(I,fe)|0,a=a+Math.imul(I,de)|0;var xe=(u+(r=r+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ge)|0)+Math.imul(E,pe)|0))<<13)|0;u=((a=a+Math.imul(E,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(L,ne),i=(i=Math.imul(L,re))+Math.imul($,ne)|0,a=Math.imul($,re),r=r+Math.imul(B,ae)|0,i=(i=i+Math.imul(B,oe)|0)+Math.imul(N,ae)|0,a=a+Math.imul(N,oe)|0,r=r+Math.imul(j,ce)|0,i=(i=i+Math.imul(j,ue)|0)+Math.imul(R,ce)|0,a=a+Math.imul(R,ue)|0,r=r+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(P,fe)|0,a=a+Math.imul(P,de)|0;var Pe=(u+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(I,pe)|0))<<13)|0;u=((a=a+Math.imul(I,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(L,ae),i=(i=Math.imul(L,oe))+Math.imul($,ae)|0,a=Math.imul($,oe),r=r+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(N,ce)|0,a=a+Math.imul(N,ue)|0,r=r+Math.imul(j,fe)|0,i=(i=i+Math.imul(j,de)|0)+Math.imul(R,fe)|0,a=a+Math.imul(R,de)|0;var Ce=(u+(r=r+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ge)|0)+Math.imul(P,pe)|0))<<13)|0;u=((a=a+Math.imul(P,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(L,ce),i=(i=Math.imul(L,ue))+Math.imul($,ce)|0,a=Math.imul($,ue),r=r+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,de)|0)+Math.imul(N,fe)|0,a=a+Math.imul(N,de)|0;var je=(u+(r=r+Math.imul(j,pe)|0)|0)+((8191&(i=(i=i+Math.imul(j,ge)|0)+Math.imul(R,pe)|0))<<13)|0;u=((a=a+Math.imul(R,ge)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,r=Math.imul(L,fe),i=(i=Math.imul(L,de))+Math.imul($,fe)|0,a=Math.imul($,de);var Re=(u+(r=r+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ge)|0)+Math.imul(N,pe)|0))<<13)|0;u=((a=a+Math.imul(N,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863;var De=(u+(r=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,ge))+Math.imul($,pe)|0))<<13)|0;return u=((a=Math.imul($,ge))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,c[0]=me,c[1]=be,c[2]=ve,c[3]=ye,c[4]=_e,c[5]=we,c[6]=Se,c[7]=Me,c[8]=Ee,c[9]=Ae,c[10]=ke,c[11]=Ie,c[12]=Oe,c[13]=xe,c[14]=Pe,c[15]=Ce,c[16]=je,c[17]=Re,c[18]=De,0!==u&&(c[19]=u,n.length++),n};function g(e,t,n){return(new m).mulp(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(p=h),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,a=0;a<n.length-1;a++){var o=i;i=0;for(var s=67108863&r,c=Math.min(a,t.length-1),u=Math.max(0,a-e.length+1);u<=c;u++){var l=a-u,f=(0|e.words[l])*(0|t.words[u]),d=67108863&f;s=67108863&(d=d+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[a]=s,r=o,o=i}return 0!==r?n.words[a]=r:n.length--,n.strip()}(this,e,t):g(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},m.prototype.permute=function(e,t,n,r,i,a){for(var o=0;o<a;o++)r[o]=t[e[o]],i[o]=n[e[o]]},m.prototype.transform=function(e,t,n,r,i,a){this.permute(a,e,t,n,r,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=c,d=u,h=0;h<o;h++){var p=n[l+h],g=r[l+h],m=n[l+h+o],b=r[l+h+o],v=f*m-d*b;b=f*b+d*m,m=v,n[l+h]=p+m,r[l+h]=g+b,n[l+h+o]=p-m,r[l+h+o]=g-b,h!==s&&(v=c*f-u*d,d=c*d+u*f,f=v)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},m.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,n,r){for(var a=0,o=0;o<t;o++)a+=0|e[o],n[2*o]=8191&a,a>>>=13,n[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<r;++o)n[o]=0;i(0===a),i(0==(-8192&a))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),a=this.stub(r),o=new Array(r),s=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),f=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,o,r),this.convert13b(t.words,t.length,u,r),this.transform(o,a,s,c,r,i),this.transform(u,a,l,f,r,i);for(var h=0;h<r;h++){var p=s[h]*l[h]-c[h]*f[h];c[h]=s[h]*f[h]+c[h]*l[h],s[h]=p}return this.conjugate(s,c,r),this.transform(s,c,d,a,r,i),this.conjugate(d,a,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),g(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,n=0;n<this.length;n++){var r=(0|this.words[n])*e,a=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=a>>>26,this.words[n]=67108863&a}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,n=e%26,r=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,c=(0|this.words[t])-s<<n;this.words[t]=c|o,o=s>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var r;i("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,c=n;if(r-=o,r=Math.max(0,r),c){for(var u=0;u<o;u++)c.words[u]=this.words[u];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var f=0|this.words[u];this.words[u]=l<<26-a|f>>>a,l=f&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return i(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,r=1<<t;return!(this.length<=n)&&!!(this.words[n]&r)},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var r,a,o=e.length+n;this._expand(o);var s=0;for(r=0;r<e.length;r++){a=(0|this.words[r+n])+s;var c=(0|e.words[r])*t;s=((a-=67108863&c)>>26)-(c/67108864|0),this.words[r+n]=67108863&a}for(;r<this.length-n;r++)s=(a=(0|this.words[r+n])+s)>>26,this.words[r+n]=67108863&a;if(0===s)return this.strip();for(i(-1===s),s=0,r=0;r<this.length;r++)s=(a=-(0|this.words[r])+s)>>26,this.words[r]=67108863&a;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,c=r.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,s&&(s.words[c]=1));for(var f=c-1;f>=0;f--){var d=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(i,d,f);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(r=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:r,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(r=s.div.neg()),{div:r,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var r,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),a=n.cmp(r);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,n=0,r=this.length-1;r>=0;r--)n=(t*n+(0|this.words[r]))%e;return n},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*t;this.words[n]=r/e|0,t=r%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0==(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(r.isOdd()||a.isOdd())&&(r.iadd(l),a.isub(f)),r.iushrn(1),a.iushrn(1);for(var p=0,g=1;0==(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(f)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),r.isub(s),a.isub(c)):(n.isub(t),s.isub(r),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r,a=new o(1),s=new o(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var f=0,d=1;0==(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(r=0===t.cmpn(1)?a:s).cmpn(0)<0&&r.iadd(e),r},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var a=t;t=n,n=a}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,n=(e-t)/26,r=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var a=r,o=n;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),i(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new M(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){M.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},a(y,v),y.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(4194303&a)<<4|i>>>22,i=a}i>>>=22,e.words[r-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},a(_,v),a(w,v),a(S,v),S.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return b[e]=t,t},M.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},M.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},M.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},M.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},M.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},M.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},M.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},M.prototype.isqr=function(e){return this.imul(e,e.clone())},M.prototype.sqr=function(e){return this.mul(e,e)},M.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var r=this.m.subn(1),a=0;!r.isZero()&&0===r.andln(1);)a++,r.iushrn(1);i(!r.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,r),d=this.pow(e,r.addn(1).iushrn(1)),h=this.pow(e,r),p=a;0!==h.cmp(s);){for(var g=h,m=0;0!==g.cmp(s);m++)g=g.redSqr();i(m<p);var b=this.pow(f,new o(1).iushln(p-m-1));d=d.redMul(b),f=b.redSqr(),h=h.redMul(f),p=m}return d},M.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},M.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],l=c-1;l>=0;l--){var f=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===l)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}c=26}return i},M.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},M.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new E(e)},a(E,M),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e)}).call(this,n(163)(e))},function(e,t,n){"use strict";var r=n(32);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=t;r.version=n(367).version,r.utils=n(366),r.rand=n(141),r.curve=n(69),r.curves=n(361),r.ec=n(353),r.eddsa=n(349)},function(e,t,n){"use strict";var r=n(0),i=n(4),a=n(32),o=/"/g,s=function(e,t,n,r){var i=String(a(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(o,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){"use strict";var r=n(3),i=n(18),a=n(19),o=n(51)("src"),s=Function.toString,c=(""+s).split("toString");n(34).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(a(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(a(n,o)||i(n,o,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||s.call(this)})},function(e,t,n){"use strict";var r=n(10),i=n(52);e.exports=n(11)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=r,r.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},function(e,t,n){"use strict";var r=n(19),i=n(13),a=n(124)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){"use strict";var r=n(66),i=n(52),a=n(23),o=n(33),s=n(19),c=n(197),u=Object.getOwnPropertyDescriptor;t.f=n(11)?u:function(e,t){if(e=a(e),t=o(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r=n(67),i=n(32);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}e.exports=i},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(14);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var r=n(20),i=n(1);function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function s(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(var r=0;r<e.length;r++){var i=e.charCodeAt(r),a=i>>8,o=255&i;a?n.push(a,o):n.push(o)}else for(r=0;r<e.length;r++)n[r]=0|e[r];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=o(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=a(i)),n+=s(i.toString(16))}return n},t.zero2=o,t.zero8=s,t.join32=function(e,t,n,i){var a=n-t;r(a%4==0);for(var o=new Array(a/4),s=0,c=t;s<o.length;s++,c+=4){var u;u="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],o[s]=u>>>0}return o},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var a=e[r];"big"===t?(n[i]=a>>>24,n[i+1]=a>>>16&255,n[i+2]=a>>>8&255,n[i+3]=255&a):(n[i+3]=a>>>24,n[i+2]=a>>>16&255,n[i+1]=a>>>8&255,n[i]=255&a)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],a=r+e[t+1]>>>0,o=(a<r?1:0)+n+i;e[t]=o>>>0,e[t+1]=a},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,a,o,s){var c=0,u=t;return c+=(u=u+r>>>0)<t?1:0,c+=(u=u+a>>>0)<a?1:0,e+n+i+o+(c+=(u=u+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,a,o,s){return t+r+a+s>>>0},t.sum64_5_hi=function(e,t,n,r,i,a,o,s,c,u){var l=0,f=t;return l+=(f=f+r>>>0)<t?1:0,l+=(f=f+a>>>0)<a?1:0,l+=(f=f+s>>>0)<s?1:0,e+n+i+o+c+(l+=(f=f+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,a,o,s,c,u){return t+r+a+s+u>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},function(e,t,n){"use strict";var r=n(27),i=n(67),a=n(13),o=n(9),s=n(107);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,f=6==e,d=5==e||f,h=t||s;return function(t,s,p){for(var g,m,b=a(t),v=i(b),y=r(s,p,3),_=o(v.length),w=0,S=n?h(t,_):c?h(t,0):void 0;_>w;w++)if((d||w in v)&&(m=y(g=v[w],w,b),e))if(n)S[w]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:S.push(g)}else if(l)return!1;return f?-1:u||l?l:S}}},function(e,t,n){"use strict";var r=n(0),i=n(34),a=n(4);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*a(function(){n(1)}),"Object",o)}},function(e,t,n){"use strict";var r=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},function(e,t,n){"use strict";e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";var r=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=r)},function(e,t,n){"use strict";var r,i,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,l=[],f=!1,d=-1;function h(){f&&u&&(f=!1,u.length?l=u.concat(l):d=-1,l.length&&p())}function p(){if(!f){var e=c(h);f=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new g(e,t)),1!==l.length||f||c(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(176),a=n(0),o=n(87)("metadata"),s=o.store||(o.store=new(n(173))),c=function(e,t,n){var r=s.get(e);if(!r){if(!n)return;s.set(e,r=new i)}var a=r.get(t);if(!a){if(!n)return;r.set(t,a=new i)}return a};e.exports={store:s,map:c,has:function(e,t,n){var r=c(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=c(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){c(n,r,!0).set(e,t)},keys:function(e,t){var n=c(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},key:function(e){return void 0===e||"symbol"==r(e)?e:String(e)},exp:function(e){a(a.S,"Reflect",e)}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}if(n(11)){var i=n(50),a=n(3),o=n(4),s=n(0),c=n(77),u=n(101),l=n(27),f=n(44),d=n(52),h=n(18),p=n(42),g=n(31),m=n(9),b=n(171),v=n(48),y=n(33),_=n(19),w=n(65),S=n(6),M=n(13),E=n(110),A=n(47),k=n(21),I=n(46).f,O=n(108),x=n(51),P=n(8),C=n(29),j=n(86),R=n(79),D=n(105),B=n(56),N=n(82),T=n(45),L=n(106),$=n(181),U=n(10),F=n(22),z=U.f,q=F.f,V=a.RangeError,H=a.TypeError,K=a.Uint8Array,G=Array.prototype,W=u.ArrayBuffer,Y=u.DataView,J=C(0),X=C(2),Z=C(3),Q=C(4),ee=C(5),te=C(6),ne=j(!0),re=j(!1),ie=D.values,ae=D.keys,oe=D.entries,se=G.lastIndexOf,ce=G.reduce,ue=G.reduceRight,le=G.join,fe=G.sort,de=G.slice,he=G.toString,pe=G.toLocaleString,ge=P("iterator"),me=P("toStringTag"),be=x("typed_constructor"),ve=x("def_constructor"),ye=c.CONSTR,_e=c.TYPED,we=c.VIEW,Se=C(1,function(e,t){return Ie(R(e,e[ve]),t)}),Me=o(function(){return 1===new K(new Uint16Array([1]).buffer)[0]}),Ee=!!K&&!!K.prototype.set&&o(function(){new K(1).set({})}),Ae=function(e,t){var n=g(e);if(n<0||n%t)throw V("Wrong offset!");return n},ke=function(e){if(S(e)&&_e in e)return e;throw H(e+" is not a typed array!")},Ie=function(e,t){if(!(S(e)&&be in e))throw H("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return xe(R(e,e[ve]),t)},xe=function(e,t){for(var n=0,r=t.length,i=Ie(e,r);r>n;)i[n]=t[n++];return i},Pe=function(e,t,n){z(e,t,{get:function(){return this._d[n]}})},Ce=function(e){var t,n,r,i,a,o,s=M(e),c=arguments.length,u=c>1?arguments[1]:void 0,f=void 0!==u,d=O(s);if(void 0!=d&&!E(d)){for(o=d.call(s),r=[],t=0;!(a=o.next()).done;t++)r.push(a.value);s=r}for(f&&c>2&&(u=l(u,arguments[2],2)),t=0,n=m(s.length),i=Ie(this,n);n>t;t++)i[t]=f?u(s[t],t):s[t];return i},je=function(){for(var e=0,t=arguments.length,n=Ie(this,t);t>e;)n[e]=arguments[e++];return n},Re=!!K&&o(function(){pe.call(new K(1))}),De=function(){return pe.apply(Re?de.call(ke(this)):ke(this),arguments)},Be={copyWithin:function(e,t){return $.call(ke(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Q(ke(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return L.apply(ke(this),arguments)},filter:function(e){return Oe(this,X(ke(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ee(ke(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return te(ke(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){J(ke(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return re(ke(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return ne(ke(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return le.apply(ke(this),arguments)},lastIndexOf:function(e){return se.apply(ke(this),arguments)},map:function(e){return Se(ke(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ce.apply(ke(this),arguments)},reduceRight:function(e){return ue.apply(ke(this),arguments)},reverse:function(){for(var e,t=ke(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return Z(ke(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return fe.call(ke(this),e)},subarray:function(e,t){var n=ke(this),r=n.length,i=v(e,r);return new(R(n,n[ve]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===t?r:v(t,r))-i))}},Ne=function(e,t){return Oe(this,de.call(ke(this),e,t))},Te=function(e){ke(this);var t=Ae(arguments[1],1),n=this.length,r=M(e),i=m(r.length),a=0;if(i+t>n)throw V("Wrong length!");for(;a<i;)this[t+a]=r[a++]},Le={entries:function(){return oe.call(ke(this))},keys:function(){return ae.call(ke(this))},values:function(){return ie.call(ke(this))}},$e=function(e,t){return S(e)&&e[_e]&&"symbol"!=r(t)&&t in e&&String(+t)==String(t)},Ue=function(e,t){return $e(e,t=y(t,!0))?d(2,e[t]):q(e,t)},Fe=function(e,t,n){return!($e(e,t=y(t,!0))&&S(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?z(e,t,n):(e[t]=n.value,e)};ye||(F.f=Ue,U.f=Fe),s(s.S+s.F*!ye,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:Fe}),o(function(){he.call({})})&&(he=pe=function(){return le.call(this)});var ze=p({},Be);p(ze,Le),h(ze,ge,Le.values),p(ze,{slice:Ne,set:Te,constructor:function(){},toString:he,toLocaleString:De}),Pe(ze,"buffer","b"),Pe(ze,"byteOffset","o"),Pe(ze,"byteLength","l"),Pe(ze,"length","e"),z(ze,me,{get:function(){return this[_e]}}),e.exports=function(e,t,n,r){var u=e+((r=!!r)?"Clamped":"")+"Array",l="get"+e,d="set"+e,p=a[u],g=p||{},v=p&&k(p),y=!p||!c.ABV,_={},M=p&&p.prototype,E=function(e,n){z(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[l](n*t+r.o,Me)}(this,n)},set:function(e){return function(e,n,i){var a=e._d;r&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),a.v[d](n*t+a.o,i,Me)}(this,n,e)},enumerable:!0})};y?(p=n(function(e,n,r,i){f(e,p,u,"_d");var a,o,s,c,l=0,d=0;if(S(n)){if(!(n instanceof W||"ArrayBuffer"==(c=w(n))||"SharedArrayBuffer"==c))return _e in n?xe(p,n):Ce.call(p,n);a=n,d=Ae(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw V("Wrong length!");if((o=g-d)<0)throw V("Wrong length!")}else if((o=m(i)*t)+d>g)throw V("Wrong length!");s=o/t}else s=b(n),a=new W(o=s*t);for(h(e,"_d",{b:a,o:d,l:o,e:s,v:new Y(a)});l<s;)E(e,l++)}),M=p.prototype=A(ze),h(M,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&N(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=n(function(e,n,r,i){var a;return f(e,p,u),S(n)?n instanceof W||"ArrayBuffer"==(a=w(n))||"SharedArrayBuffer"==a?void 0!==i?new g(n,Ae(r,t),i):void 0!==r?new g(n,Ae(r,t)):new g(n):_e in n?xe(p,n):Ce.call(p,n):new g(b(n))}),J(v!==Function.prototype?I(g).concat(I(v)):I(g),function(e){e in p||h(p,e,g[e])}),p.prototype=M,i||(M.constructor=p));var O=M[ge],x=!!O&&("values"==O.name||void 0==O.name),P=Le.values;h(p,be,!0),h(M,_e,u),h(M,we,!0),h(M,ve,p),(r?new p(1)[me]==u:me in M)||z(M,me,{get:function(){return u}}),_[u]=p,s(s.G+s.W+s.F*(p!=g),_),s(s.S,u,{BYTES_PER_ELEMENT:t}),s(s.S+s.F*o(function(){g.of.call(p,1)}),u,{from:Ce,of:je}),"BYTES_PER_ELEMENT"in M||h(M,"BYTES_PER_ELEMENT",t),s(s.P,u,Be),T(u),s(s.P+s.F*Ee,u,{set:Te}),s(s.P+s.F*!x,u,Le),i||M.toString==he||(M.toString=he),s(s.P+s.F*o(function(){new p(1).slice()}),u,{slice:Ne}),s(s.P+s.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){M.toLocaleString.call([1,2])})),u,{toLocaleString:De}),B[u]=x?O:P,i||x||h(M,ge,P)}}else e.exports=function(){}},function(e,t,n){"use strict";var r=n(5).Buffer,i=n(73).Transform,a=n(94).StringDecoder;function o(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(1)(o,i),o.prototype.update=function(e,t,n){"string"==typeof e&&(e=r.from(e,t));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{n(r)}},o.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},o.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},o.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new a(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=o},function(e,t,n){"use strict";var r=n(8)("unscopables"),i=Array.prototype;void 0==i[r]&&n(18)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(51)("meta"),a=n(6),o=n(19),s=n(10).f,c=0,u=Object.isExtensible||function(){return!0},l=!n(4)(function(){return u(Object.preventExtensions({}))}),f=function(e){s(e,i,{value:{i:"O"+ ++c,w:{}}})},d=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==r(e)?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!u(e))return"F";if(!t)return"E";f(e)}return e[i].i},getWeak:function(e,t){if(!o(e,i)){if(!u(e))return!0;if(!t)return!1;f(e)}return e[i].w},onFreeze:function(e){return l&&d.NEED&&u(e)&&!o(e,i)&&f(e),e}}},function(e,t,n){"use strict";var r=n(72),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var a=n(63);a.inherits=n(1);var o=n(160),s=n(95);a.inherits(f,o);for(var c=i(s.prototype),u=0;u<c.length;u++){var l=c[u];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";var r=n(17);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(27),i=n(183),a=n(110),o=n(2),s=n(9),c=n(108),u={},l={},f=e.exports=function(e,t,n,f,d){var h,p,g,m,b=d?function(){return e}:c(e),v=r(n,f,t?2:1),y=0;if("function"!=typeof b)throw TypeError(e+" is not iterable!");if(a(b)){for(h=s(e.length);h>y;y++)if((m=t?v(o(p=e[y])[0],p[1]):v(e[y]))===u||m===l)return m}else for(g=b.call(e);!(p=g.next()).done;)if((m=i(g,v,p.value,t))===u||m===l)return m};f.BREAK=u,f.RETURN=l},function(e,t,n){"use strict";e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";var r=n(3),i=n(10),a=n(11),o=n(8)("species");e.exports=function(e){var t=r[e];a&&t&&!t[o]&&i.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(195),i=n(123).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(2),i=n(194),a=n(123),o=n(124)("IE_PROTO"),s=function(){},c=function(){var e,t=n(126)("iframe"),r=a.length;for(t.style.display="none",n(122).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[a[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){"use strict";var r=n(31),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):a(e,t)}},function(e,t,n){"use strict";var r=n(195),i=n(123);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){"use strict";e.exports=!1},function(e,t,n){"use strict";var r=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},function(e,t,n){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var r=n(5).Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,a=e.length,o=this._len,s=0;s<a;){for(var c=o%i,u=Math.min(a-s,i-c),l=0;l<u;l++)n[c+l]=e[s+l];s+=u,(o+=u)%i==0&&this._update(n)}return this._len+=a,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},function(e,t,n){"use strict";(function(t,r){var i=n(5).Buffer,a=t.crypto||t.msCrypto;a&&a.getRandomValues?e.exports=function(e,n){if(e>65536)throw new Error("requested too many random bytes");var o=new t.Uint8Array(e);e>0&&a.getRandomValues(o);var s=i.from(o.buffer);if("function"==typeof n)return r.nextTick(function(){n(null,s)});return s}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(24),n(35))},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(0),i=n(32),a=n(4),o=n(120),s="["+o+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),l=function(e,t,n){var i={},s=a(function(){return!!o[e]()||""!=""[e]()}),c=i[e]=s?t(f):o[e];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},f=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},function(e,t,n){"use strict";var r=n(10).f,i=n(19),a=n(8)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=t;r.Reporter=n(342).Reporter,r.DecoderBuffer=n(136).DecoderBuffer,r.EncoderBuffer=n(136).EncoderBuffer,r.Node=n(341)},function(e,t,n){"use strict";var r=t;r.bignum=n(12),r.define=n(345).define,r.base=n(59),r.constants=n(135),r.decoders=n(339),r.encoders=n(337)},function(e,t,n){"use strict";var r=n(28),i=n(20);function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=a,a.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,a=8;a<this.padLength;a++)r[i++]=0;return r}},function(e,t,n){"use strict";(function(t){e.exports=function(e,n){for(var r=Math.min(e.length,n.length),i=new t(r),a=0;a<r;++a)i[a]=e[a]^n[a];return i}}).call(this,n(7).Buffer)},function(e,t,n){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"===n(e)},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"===n(e)&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===n(e)||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(7).Buffer)},function(e,t,n){"use strict";(function(t){var r=n(1),i=n(99),a=n(98),o=n(93),s=n(38);function c(e){s.call(this,"digest"),this._hash=e,this.buffers=[]}function u(e){s.call(this,"digest"),this._hash=e}r(c,s),c.prototype._update=function(e){this.buffers.push(e)},c.prototype._final=function(){var e=t.concat(this.buffers),n=this._hash(e);return this.buffers=null,n},r(u,s),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new c(i):new u("rmd160"===e||"ripemd160"===e?new a:o(e))}}).call(this,n(7).Buffer)},function(e,t,n){"use strict";var r=n(26),i=n(8)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,n){"use strict";t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var r=n(26);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(346),a=n(334),o=n(333),s=n(92),c=n(152);function u(e){var n;"object"!==r(e)||t.isBuffer(e)||(n=e.passphrase,e=e.key),"string"==typeof e&&(e=new t(e));var u,l,f=o(e,n),d=f.tag,h=f.data;switch(d){case"CERTIFICATE":l=i.certificate.decode(h,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(l||(l=i.PublicKey.decode(h,"der")),u=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(l.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return l.subjectPrivateKey=l.subjectPublicKey,{type:"ec",data:l};case"1.2.840.10040.4.1":return l.algorithm.params.pub_key=i.DSAparam.decode(l.subjectPublicKey.data,"der"),{type:"dsa",data:l.algorithm.params};default:throw new Error("unknown key id "+u)}throw new Error("unknown key type "+d);case"ENCRYPTED PRIVATE KEY":h=function(e,n){var r=e.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=a[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,f=parseInt(o.split("-")[1],10)/8,d=c.pbkdf2Sync(n,r,i,f),h=s.createDecipheriv(o,d,u),p=[];return p.push(h.update(l)),p.push(h.final()),t.concat(p)}(h=i.EncryptedPrivateKey.decode(h,"der"),n);case"PRIVATE KEY":switch(u=(l=i.PrivateKey.decode(h,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(l.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:l.algorithm.curve,privateKey:i.ECPrivateKey.decode(l.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return l.algorithm.params.priv_key=i.DSAparam.decode(l.subjectPrivateKey,"der"),{type:"dsa",params:l.algorithm.params};default:throw new Error("unknown key id "+u)}throw new Error("unknown key type "+d);case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(h,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(h,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(h,"der")};case"EC PRIVATE KEY":return{curve:(h=i.ECPrivateKey.decode(h,"der")).parameters.value,privateKey:h.privateKey};default:throw new Error("unknown key type "+d)}}e.exports=u,u.signature=i.signature}).call(this,n(7).Buffer)},function(e,t,n){"use strict";var r=t;r.base=n(365),r.short=n(364),r.mont=n(363),r.edwards=n(362)},function(e,t,n){"use strict";var r=n(5).Buffer;function i(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,n=new Array(t),i=0;i<t;i++)n[i]=e.readUInt32BE(4*i);return n}function a(e){for(;0<e.length;e++)e[0]=0}function o(e,t,n,r,i){for(var a,o,s,c,u=n[0],l=n[1],f=n[2],d=n[3],h=e[0]^t[0],p=e[1]^t[1],g=e[2]^t[2],m=e[3]^t[3],b=4,v=1;v<i;v++)a=u[h>>>24]^l[p>>>16&255]^f[g>>>8&255]^d[255&m]^t[b++],o=u[p>>>24]^l[g>>>16&255]^f[m>>>8&255]^d[255&h]^t[b++],s=u[g>>>24]^l[m>>>16&255]^f[h>>>8&255]^d[255&p]^t[b++],c=u[m>>>24]^l[h>>>16&255]^f[p>>>8&255]^d[255&g]^t[b++],h=a,p=o,g=s,m=c;return a=(r[h>>>24]<<24|r[p>>>16&255]<<16|r[g>>>8&255]<<8|r[255&m])^t[b++],o=(r[p>>>24]<<24|r[g>>>16&255]<<16|r[m>>>8&255]<<8|r[255&h])^t[b++],s=(r[g>>>24]<<24|r[m>>>16&255]<<16|r[h>>>8&255]<<8|r[255&p])^t[b++],c=(r[m>>>24]<<24|r[h>>>16&255]<<16|r[p>>>8&255]<<8|r[255&g])^t[b++],[a>>>=0,o>>>=0,s>>>=0,c>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],r=[],i=[[],[],[],[]],a=[[],[],[],[]],o=0,s=0,c=0;c<256;++c){var u=s^s<<1^s<<2^s<<3^s<<4;u=u>>>8^255&u^99,n[o]=u,r[u]=o;var l=e[o],f=e[l],d=e[f],h=257*e[u]^16843008*u;i[0][o]=h<<24|h>>>8,i[1][o]=h<<16|h>>>16,i[2][o]=h<<8|h>>>24,i[3][o]=h,h=16843009*d^65537*f^257*l^16843008*o,a[0][u]=h<<24|h>>>8,a[1][u]=h<<16|h>>>16,a[2][u]=h<<8|h>>>24,a[3][u]=h,0===o?o=s=1:(o=l^e[e[e[d^l]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:a}}();function u(e){this._key=i(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),i=[],a=0;a<t;a++)i[a]=e[a];for(a=t;a<r;a++){var o=i[a-1];a%t==0?(o=o<<8|o>>>24,o=c.SBOX[o>>>24]<<24|c.SBOX[o>>>16&255]<<16|c.SBOX[o>>>8&255]<<8|c.SBOX[255&o],o^=s[a/t|0]<<24):t>6&&a%t==4&&(o=c.SBOX[o>>>24]<<24|c.SBOX[o>>>16&255]<<16|c.SBOX[o>>>8&255]<<8|c.SBOX[255&o]),i[a]=i[a-t]^o}for(var u=[],l=0;l<r;l++){var f=r-l,d=i[f-(l%4?0:4)];u[l]=l<4||f<=4?d:c.INV_SUB_MIX[0][c.SBOX[d>>>24]]^c.INV_SUB_MIX[1][c.SBOX[d>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[d>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&d]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(e){return o(e=i(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=r.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},u.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var n=o(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),a=r.allocUnsafe(16);return a.writeUInt32BE(n[0],0),a.writeUInt32BE(n[3],4),a.writeUInt32BE(n[2],8),a.writeUInt32BE(n[1],12),a},u.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},e.exports.AES=u},function(e,t,n){"use strict";var r=n(5).Buffer,i=n(392);e.exports=function(e,t,n,a){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=n/8,s=r.alloc(o),c=r.alloc(a||0),u=r.alloc(0);o>0||a>0;){var l=new i;l.update(u),l.update(e),t&&l.update(t),u=l.digest();var f=0;if(o>0){var d=s.length-o;f=Math.min(o,u.length),u.copy(s,d,0,f),o-=f}if(f<u.length&&a>0){var h=c.length-a,p=Math.min(a,u.length-f);u.copy(c,h,f,f+p),a-=p}}return u.fill(0),{key:s,iv:c}}},function(e,t,n){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick(function(){e.apply(null,a)})}}}:e.exports=t}).call(this,n(35))},function(e,t,n){"use strict";e.exports=i;var r=n(97).EventEmitter;function i(){r.call(this)}n(1)(i,r),i.Readable=n(96),i.Writable=n(404),i.Duplex=n(403),i.Transform=n(402),i.PassThrough=n(401),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",c));var o=!1;function s(){o||(o=!0,e.end())}function c(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",u),e.on("error",u),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},function(e,t,n){"use strict";var r=n(0),i=n(14),a=n(27),o=n(43);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,c=arguments[1];return i(this),(t=void 0!==c)&&i(c),void 0==e?new this:(n=[],t?(r=0,s=a(c,arguments[2],2),o(e,!1,function(e){n.push(s(e,r++))})):o(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";e.exports=n(50)||!n(4)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(3)[e]})},function(e,t,n){"use strict";for(var r,i=n(3),a=n(18),o=n(51),s=o("typed_array"),c=o("view"),u=!(!i.ArrayBuffer||!i.DataView),l=u,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(a(r.prototype,s,!0),a(r.prototype,c,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:s,VIEW:c}},function(e,t,n){"use strict";var r=n(3),i=n(0),a=n(17),o=n(42),s=n(40),c=n(43),u=n(44),l=n(6),f=n(4),d=n(82),h=n(58),p=n(119);e.exports=function(e,t,n,g,m,b){var v=r[e],y=v,_=m?"set":"add",w=y&&y.prototype,S={},M=function(e){var t=w[e];a(w,e,"delete"==e?function(e){return!(b&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return b&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof y&&(b||w.forEach&&!f(function(){(new y).entries().next()}))){var E=new y,A=E[_](b?{}:-0,1)!=E,k=f(function(){E.has(1)}),I=d(function(e){new y(e)}),O=!b&&f(function(){for(var e=new y,t=5;t--;)e[_](t,t);return!e.has(-0)});I||((y=t(function(t,n){u(t,y,e);var r=p(new v,t,y);return void 0!=n&&c(n,m,r[_],r),r})).prototype=w,w.constructor=y),(k||O)&&(M("delete"),M("has"),m&&M("get")),(O||A)&&M(_),b&&w.clear&&delete w.clear}else y=g.getConstructor(t,e,m,_),o(y.prototype,n),s.NEED=!0;return h(y,e),S[e]=y,i(i.G+i.W+i.F*(y!=v),S),b||g.setStrong(y,e,m),y}},function(e,t,n){"use strict";var r=n(2),i=n(14),a=n(8)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},function(e,t,n){"use strict";var r=n(18),i=n(17),a=n(4),o=n(32),s=n(8);e.exports=function(e,t,n){var c=s(e),u=n(o,c,""[e]),l=u[0],f=u[1];a(function(){var t={};return t[c]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,l),r(RegExp.prototype,c,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,n){"use strict";var r=n(2);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(8)("iterator"),i=!1;try{var a=[7][r]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a=[7],o=a[r]();o.next=function(){return{done:n=!0}},a[r]=function(){return o},e(a)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(6),i=n(26),a=n(8)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){"use strict";var r=n(26);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(23),i=n(9),a=n(48);e.exports=function(e){return function(t,n,o){var s,c=r(t),u=i(c.length),l=a(o,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){"use strict";var r=n(3),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){"use strict";var r=t;r.utils=n(28),r.common=n(61),r.sha=n(360),r.ripemd=n(356),r.hmac=n(355),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t,n){"use strict";(function(t){var r=n(12),i=n(54);function a(e,n){var i=function(e){var t=o(e);return{blinder:t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(n),a=n.modulus.byteLength(),s=(r.mont(n.modulus),new r(e).mul(i.blinder).umod(n.modulus)),c=s.toRed(r.mont(n.prime1)),u=s.toRed(r.mont(n.prime2)),l=n.coefficient,f=n.prime1,d=n.prime2,h=c.redPow(n.exponent1),p=u.redPow(n.exponent2);h=h.fromRed(),p=p.fromRed();var g=h.isub(p).imul(l).umod(f);return g.imul(d),p.iadd(g),new t(p.imul(i.unblinder).umod(n.modulus).toArray(!1,a))}function o(e){for(var t=e.modulus.byteLength(),n=new r(i(t));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new r(i(t));return n}e.exports=a,a.getr=o}).call(this,n(7).Buffer)},function(e,t,n){"use strict";t.utils=n(380),t.Cipher=n(379),t.DES=n(378),t.CBC=n(377),t.EDE=n(376)},function(e,t,n){"use strict";var r={ECB:n(389),CBC:n(388),CFB:n(387),CFB8:n(386),CFB1:n(385),OFB:n(384),CTR:n(148),GCM:n(148)},i=n(146);for(var a in i)i[a].module=r[i[a].mode];e.exports=i},function(e,t,n){"use strict";var r=n(390),i=n(382),a=n(146);t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(a)}},function(e,t,n){"use strict";var r=e.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};r.sha=n(400),r.sha1=n(399),r.sha224=n(398),r.sha256=n(156),r.sha384=n(397),r.sha512=n(155)},function(e,t,n){"use strict";var r=n(5).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";(function(t,r,i){var a=n(72);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var s,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:a.nextTick;v.WritableState=b;var u=n(63);u.inherits=n(1);var l={deprecate:n(406)},f=n(159),d=n(5).Buffer,h=i.Uint8Array||function(){};var p,g=n(158);function m(){}function b(e,t){s=s||n(41),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(a.nextTick(i,r),a.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),E(e,t))}(e,n,r,t,i);else{var o=S(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?c(_,e,n,o,i):_(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function v(e){if(s=s||n(41),!(p.call(v,this)||this instanceof s))return new v(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function y(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),E(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)i[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;i.allBuffers=c,y(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function S(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)})}function E(e,t){var n=S(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(M,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(v,f),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===v&&(e&&e._writableState instanceof b)}})):p=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,d.isBuffer(r)||r instanceof h);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=m),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,a){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,r,i,a);return c}(this,i,s,e,t,n)),o},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},v.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?a.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(35),n(408).setImmediate,n(24))},function(e,t,n){"use strict";(t=e.exports=n(160)).Stream=t,t.Readable=t,t.Writable=n(95),t.Duplex=n(41),t.Transform=n(157),t.PassThrough=n(405)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function o(e){return"object"===r(e)&&null!==e}function s(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,r,i,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(s(n=this._events[e]))return!1;if(a(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(o(n))for(i=Array.prototype.slice.call(arguments,1),r=(u=n.slice()).length,c=0;c<r;c++)u[c].apply(this,i);return!0},i.prototype.addListener=function(e,t){var n;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!a(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){var n,r,i,s;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,r=-1,n===t||a(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(a(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";(function(t){var r=n(1),i=n(412);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function o(e,t){return e<<t|e>>>32-t}function s(e,t,n,r,i,a,s,c){return o(e+(t^n^r)+a+s|0,c)+i|0}function c(e,t,n,r,i,a,s,c){return o(e+(t&n|~t&r)+a+s|0,c)+i|0}function u(e,t,n,r,i,a,s,c){return o(e+((t|~n)^r)+a+s|0,c)+i|0}function l(e,t,n,r,i,a,s,c){return o(e+(t&r|n&~r)+a+s|0,c)+i|0}function f(e,t,n,r,i,a,s,c){return o(e+(t^(n|~r))+a+s|0,c)+i|0}r(a,i),a.prototype._update=function(){for(var e=new Array(16),t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,a=this._d,d=this._e;d=s(d,n=s(n,r,i,a,d,e[0],0,11),r,i=o(i,10),a,e[1],0,14),r=s(r=o(r,10),i=s(i,a=s(a,d,n,r,i,e[2],0,15),d,n=o(n,10),r,e[3],0,12),a,d=o(d,10),n,e[4],0,5),a=s(a=o(a,10),d=s(d,n=s(n,r,i,a,d,e[5],0,8),r,i=o(i,10),a,e[6],0,7),n,r=o(r,10),i,e[7],0,9),n=s(n=o(n,10),r=s(r,i=s(i,a,d,n,r,e[8],0,11),a,d=o(d,10),n,e[9],0,13),i,a=o(a,10),d,e[10],0,14),i=s(i=o(i,10),a=s(a,d=s(d,n,r,i,a,e[11],0,15),n,r=o(r,10),i,e[12],0,6),d,n=o(n,10),r,e[13],0,7),d=c(d=o(d,10),n=s(n,r=s(r,i,a,d,n,e[14],0,9),i,a=o(a,10),d,e[15],0,8),r,i=o(i,10),a,e[7],1518500249,7),r=c(r=o(r,10),i=c(i,a=c(a,d,n,r,i,e[4],1518500249,6),d,n=o(n,10),r,e[13],1518500249,8),a,d=o(d,10),n,e[1],1518500249,13),a=c(a=o(a,10),d=c(d,n=c(n,r,i,a,d,e[10],1518500249,11),r,i=o(i,10),a,e[6],1518500249,9),n,r=o(r,10),i,e[15],1518500249,7),n=c(n=o(n,10),r=c(r,i=c(i,a,d,n,r,e[3],1518500249,15),a,d=o(d,10),n,e[12],1518500249,7),i,a=o(a,10),d,e[0],1518500249,12),i=c(i=o(i,10),a=c(a,d=c(d,n,r,i,a,e[9],1518500249,15),n,r=o(r,10),i,e[5],1518500249,9),d,n=o(n,10),r,e[2],1518500249,11),d=c(d=o(d,10),n=c(n,r=c(r,i,a,d,n,e[14],1518500249,7),i,a=o(a,10),d,e[11],1518500249,13),r,i=o(i,10),a,e[8],1518500249,12),r=u(r=o(r,10),i=u(i,a=u(a,d,n,r,i,e[3],1859775393,11),d,n=o(n,10),r,e[10],1859775393,13),a,d=o(d,10),n,e[14],1859775393,6),a=u(a=o(a,10),d=u(d,n=u(n,r,i,a,d,e[4],1859775393,7),r,i=o(i,10),a,e[9],1859775393,14),n,r=o(r,10),i,e[15],1859775393,9),n=u(n=o(n,10),r=u(r,i=u(i,a,d,n,r,e[8],1859775393,13),a,d=o(d,10),n,e[1],1859775393,15),i,a=o(a,10),d,e[2],1859775393,14),i=u(i=o(i,10),a=u(a,d=u(d,n,r,i,a,e[7],1859775393,8),n,r=o(r,10),i,e[0],1859775393,13),d,n=o(n,10),r,e[6],1859775393,6),d=u(d=o(d,10),n=u(n,r=u(r,i,a,d,n,e[13],1859775393,5),i,a=o(a,10),d,e[11],1859775393,12),r,i=o(i,10),a,e[5],1859775393,7),r=l(r=o(r,10),i=l(i,a=u(a,d,n,r,i,e[12],1859775393,5),d,n=o(n,10),r,e[1],2400959708,11),a,d=o(d,10),n,e[9],2400959708,12),a=l(a=o(a,10),d=l(d,n=l(n,r,i,a,d,e[11],2400959708,14),r,i=o(i,10),a,e[10],2400959708,15),n,r=o(r,10),i,e[0],2400959708,14),n=l(n=o(n,10),r=l(r,i=l(i,a,d,n,r,e[8],2400959708,15),a,d=o(d,10),n,e[12],2400959708,9),i,a=o(a,10),d,e[4],2400959708,8),i=l(i=o(i,10),a=l(a,d=l(d,n,r,i,a,e[13],2400959708,9),n,r=o(r,10),i,e[3],2400959708,14),d,n=o(n,10),r,e[7],2400959708,5),d=l(d=o(d,10),n=l(n,r=l(r,i,a,d,n,e[15],2400959708,6),i,a=o(a,10),d,e[14],2400959708,8),r,i=o(i,10),a,e[5],2400959708,6),r=f(r=o(r,10),i=l(i,a=l(a,d,n,r,i,e[6],2400959708,5),d,n=o(n,10),r,e[2],2400959708,12),a,d=o(d,10),n,e[4],2840853838,9),a=f(a=o(a,10),d=f(d,n=f(n,r,i,a,d,e[0],2840853838,15),r,i=o(i,10),a,e[5],2840853838,5),n,r=o(r,10),i,e[9],2840853838,11),n=f(n=o(n,10),r=f(r,i=f(i,a,d,n,r,e[7],2840853838,6),a,d=o(d,10),n,e[12],2840853838,8),i,a=o(a,10),d,e[2],2840853838,13),i=f(i=o(i,10),a=f(a,d=f(d,n,r,i,a,e[10],2840853838,12),n,r=o(r,10),i,e[14],2840853838,5),d,n=o(n,10),r,e[1],2840853838,12),d=f(d=o(d,10),n=f(n,r=f(r,i,a,d,n,e[3],2840853838,13),i,a=o(a,10),d,e[8],2840853838,14),r,i=o(i,10),a,e[11],2840853838,11),r=f(r=o(r,10),i=f(i,a=f(a,d,n,r,i,e[6],2840853838,8),d,n=o(n,10),r,e[15],2840853838,5),a,d=o(d,10),n,e[13],2840853838,6),a=o(a,10);var h=this._a,p=this._b,g=this._c,m=this._d,b=this._e;b=f(b,h=f(h,p,g,m,b,e[5],1352829926,8),p,g=o(g,10),m,e[14],1352829926,9),p=f(p=o(p,10),g=f(g,m=f(m,b,h,p,g,e[7],1352829926,9),b,h=o(h,10),p,e[0],1352829926,11),m,b=o(b,10),h,e[9],1352829926,13),m=f(m=o(m,10),b=f(b,h=f(h,p,g,m,b,e[2],1352829926,15),p,g=o(g,10),m,e[11],1352829926,15),h,p=o(p,10),g,e[4],1352829926,5),h=f(h=o(h,10),p=f(p,g=f(g,m,b,h,p,e[13],1352829926,7),m,b=o(b,10),h,e[6],1352829926,7),g,m=o(m,10),b,e[15],1352829926,8),g=f(g=o(g,10),m=f(m,b=f(b,h,p,g,m,e[8],1352829926,11),h,p=o(p,10),g,e[1],1352829926,14),b,h=o(h,10),p,e[10],1352829926,14),b=l(b=o(b,10),h=f(h,p=f(p,g,m,b,h,e[3],1352829926,12),g,m=o(m,10),b,e[12],1352829926,6),p,g=o(g,10),m,e[6],1548603684,9),p=l(p=o(p,10),g=l(g,m=l(m,b,h,p,g,e[11],1548603684,13),b,h=o(h,10),p,e[3],1548603684,15),m,b=o(b,10),h,e[7],1548603684,7),m=l(m=o(m,10),b=l(b,h=l(h,p,g,m,b,e[0],1548603684,12),p,g=o(g,10),m,e[13],1548603684,8),h,p=o(p,10),g,e[5],1548603684,9),h=l(h=o(h,10),p=l(p,g=l(g,m,b,h,p,e[10],1548603684,11),m,b=o(b,10),h,e[14],1548603684,7),g,m=o(m,10),b,e[15],1548603684,7),g=l(g=o(g,10),m=l(m,b=l(b,h,p,g,m,e[8],1548603684,12),h,p=o(p,10),g,e[12],1548603684,7),b,h=o(h,10),p,e[4],1548603684,6),b=l(b=o(b,10),h=l(h,p=l(p,g,m,b,h,e[9],1548603684,15),g,m=o(m,10),b,e[1],1548603684,13),p,g=o(g,10),m,e[2],1548603684,11),p=u(p=o(p,10),g=u(g,m=u(m,b,h,p,g,e[15],1836072691,9),b,h=o(h,10),p,e[5],1836072691,7),m,b=o(b,10),h,e[1],1836072691,15),m=u(m=o(m,10),b=u(b,h=u(h,p,g,m,b,e[3],1836072691,11),p,g=o(g,10),m,e[7],1836072691,8),h,p=o(p,10),g,e[14],1836072691,6),h=u(h=o(h,10),p=u(p,g=u(g,m,b,h,p,e[6],1836072691,6),m,b=o(b,10),h,e[9],1836072691,14),g,m=o(m,10),b,e[11],1836072691,12),g=u(g=o(g,10),m=u(m,b=u(b,h,p,g,m,e[8],1836072691,13),h,p=o(p,10),g,e[12],1836072691,5),b,h=o(h,10),p,e[2],1836072691,14),b=u(b=o(b,10),h=u(h,p=u(p,g,m,b,h,e[10],1836072691,13),g,m=o(m,10),b,e[0],1836072691,13),p,g=o(g,10),m,e[4],1836072691,7),p=c(p=o(p,10),g=c(g,m=u(m,b,h,p,g,e[13],1836072691,5),b,h=o(h,10),p,e[8],2053994217,15),m,b=o(b,10),h,e[6],2053994217,5),m=c(m=o(m,10),b=c(b,h=c(h,p,g,m,b,e[4],2053994217,8),p,g=o(g,10),m,e[1],2053994217,11),h,p=o(p,10),g,e[3],2053994217,14),h=c(h=o(h,10),p=c(p,g=c(g,m,b,h,p,e[11],2053994217,14),m,b=o(b,10),h,e[15],2053994217,6),g,m=o(m,10),b,e[0],2053994217,14),g=c(g=o(g,10),m=c(m,b=c(b,h,p,g,m,e[5],2053994217,6),h,p=o(p,10),g,e[12],2053994217,9),b,h=o(h,10),p,e[2],2053994217,12),b=c(b=o(b,10),h=c(h,p=c(p,g,m,b,h,e[13],2053994217,9),g,m=o(m,10),b,e[9],2053994217,12),p,g=o(g,10),m,e[7],2053994217,5),p=s(p=o(p,10),g=c(g,m=c(m,b,h,p,g,e[10],2053994217,15),b,h=o(h,10),p,e[14],2053994217,8),m,b=o(b,10),h,e[12],0,8),m=s(m=o(m,10),b=s(b,h=s(h,p,g,m,b,e[15],0,5),p,g=o(g,10),m,e[10],0,12),h,p=o(p,10),g,e[4],0,9),h=s(h=o(h,10),p=s(p,g=s(g,m,b,h,p,e[1],0,12),m,b=o(b,10),h,e[5],0,5),g,m=o(m,10),b,e[8],0,14),g=s(g=o(g,10),m=s(m,b=s(b,h,p,g,m,e[7],0,6),h,p=o(p,10),g,e[6],0,8),b,h=o(h,10),p,e[2],0,13),b=s(b=o(b,10),h=s(h,p=s(p,g,m,b,h,e[13],0,6),g,m=o(m,10),b,e[14],0,5),p,g=o(g,10),m,e[0],0,15),p=s(p=o(p,10),g=s(g,m=s(m,b,h,p,g,e[3],0,13),b,h=o(h,10),p,e[9],0,11),m,b=o(b,10),h,e[11],0,11),m=o(m,10);var v=this._b+i+m|0;this._b=this._c+a+b|0,this._c=this._d+d+h|0,this._d=this._e+n+p|0,this._e=this._a+r+g|0,this._a=v},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=a}).call(this,n(7).Buffer)},function(e,t,n){"use strict";var r=n(413);function i(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,f=0;f<e.length;f+=16){var d=n,h=r,p=i,g=a;r=u(r=u(r=u(r=u(r=c(r=c(r=c(r=c(r=s(r=s(r=s(r=s(r=o(r=o(r=o(r=o(r,i=o(i,a=o(a,n=o(n,r,i,a,e[f+0],7,-680876936),r,i,e[f+1],12,-389564586),n,r,e[f+2],17,606105819),a,n,e[f+3],22,-1044525330),i=o(i,a=o(a,n=o(n,r,i,a,e[f+4],7,-176418897),r,i,e[f+5],12,1200080426),n,r,e[f+6],17,-1473231341),a,n,e[f+7],22,-45705983),i=o(i,a=o(a,n=o(n,r,i,a,e[f+8],7,1770035416),r,i,e[f+9],12,-1958414417),n,r,e[f+10],17,-42063),a,n,e[f+11],22,-1990404162),i=o(i,a=o(a,n=o(n,r,i,a,e[f+12],7,1804603682),r,i,e[f+13],12,-40341101),n,r,e[f+14],17,-1502002290),a,n,e[f+15],22,1236535329),i=s(i,a=s(a,n=s(n,r,i,a,e[f+1],5,-165796510),r,i,e[f+6],9,-1069501632),n,r,e[f+11],14,643717713),a,n,e[f+0],20,-373897302),i=s(i,a=s(a,n=s(n,r,i,a,e[f+5],5,-701558691),r,i,e[f+10],9,38016083),n,r,e[f+15],14,-660478335),a,n,e[f+4],20,-405537848),i=s(i,a=s(a,n=s(n,r,i,a,e[f+9],5,568446438),r,i,e[f+14],9,-1019803690),n,r,e[f+3],14,-187363961),a,n,e[f+8],20,1163531501),i=s(i,a=s(a,n=s(n,r,i,a,e[f+13],5,-1444681467),r,i,e[f+2],9,-51403784),n,r,e[f+7],14,1735328473),a,n,e[f+12],20,-1926607734),i=c(i,a=c(a,n=c(n,r,i,a,e[f+5],4,-378558),r,i,e[f+8],11,-2022574463),n,r,e[f+11],16,1839030562),a,n,e[f+14],23,-35309556),i=c(i,a=c(a,n=c(n,r,i,a,e[f+1],4,-1530992060),r,i,e[f+4],11,1272893353),n,r,e[f+7],16,-155497632),a,n,e[f+10],23,-1094730640),i=c(i,a=c(a,n=c(n,r,i,a,e[f+13],4,681279174),r,i,e[f+0],11,-358537222),n,r,e[f+3],16,-722521979),a,n,e[f+6],23,76029189),i=c(i,a=c(a,n=c(n,r,i,a,e[f+9],4,-640364487),r,i,e[f+12],11,-421815835),n,r,e[f+15],16,530742520),a,n,e[f+2],23,-995338651),i=u(i,a=u(a,n=u(n,r,i,a,e[f+0],6,-198630844),r,i,e[f+7],10,1126891415),n,r,e[f+14],15,-1416354905),a,n,e[f+5],21,-57434055),i=u(i,a=u(a,n=u(n,r,i,a,e[f+12],6,1700485571),r,i,e[f+3],10,-1894986606),n,r,e[f+10],15,-1051523),a,n,e[f+1],21,-2054922799),i=u(i,a=u(a,n=u(n,r,i,a,e[f+8],6,1873313359),r,i,e[f+15],10,-30611744),n,r,e[f+6],15,-1560198380),a,n,e[f+13],21,1309151649),i=u(i,a=u(a,n=u(n,r,i,a,e[f+4],6,-145523070),r,i,e[f+11],10,-1120210379),n,r,e[f+2],15,718787259),a,n,e[f+9],21,-343485551),n=l(n,d),r=l(r,h),i=l(i,p),a=l(a,g)}return[n,r,i,a]}function a(e,t,n,r,i,a){return l((o=l(l(t,e),l(r,a)))<<(s=i)|o>>>32-s,n);var o,s}function o(e,t,n,r,i,o,s){return a(t&n|~t&r,e,t,i,o,s)}function s(e,t,n,r,i,o,s){return a(t&r|n&~r,e,t,i,o,s)}function c(e,t,n,r,i,o,s){return a(t^n^r,e,t,i,o,s)}function u(e,t,n,r,i,o,s){return a(n^(t|~r),e,t,i,o,s)}function l(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}e.exports=function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(3).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(3),i=n(11),a=n(50),o=n(77),s=n(18),c=n(42),u=n(4),l=n(44),f=n(31),d=n(9),h=n(171),p=n(46).f,g=n(10).f,m=n(106),b=n(58),v="prototype",y="Wrong index!",_=r.ArrayBuffer,w=r.DataView,S=r.Math,M=r.RangeError,E=r.Infinity,A=_,k=S.abs,I=S.pow,O=S.floor,x=S.log,P=S.LN2,C=i?"_b":"buffer",j=i?"_l":"byteLength",R=i?"_o":"byteOffset";function D(e,t,n){var r,i,a,o=new Array(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?I(2,-24)-I(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=k(e))!=e||e===E?(i=e!=e?1:0,r=c):(r=O(x(e)/P),e*(a=I(2,-r))<1&&(r--,a*=2),(e+=r+u>=1?l/a:l*I(2,1-u))*a>=2&&(r++,a/=2),r+u>=c?(i=0,r=c):r+u>=1?(i=(e*a-1)*I(2,t),r+=u):(i=e*I(2,u-1)*I(2,t),r=0));t>=8;o[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;o[f++]=255&r,r/=256,s-=8);return o[--f]|=128*d,o}function B(e,t,n){var r,i=8*n-t-1,a=(1<<i)-1,o=a>>1,s=i-7,c=n-1,u=e[c--],l=127&u;for(u>>=7;s>0;l=256*l+e[c],c--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[c],c--,s-=8);if(0===l)l=1-o;else{if(l===a)return r?NaN:u?-E:E;r+=I(2,t),l-=o}return(u?-1:1)*r*I(2,l-t)}function N(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function T(e){return[255&e]}function L(e){return[255&e,e>>8&255]}function $(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function U(e){return D(e,52,8)}function F(e){return D(e,23,4)}function z(e,t,n){g(e[v],t,{get:function(){return this[n]}})}function q(e,t,n,r){var i=h(+n);if(i+t>e[j])throw M(y);var a=e[C]._b,o=i+e[R],s=a.slice(o,o+t);return r?s:s.reverse()}function V(e,t,n,r,i,a){var o=h(+n);if(o+t>e[j])throw M(y);for(var s=e[C]._b,c=o+e[R],u=r(+i),l=0;l<t;l++)s[c+l]=u[a?l:t-l-1]}if(o.ABV){if(!u(function(){_(1)})||!u(function(){new _(-1)})||u(function(){return new _,new _(1.5),new _(NaN),"ArrayBuffer"!=_.name})){for(var H,K=(_=function(e){return l(this,_),new A(h(e))})[v]=A[v],G=p(A),W=0;G.length>W;)(H=G[W++])in _||s(_,H,A[H]);a||(K.constructor=_)}var Y=new w(new _(2)),J=w[v].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||c(w[v],{setInt8:function(e,t){J.call(this,e,t<<24>>24)},setUint8:function(e,t){J.call(this,e,t<<24>>24)}},!0)}else _=function(e){l(this,_,"ArrayBuffer");var t=h(e);this._b=m.call(new Array(t),0),this[j]=t},w=function(e,t,n){l(this,w,"DataView"),l(e,_,"DataView");var r=e[j],i=f(t);if(i<0||i>r)throw M("Wrong offset!");if(i+(n=void 0===n?r-i:d(n))>r)throw M("Wrong length!");this[C]=e,this[R]=i,this[j]=n},i&&(z(_,"byteLength","_l"),z(w,"buffer","_b"),z(w,"byteLength","_l"),z(w,"byteOffset","_o")),c(w[v],{getInt8:function(e){return q(this,1,e)[0]<<24>>24},getUint8:function(e){return q(this,1,e)[0]},getInt16:function(e){var t=q(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=q(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return N(q(this,4,e,arguments[1]))},getUint32:function(e){return N(q(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return B(q(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return B(q(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){V(this,1,e,T,t)},setUint8:function(e,t){V(this,1,e,T,t)},setInt16:function(e,t){V(this,2,e,L,t,arguments[2])},setUint16:function(e,t){V(this,2,e,L,t,arguments[2])},setInt32:function(e,t){V(this,4,e,$,t,arguments[2])},setUint32:function(e,t){V(this,4,e,$,t,arguments[2])},setFloat32:function(e,t){V(this,4,e,F,t,arguments[2])},setFloat64:function(e,t){V(this,8,e,U,t,arguments[2])}});b(_,"ArrayBuffer"),b(w,"DataView"),s(w[v],o.VIEW,!0),t.ArrayBuffer=_,t.DataView=w},function(e,t,n){"use strict";var r=n(14);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){"use strict";var r=n(3),i=n(104).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,c="process"==n(26)(o);e.exports=function(){var e,t,n,u=function(){var r,i;for(c&&(r=o.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){o.nextTick(u)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve();n=function(){l.then(u)}}else n=function(){i.call(r,u)};else{var f=!0,d=document.createTextNode("");new a(u).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";var r,i,a,o=n(27),s=n(190),c=n(122),u=n(126),l=n(3),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,m=0,b={},v=function(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},y=function(e){v.call(e.data)};d&&h||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},h=function(e){delete b[e]},"process"==n(26)(f)?r=function(e){f.nextTick(o(v,e,1))}:g&&g.now?r=function(e){g.now(o(v,e,1))}:p?(a=(i=new p).port2,i.port1.onmessage=y,r=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",y,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),v.call(e)}}:function(e){setTimeout(o(v,e,1),0)}),e.exports={set:d,clear:h}},function(e,t,n){"use strict";var r=n(39),i=n(180),a=n(56),o=n(23);e.exports=n(114)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var r=n(13),i=n(48),a=n(9);e.exports=function(e){for(var t=r(this),n=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,u=void 0===c?n:i(c,n);u>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(528);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var r=n(65),i=n(8)("iterator"),a=n(56);e.exports=n(34).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t,n){"use strict";var r=n(10),i=n(52);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){"use strict";var r=n(56),i=n(8)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,t,n){"use strict";var r=n(8)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){"use strict";var r=n(83),i=n(32);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){"use strict";var r=n(47),i=n(52),a=n(58),o={};n(18)(o,n(8)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(50),i=n(0),a=n(17),o=n(18),s=n(19),c=n(56),u=n(113),l=n(58),f=n(21),d=n(8)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,g,m,b,v){u(n,t,g);var y,_,w,S=function(e){if(!h&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},M=t+" Iterator",E="values"==m,A=!1,k=e.prototype,I=k[d]||k["@@iterator"]||m&&k[m],O=!h&&I||S(m),x=m?E?S("entries"):O:void 0,P="Array"==t&&k.entries||I;if(P&&(w=f(P.call(new e)))!==Object.prototype&&w.next&&(l(w,M,!0),r||s(w,d)||o(w,d,p)),E&&I&&"values"!==I.name&&(A=!0,O=function(){return I.call(this)}),r&&!v||!h&&!A&&k[d]||o(k,d,O),c[t]=O,c[M]=p,m)if(y={values:E?O:S("values"),keys:b?O:S("keys"),entries:x},v)for(_ in y)_ in k||a(k,_,y[_]);else i(i.P+i.F*(h||A),t,y);return y}},function(e,t,n){"use strict";var r=n(31),i=n(32);e.exports=function(e){return function(t,n){var a,o,s=String(i(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===u||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):a:e?s.slice(c,c+2):o-56320+(a-55296<<10)+65536}}},function(e,t,n){"use strict";var r=Math.expm1;e.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},function(e,t,n){"use strict";e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){"use strict";var r=n(31),i=n(32);e.exports=function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t,n){"use strict";var r=n(6),i=n(121).set;e.exports=function(e,t,n){var a,o=t.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&r(a)&&i&&i(e,a),e}},function(e,t,n){"use strict";e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(6),i=n(2),a=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(27)(Function.call,n(22).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},function(e,t,n){"use strict";var r=n(3).document;e.exports=r&&r.documentElement},function(e,t,n){"use strict";e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){"use strict";var r=n(87)("keys"),i=n(51);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){"use strict";var r=n(3),i=n(34),a=n(50),o=n(196),s=n(10).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,n){"use strict";var r=n(6),i=n(3).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,c){function u(r){e.node=r,e.loaded=!0;var i=o.getManager(e.node),a=parseInt(n.id,10);i.getItem(a).then(function(n){e.result=n,e.get_result_data(e.output),e.resultLoaded=!0,t.title=e.node.fqdn+" - "+e.result.name})}t.title="Loading...",e.loaded=!1,e.resultLoaded=!1,e.node=null,e.output="combined",e.result=null,e.get_result_data=function(t){e.output=t,e.data="Loading...",o.getManager(e.node).get_result_data(e.result.id,e.output).then(function(t){e.data=""===t?"Empty file.":t})},e.$watch("node.fqdn",function(){angular.isObject(e.node)&&angular.isObject(e.result)&&(t.title=e.node.fqdn+" - "+e.result.name)}),-1!==r.path().indexOf("/controller")?(e.nodesManager=a,e.type_name="controller",t.page="controllers"):(e.nodesManager=i,e.type_name="machine",t.page="machines"),s.loadManager(e,e.nodesManager).then(function(){var t=e.nodesManager.getActiveItem();angular.isObject(t)&&t.system_id===n.system_id?u(t):e.nodesManager.setActiveItem(n.system_id).then(function(e){u(e)},function(e){c.raiseError(e)})}),e.$on("$destroy",function(){var t=o.getManager(e.node);angular.isObject(t)&&t.destroy()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","$rootScope","$routeParams","$location","MachinesManager","ControllersManager","NodeResultsManagerFactory","ManagerHelperService","ErrorService"];var i=r;t.default=i},function(e,t,n){"use strict";(function(e,r){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(a,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<i;s=r[++n])m(s)||!w(s)?o+=" "+s:o+=" "+c(s);return o},t.deprecate=function(n,i){if(y(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var a=!1;return function(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}};var o,s={};function c(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),f(r,e,r.depth)}function u(e,t){var n=c.styles[t];return n?"["+c.colors[n][0]+"m"+e+"["+c.colors[n][1]+"m":e}function l(e,t){return e}function f(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=f(e,i,r)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(b(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(a)return a;var o=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),M(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(n);if(0===o.length){if(E(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(_(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(M(n))return d(n)}var u,l="",w=!1,A=["{","}"];(p(n)&&(w=!0,A=["[","]"]),E(n))&&(l=" [Function"+(n.name?": "+n.name:"")+"]");return _(n)&&(l=" "+RegExp.prototype.toString.call(n)),S(n)&&(l=" "+Date.prototype.toUTCString.call(n)),M(n)&&(l=" "+d(n)),0!==o.length||w&&0!=n.length?r<0?_(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=w?function(e,t,n,r,i){for(var a=[],o=0,s=t.length;o<s;++o)O(t,String(o))?a.push(h(e,t,n,r,String(o),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(h(e,t,n,r,i,!0))}),a}(e,n,r,s,o):o.map(function(t){return h(e,n,r,s,t,w)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,l,A)):A[0]+l+A[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,a){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),O(r,i)||(o="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?f(e,c.value,null):f(e,c.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function b(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function _(e){return w(e)&&"[object RegExp]"===A(e)}function w(e){return"object"===i(e)&&null!==e}function S(e){return w(e)&&"[object Date]"===A(e)}function M(e){return w(e)&&("[object Error]"===A(e)||e instanceof Error)}function E(e){return"function"==typeof e}function A(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(o)&&(o=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;s[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else s[e]=function(){};return s[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=g,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=v,t.isSymbol=function(e){return"symbol"===i(e)},t.isUndefined=y,t.isRegExp=_,t.isObject=w,t.isDate=S,t.isError=M,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===i(e)||void 0===e},t.isBuffer=n(323);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[k(e.getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":"),[e.getDate(),I[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(322),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(24),n(35))},function(e,t,n){"use strict";(function(t){var r=n(12);e.exports=function(e,n){return new t(e.toRed(r.mont(n.modulus)).redPow(new r(n.publicExponent)).fromRed().toArray())}}).call(this,n(7).Buffer)},function(e,t,n){"use strict";e.exports=function(e,t){for(var n=e.length,r=-1;++r<n;)e[r]^=t[r];return e}},function(e,t,n){"use strict";(function(t){var r=n(64);function i(e){var n=new t(4);return n.writeUInt32BE(e,0),n}e.exports=function(e,n){for(var a,o=new t(""),s=0;o.length<n;)a=i(s++),o=t.concat([o,r("sha1").update(e).update(a).digest()]);return o.slice(0,n)}}).call(this,n(7).Buffer)},function(e){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(e,t,n){"use strict";var r=n(1),i=n(7).Buffer,a=n(60),o=a.base,s=a.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){o.Node.call(this,"der",e)}function l(e){return e<10?"0"+e:e}e.exports=c,c.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(u,o.Node),u.prototype._encodeComposite=function(e,t,n,r){var a,o=function(e,t,n,r){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(s.tagByName.hasOwnProperty(e))i=s.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);i=e}if(i>=31)return r.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=s.tagClassByName[n||"universal"]<<6}(e,t,n,this.reporter);if(r.length<128)return(a=new i(2))[0]=o,a[1]=r.length,this._createEncoderBuffer([a,r]);for(var c=1,u=r.length;u>=256;u>>=8)c++;(a=new i(2+c))[0]=o,a[1]=128|c;u=1+c;for(var l=r.length;l>0;u--,l>>=8)a[u]=255&l;return this._createEncoderBuffer([a,r])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new i(2*e.length),r=0;r<e.length;r++)n.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(r=0;r<e.length;r++)e[r]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var a=0;for(r=0;r<e.length;r++){var o=e[r];for(a++;o>=128;o>>=7)a++}var s=new i(a),c=s.length-1;for(r=e.length-1;r>=0;r--){o=e[r];for(s[c--]=127&o;(o>>=7)>0;)s[c--]=128|127&o}return this._createEncoderBuffer(s)},u.prototype._encodeTime=function(e,t){var n,r=new Date(e);return"gentime"===t?n=[l(r.getFullYear()),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[l(r.getFullYear()%100),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new i(n)}if(i.isBuffer(e)){var r=e.length;0===e.length&&r++;var a=new i(r);return e.copy(a),0===e.length&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);r=1;for(var o=e;o>=256;o>>=8)r++;for(o=(a=new Array(r)).length-1;o>=0;o--)a[o]=255&e,e>>=8;return 128&a[0]&&a.unshift(0),this._createEncoderBuffer(new i(a))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,n){var r,i=this._baseState;if(null===i.default)return!1;var a=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,n).join()),a.length!==i.defaultBuffer.length)return!1;for(r=0;r<a.length;r++)if(a[r]!==i.defaultBuffer[r])return!1;return!0}},function(e,t,n){"use strict";var r=n(1),i=n(60),a=i.base,o=i.bignum,s=i.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){a.Node.call(this,"der",e)}function l(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var r=s.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){var a=n;for(n=0;128==(128&a);){if(a=e.readUInt8(t),e.isError(a))return a;n<<=7,n|=127&a}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:s.tag[n]}}function f(e,t,n){var r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0==(128&r))return r;var i=127&r;if(i>4)return e.error("length octect is too long");r=0;for(var a=0;a<i;a++){r<<=8;var o=e.readUInt8(n);if(e.isError(o))return o;r|=o}return r}e.exports=c,c.prototype.decode=function(e,t){return e instanceof a.DecoderBuffer||(e=new a.DecoderBuffer(e,t)),this.tree._decode(e,t)},r(u,a.Node),u.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var r=e.save(),i=l(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(r),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},u.prototype._decodeTag=function(e,t,n){var r=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var i=f(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var a=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(i=e.offset-a.offset,e.restore(a),e.skip(i,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){var n=l(e,t);if(e.isError(n))return n;var r,i=f(e,n.primitive,t);if(e.isError(i))return i;if(r=n.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(r))return r;if("end"===n.tagStr)break}},u.prototype._decodeList=function(e,t,n,r){for(var i=[];!e.isEmpty();){var a=this._peekTag(e,"end");if(e.isError(a))return a;var o=n.decode(e,"der",r);if(e.isError(o)&&a)break;i.push(o)}return i},u.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",a=0;a<r.length/2;a++)i+=String.fromCharCode(r.readUInt16BE(2*a));return i}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,n){for(var r,i=[],a=0;!e.isEmpty();){var o=e.readUInt8();a<<=7,a|=127&o,0==(128&o)&&(i.push(a),a=0)}128&o&&i.push(a);var s=i[0]/40|0,c=i[0]%40;if(r=n?i:[s,c].concat(i.slice(1)),t){var u=t[r.join(" ")];void 0===u&&(u=t[r.join(".")]),void 0!==u&&(r=u)}return r},u.prototype._decodeTime=function(e,t){var n=e.raw().toString();if("gentime"===t)var r=0|n.slice(0,4),i=0|n.slice(4,6),a=0|n.slice(6,8),o=0|n.slice(8,10),s=0|n.slice(10,12),c=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|n.slice(0,2),i=0|n.slice(2,4),a=0|n.slice(4,6),o=0|n.slice(6,8),s=0|n.slice(8,10),c=0|n.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,a,o,s,c,0)},u.prototype._decodeNull=function(e){return null},u.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){var n=e.raw(),r=new o(n);return t&&(r=t[r.toString(10)]||r),r},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e,t,n){"use strict";var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach(function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n}),t},r.der=n(340)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(1),a=n(59).Reporter,o=n(7).Buffer;function s(e,t){a.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function c(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof c||(e=new c(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+r(e));this.value=e,this.length=e.length}}i(s,a),t.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},s.prototype.restore=function(e){var t=new s(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,a.prototype.restore.call(this,e.reporter),t},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},s.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new s(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},s.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=c,c.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,t),t+=n.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},function(e,t,n){"use strict";var r=n(28),i=n(61),a=n(20),o=r.rotr64_hi,s=r.rotr64_lo,c=r.shr64_hi,u=r.shr64_lo,l=r.sum64,f=r.sum64_hi,d=r.sum64_lo,h=r.sum64_4_hi,p=r.sum64_4_lo,g=r.sum64_5_hi,m=r.sum64_5_lo,b=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function _(e,t,n,r,i){var a=e&n^~e&i;return a<0&&(a+=4294967296),a}function w(e,t,n,r,i,a){var o=t&r^~t&a;return o<0&&(o+=4294967296),o}function S(e,t,n,r,i){var a=e&n^e&i^n&i;return a<0&&(a+=4294967296),a}function M(e,t,n,r,i,a){var o=t&r^t&a^r&a;return o<0&&(o+=4294967296),o}function E(e,t){var n=o(e,t,28)^o(t,e,2)^o(t,e,7);return n<0&&(n+=4294967296),n}function A(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function k(e,t){var n=o(e,t,14)^o(e,t,18)^o(t,e,9);return n<0&&(n+=4294967296),n}function I(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function O(e,t){var n=o(e,t,1)^o(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function x(e,t){var n=s(e,t,1)^s(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function P(e,t){var n=o(e,t,19)^o(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}function C(e,t){var n=s(e,t,19)^s(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(y,b),e.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=P(n[r-4],n[r-3]),a=C(n[r-4],n[r-3]),o=n[r-14],s=n[r-13],c=O(n[r-30],n[r-29]),u=x(n[r-30],n[r-29]),l=n[r-32],f=n[r-31];n[r]=h(i,a,o,s,c,u,l,f),n[r+1]=p(i,a,o,s,c,u,l,f)}},y.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],p=this.h[7],b=this.h[8],v=this.h[9],y=this.h[10],O=this.h[11],x=this.h[12],P=this.h[13],C=this.h[14],j=this.h[15];a(this.k.length===n.length);for(var R=0;R<n.length;R+=2){var D=C,B=j,N=k(b,v),T=I(b,v),L=_(b,v,y,O,x),$=w(b,v,y,O,x,P),U=this.k[R],F=this.k[R+1],z=n[R],q=n[R+1],V=g(D,B,N,T,L,$,U,F,z,q),H=m(D,B,N,T,L,$,U,F,z,q);D=E(r,i),B=A(r,i),N=S(r,i,o,s,c),T=M(r,i,o,s,c,u);var K=f(D,B,N,T),G=d(D,B,N,T);C=x,j=P,x=y,P=O,y=b,O=v,b=f(h,p,V,H),v=d(p,p,V,H),h=c,p=u,c=o,u=s,o=r,s=i,r=f(V,H,K,G),i=d(V,H,K,G)}l(this.h,0,r,i),l(this.h,2,o,s),l(this.h,4,c,u),l(this.h,6,h,p),l(this.h,8,b,v),l(this.h,10,y,O),l(this.h,12,x,P),l(this.h,14,C,j)},y.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(28),i=n(61),a=n(139),o=n(20),s=r.sum32,c=r.sum32_4,u=r.sum32_5,l=a.ch32,f=a.maj32,d=a.s0_256,h=a.s1_256,p=a.g0_256,g=a.g1_256,m=i.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}r.inherits(v,m),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=c(g(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],a=this.h[1],m=this.h[2],b=this.h[3],v=this.h[4],y=this.h[5],_=this.h[6],w=this.h[7];for(o(this.k.length===n.length),r=0;r<n.length;r++){var S=u(w,h(v),l(v,y,_),this.k[r],n[r]),M=s(d(i),f(i,a,m));w=_,_=y,y=v,v=s(b,S),b=m,m=a,a=i,i=s(S,M)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],m),this.h[3]=s(this.h[3],b),this.h[4]=s(this.h[4],v),this.h[5]=s(this.h[5],y),this.h[6]=s(this.h[6],_),this.h[7]=s(this.h[7],w)},v.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(28).rotr32;function i(e,t,n){return e&t^~e&n}function a(e,t,n){return e&t^e&n^t&n}function o(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?o(t,n,r):2===e?a(t,n,r):void 0},t.ch32=i,t.maj32=a,t.p32=o,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},function(e,t,n){"use strict";var r=t;function i(e){return 1===e.length?"0"+e:e}function a(e){for(var t="",n=0;n<e.length;n++)t+=i(e[n].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16));else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),a=i>>8,o=255&i;a?n.push(a,o):n.push(o)}return n},r.zero2=i,r.toHex=a,r.encode=function(e,t){return"hex"===t?a(e):e}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i;function a(e){this.rand=e}if(e.exports=function(e){return i||(i=new a(null)),i.generate(e)},e.exports.Rand=a,a.prototype.generate=function(e){return this._rand(e)},a.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"===("undefined"==typeof self?"undefined":r(self)))self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===("undefined"==typeof window?"undefined":r(window))&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(372);if("function"!=typeof o.randomBytes)throw new Error("Not supported");a.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},function(e,t,n){"use strict";var r=n(12),i=n(141);function a(e){this.rand=e||new i.Rand}e.exports=a,a.create=function(e){return new a(e)},a.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(e)>=0);return i},a.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},a.prototype.test=function(e,t,n){var i=e.bitLength(),a=r.mont(e),o=new r(1).toRed(a);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),c=0;!s.testn(c);c++);for(var u=e.shrn(c),l=s.toRed(a);t>0;t--){var f=this._randrange(new r(2),s);n&&n(f);var d=f.toRed(a).redPow(u);if(0!==d.cmp(o)&&0!==d.cmp(l)){for(var h=1;h<c;h++){if(0===(d=d.redSqr()).cmp(o))return!1;if(0===d.cmp(l))break}if(h===c)return!1}}return!0},a.prototype.getDivisor=function(e,t){var n=e.bitLength(),i=r.mont(e),a=new r(1).toRed(i);t||(t=Math.max(1,n/48|0));for(var o=e.subn(1),s=0;!o.testn(s);s++);for(var c=e.shrn(s),u=o.toRed(i);t>0;t--){var l=this._randrange(new r(2),o),f=e.gcd(l);if(0!==f.cmpn(1))return f;var d=l.toRed(i).redPow(c);if(0!==d.cmp(a)&&0!==d.cmp(u)){for(var h=1;h<s;h++){if(0===(d=d.redSqr()).cmp(a))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(u))break}if(h===s)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,n){"use strict";var r=n(54);e.exports=v,v.simpleSieve=m,v.fermatTest=b;var i=n(12),a=new i(24),o=new(n(142)),s=new i(1),c=new i(2),u=new i(5),l=(new i(16),new i(8),new i(10)),f=new i(3),d=(new i(7),new i(11)),h=new i(4),p=(new i(12),null);function g(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<t&&e[i]<=r&&n%e[i]!=0;i++);t!==i&&e[i]<=r||(e[t++]=n)}return p=e,e}function m(e){for(var t=g(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function b(e){var t=i.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function v(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var n,p;for(t=new i(t);;){for(n=new i(r(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(c),t.cmp(c)){if(!t.cmp(u))for(;n.mod(l).cmp(f);)n.iadd(h)}else for(;n.mod(a).cmp(d);)n.iadd(h);if(m(p=n.shrn(1))&&m(n)&&b(p)&&b(n)&&o.test(p)&&o.test(n))return n}}},function(e,t,n){"use strict";var r=n(70),i=n(5).Buffer,a=n(38);function o(e,t,n,o){a.call(this),this._cipher=new r.AES(t),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=o,this._mode=e}n(1)(o,a),o.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},e.exports=o},function(e,t,n){"use strict";var r=n(70),i=n(5).Buffer,a=n(38),o=n(1),s=n(383),c=n(62),u=n(147);function l(e,t,n,o){a.call(this);var c=i.alloc(4,0);this._cipher=new r.AES(t);var l=this._cipher.encryptBlock(c);this._ghash=new s(l),n=function(e,t,n){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var r=new s(n),a=t.length,o=a%16;r.update(t),o&&(o=16-o,r.update(i.alloc(o,0))),r.update(i.alloc(8,0));var c=8*a,l=i.alloc(8);l.writeUIntBE(c,0,8),r.update(l),e._finID=r.state;var f=i.from(e._finID);return u(f),f}(this,n,l),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}o(l,a),l.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var r=Math.min(e.length,t.length),i=0;i<r;++i)n+=e[i]^t[i];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},l.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=l},function(e){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},function(e,t,n){"use strict";var r=n(62),i=n(5).Buffer,a=n(147);function o(e){var t=e._cipher.encryptBlockRaw(e._prev);return a(e._prev),t}t.encrypt=function(e,t){var n=Math.ceil(t.length/16),a=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var c=o(e),u=a+16*s;e._cache.writeUInt32BE(c[0],u+0),e._cache.writeUInt32BE(c[1],u+4),e._cache.writeUInt32BE(c[2],u+8),e._cache.writeUInt32BE(c[3],u+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,l)}},function(e,t,n){"use strict";var r=n(99),i=n(98),a=n(93),o=n(151),s=n(150),c=n(5).Buffer,u=c.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(e,t,n){var o=function(e){return"rmd160"===e||"ripemd160"===e?i:"md5"===e?r:function(t){return a(e).update(t).digest()}}(e),s="sha512"===e||"sha384"===e?128:64;t.length>s?t=o(t):t.length<s&&(t=c.concat([t,u],s));for(var f=c.allocUnsafe(s+l[e]),d=c.allocUnsafe(s+l[e]),h=0;h<s;h++)f[h]=54^t[h],d[h]=92^t[h];var p=c.allocUnsafe(s+n+4);f.copy(p,0,0,s),this.ipad1=p,this.ipad2=f,this.opad=d,this.alg=e,this.blocksize=s,this.hash=o,this.size=l[e]}f.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,n,r,i){c.isBuffer(e)||(e=c.from(e,s)),c.isBuffer(t)||(t=c.from(t,s)),o(n,r);var a=new f(i=i||"sha1",e,t.length),u=c.allocUnsafe(r),d=c.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var h=0,p=l[i],g=Math.ceil(r/p),m=1;m<=g;m++){d.writeUInt32BE(m,t.length);for(var b=a.run(d,a.ipad1),v=b,y=1;y<n;y++){v=a.run(v,a.ipad2);for(var _=0;_<p;_++)b[_]^=v[_]}b.copy(u,h),h+=p}return u}},function(e,t,n){"use strict";(function(t){var n;t.browser?n="utf-8":n=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";e.exports=n}).call(this,n(35))},function(e,t,n){"use strict";var r=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>r||t!=t)throw new TypeError("Bad key length")}},function(e,t,n){"use strict";t.pbkdf2=n(394),t.pbkdf2Sync=n(149)},function(e){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(e,t,n){"use strict";var r=n(1),i=n(396),a=n(38),o=n(5).Buffer,s=n(99),c=n(98),u=n(93),l=o.alloc(128);function f(e,t){a.call(this,"digest"),"string"==typeof t&&(t=o.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new c:u(e)).update(t).digest():t.length<n&&(t=o.concat([t,l],n));for(var r=this._ipad=o.allocUnsafe(n),i=this._opad=o.allocUnsafe(n),s=0;s<n;s++)r[s]=54^t[s],i[s]=92^t[s];this._hash="rmd160"===e?new c:u(e),this._hash.update(r)}r(f,a),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new f("rmd160",t):"md5"===e?new i(s,t):new f(e,t)}},function(e,t,n){"use strict";var r=n(1),i=n(53),a=n(5).Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,i.call(this,128,112)}function u(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function b(e,t){return e>>>0<t>>>0?1:0}r(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,a=0|this._dh,s=0|this._eh,c=0|this._fh,v=0|this._gh,y=0|this._hh,_=0|this._al,w=0|this._bl,S=0|this._cl,M=0|this._dl,E=0|this._el,A=0|this._fl,k=0|this._gl,I=0|this._hl,O=0;O<32;O+=2)t[O]=e.readInt32BE(4*O),t[O+1]=e.readInt32BE(4*O+4);for(;O<160;O+=2){var x=t[O-30],P=t[O-30+1],C=h(x,P),j=p(P,x),R=g(x=t[O-4],P=t[O-4+1]),D=m(P,x),B=t[O-14],N=t[O-14+1],T=t[O-32],L=t[O-32+1],$=j+N|0,U=C+B+b($,j)|0;U=(U=U+R+b($=$+D|0,D)|0)+T+b($=$+L|0,L)|0,t[O]=U,t[O+1]=$}for(var F=0;F<160;F+=2){U=t[F],$=t[F+1];var z=l(n,r,i),q=l(_,w,S),V=f(n,_),H=f(_,n),K=d(s,E),G=d(E,s),W=o[F],Y=o[F+1],J=u(s,c,v),X=u(E,A,k),Z=I+G|0,Q=y+K+b(Z,I)|0;Q=(Q=(Q=Q+J+b(Z=Z+X|0,X)|0)+W+b(Z=Z+Y|0,Y)|0)+U+b(Z=Z+$|0,$)|0;var ee=H+q|0,te=V+z+b(ee,H)|0;y=v,I=k,v=c,k=A,c=s,A=E,s=a+Q+b(E=M+Z|0,M)|0,a=i,M=S,i=r,S=w,r=n,w=_,n=Q+te+b(_=Z+ee|0,Z)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+S|0,this._dl=this._dl+M|0,this._el=this._el+E|0,this._fl=this._fl+A|0,this._gl=this._gl+k|0,this._hl=this._hl+I|0,this._ah=this._ah+n+b(this._al,_)|0,this._bh=this._bh+r+b(this._bl,w)|0,this._ch=this._ch+i+b(this._cl,S)|0,this._dh=this._dh+a+b(this._dl,M)|0,this._eh=this._eh+s+b(this._el,E)|0,this._fh=this._fh+c+b(this._fl,A)|0,this._gh=this._gh+v+b(this._gl,k)|0,this._hh=this._hh+y+b(this._hl,I)|0},c.prototype._hash=function(){var e=a.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},function(e,t,n){"use strict";var r=n(1),i=n(53),a=n(5).Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,c=0|this._e,p=0|this._f,g=0|this._g,m=0|this._h,b=0;b<16;++b)n[b]=e.readInt32BE(4*b);for(;b<64;++b)n[b]=0|(((t=n[b-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[b-7]+h(n[b-15])+n[b-16];for(var v=0;v<64;++v){var y=m+d(c)+u(c,p,g)+o[v]+n[v]|0,_=f(r)+l(r,i,a)|0;m=g,g=p,p=c,c=s+y|0,s=a,a=i,i=r,r=y+_|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=g+this._g|0,this._h=m+this._h|0},c.prototype._hash=function(){var e=a.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},function(e,t,n){"use strict";e.exports=a;var r=n(41),i=n(63);function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){s(e,t,n)}):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(1),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";var r=n(72);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";e.exports=n(97).EventEmitter},function(e,t,n){"use strict";(function(t,r){var i=n(72);e.exports=y;var a,o=n(161);y.ReadableState=v;n(97).EventEmitter;var s=function(e,t){return e.listeners(t).length},c=n(159),u=n(5).Buffer,l=t.Uint8Array||function(){};var f=n(63);f.inherits=n(1);var d=n(411),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=n(410),m=n(158);f.inherits(y,c);var b=["error","close","destroy","pause","resume"];function v(e,t){a=a||n(41),e=e||{};var r=t instanceof a;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(94).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(a=a||n(41),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function _(e,t,n,r,i){var a,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,E(e)}(e,o)):(i||(a=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?w(e,o,t,!1):k(e,o)):w(e,o,t,!1))):r||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&E(e)),k(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},y.prototype.unshift=function(e){return _(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(94).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function M(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(A,e):A(e))}function A(e){h("emit readable"),e.emit("readable"),P(e)}function k(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(I,e,t))}function I(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){h("readable nexttick read 0"),e.read(0)}function x(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0===(e-=o)){o===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0===(e-=o)){o===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function j(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):E(this),null;if(0===(e=M(e,t))&&t.ended)return 0===t.length&&j(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=M(n,t))),null===(r=e>0?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,h("pipe count=%d opts=%j",a.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:y;function u(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",b),e.removeListener("finish",v),e.removeListener("drain",f),e.removeListener("error",m),e.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",g),d=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function l(){h("onend"),e.end()}a.endEmitted?i.nextTick(c):n.once("end",c),e.on("unpipe",u);var f=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,P(e))}}(n);e.on("drain",f);var d=!1;var p=!1;function g(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==D(a.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(t){h("onerror",t),y(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",v),y()}function v(){h("onfinish"),e.removeListener("close",b),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",g),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",b),e.once("finish",v),e.emit("pipe",n),a.flowing||(h("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var o=D(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},y.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):i.nextTick(O,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(x,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<b.length;a++)e.on(b[a],this.emit.bind(this,b[a]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},y._fromList=C}).call(this,n(24),n(35))},function(e,t,n){"use strict";var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var o,s=n(418);if("undefined"==typeof window){var c=n(128);o=c.TextDecoder}else o=window.TextDecoder;var u=function(e){return btoa(JSON.stringify(e))},l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this._onSuccess=t.onSuccess||function(){},this._sendRequest=t.sendRequest||h,this.storage=t.storage||new f(new d),this._visitPage=t.visitPage||function(e){window.open(e.Info.VisitURL,"Login")},this._dischargeDisabled=!1}return a(e,[{key:"sendRequest",value:function(e,t,n,r,i){t=t.toLowerCase();var a=this._wrapCallback(e,t,n,r,i),o={"Bakery-Protocol-Version":1},s=this.storage.get(e);s&&(o.Macaroons=s),Object.keys(n||{}).forEach(function(e){var t=n[e];o[e]=t});var c=!1;return"put"===t&&-1!==e.indexOf("/set-auth-cookie")&&(c=!0),this._sendRequest(e,t,o,r,c,a)}},{key:"get",value:function(e,t,n){return this.sendRequest(e,"get",t,null,n)}},{key:"delete",value:function(e,t,n,r){return this.sendRequest(e,"delete",t,n,r)}},{key:"post",value:function(e,t,n,r){return this.sendRequest(e,"post",t,n,r)}},{key:"put",value:function(e,t,n,r){return this.sendRequest(e,"put",t,n,r)}},{key:"patch",value:function(e,t,n,r){return this.sendRequest(e,"patch",t,n,r)}},{key:"discharge",value:function(e,t,n){try{s.dischargeMacaroon(s.importMacaroons(e)[0],this._getThirdPartyDischarge.bind(this),function(e){t(e.map(function(e){return e._exportAsJSONObjectV1()}))},n)}catch(e){n("discharge failed: ".concat(e.message))}}},{key:"_wrapCallback",value:function(e,t,n,r,i){var a=this;return function(o){var s=function(e){i(null,e),a._onSuccess()},c=a._getError(o.target);if(c){var l,f=function(e){i(e,null)};switch(c.Code){case"interaction required":l=function(t){var n=JSON.parse(t.target.responseText),r=u(n.Macaroon);a.storage.set(e,r,function(){if(n.DischargeToken){var r=u(n.DischargeToken);a.storage.set(e,r,function(){a.storage.set("identity",r,function(){s(t)})})}else s(t)})},a._interact(c,l,f);break;case"macaroon discharge required":if(a._dischargeDisabled)return void i("discharge required but disabled",o);l=function(o){a.storage.set(e,u(o),function(){a.sendRequest(e,t,n,r,i)})},a.discharge(c.Info.Macaroon,l,f);break;default:i(a._getErrorMessage(c),null)}}else s(o)}}},{key:"_getThirdPartyDischarge",value:function(e,t,n,r,i){var a=t+"/discharge",c={"Content-Type":"application/x-www-form-urlencoded"},u=new o("utf-8").decode(n),l=encodeURIComponent(u),f=encodeURIComponent(e),d="id=".concat(l,"&location=").concat(f);this.post(a,c,d,function(e,t){if(e)i(e);else{var n=JSON.parse(t.target.responseText),a=s.importMacaroons(n.Macaroon)[0];r(a)}})}},{key:"_interact",value:function(e,t,n){var r=this;this._visitPage(e);var i=function(t){var n={"Content-Type":"application/json"};return r._sendRequest(e.Info.WaitURL,"get",n,void 0,!1,t)},a=0;i(function e(o){var s=o.target;if(0===s.status&&""===s.response&&""===s.responseText&&a<5)return a+=1,void i(e);var c=r._getError(s);c?n("cannot interact: "+r._getErrorMessage(c)):t(o)})}},{key:"_getError",value:function(e){if(401!==e.status&&407!==e.status)return null;if("application/json"!==e.getResponseHeader("Content-Type"))return null;var t;try{t=JSON.parse(e.responseText)}catch(e){return"cannot parse error response"}return t}},{key:"_getErrorMessage",value:function(e){return e.Message||e.message||e.Error||e.error||"unexpected error: "+JSON.stringify(e)}}]),e}(),f=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this._store=t,this._services=i.services||{},this._charmstoreCookieSetter=i.charmstoreCookieSetter||null;var a=i.initial||{};Object.keys(a).forEach(function(e){var t=a[e];t&&n.set(e,t)})}return a(e,[{key:"get",value:function(e){return e=this._getKey(e),this._store.getItem(e)}},{key:"set",value:function(e,t,n){if(e=this._getKey(e),this._store.setItem(e,t),"charmstore"===e&&this._charmstoreCookieSetter){var r=(i=t,JSON.parse(atob(i)));this._charmstoreCookieSetter(r,function(e,t){e&&console.error("cannot set charm store cookie:",e),n()})}else{var i;n()}}},{key:"clear",value:function(){this._store.clear()}},{key:"_getKey",value:function(e){for(var t in this._services){var n=this._services[t];if(0===e.indexOf(n))return t}return"/discharge"===e.slice(-"/discharge".length)?e.slice(0,-"/discharge".length):e}}]),e}(),d=function(){function e(){r(this,e),this._items={}}return a(e,[{key:"getItem",value:function(e){return this._items[e]}},{key:"setItem",value:function(e,t){this._items[e]=t}},{key:"clear",value:function(){this._items={}}}]),e}();function h(e,t,n,r,i,a){var o=new XMLHttpRequest({}),s=function e(t){a&&a(t),o.removeEventListener("error",e),o.removeEventListener("load",e)};return o.addEventListener("error",s,!1),o.addEventListener("load",s,!1),o.open(t,e,!0),Object.keys(n||{}).forEach(function(e){o.setRequestHeader(e,n[e])}),i&&(o.withCredentials=i),o.send(r||void 0),o}e.exports={Bakery:l,BakeryStorage:f,InMemoryStore:d}},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},function(e,t,n){"use strict";var r=n(43);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){"use strict";var r=n(65),i=n(165);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){"use strict";var r=n(49),i=n(23),a=n(66).f;e.exports=function(e){return function(t){for(var n,o=i(t),s=r(o),c=s.length,u=0,l=[];c>u;)a.call(o,n=s[u++])&&l.push(e?[n,o[n]]:o[n]);return l}}},function(e,t,n){"use strict";var r=n(9),i=n(118),a=n(32);e.exports=function(e,t,n,o){var s=String(a(e)),c=s.length,u=void 0===n?" ":String(n),l=r(t);if(l<=c||""==u)return s;var f=l-c,d=i.call(u,Math.ceil(f/u.length));return d.length>f&&(d=d.slice(0,f)),o?d+s:s+d}},function(e,t,n){"use strict";var r=n(84),i=n(6),a=n(9),o=n(27),s=n(8)("isConcatSpreadable");e.exports=function e(t,n,c,u,l,f,d,h){for(var p,g,m=l,b=0,v=!!d&&o(d,h,3);b<u;){if(b in c){if(p=v?v(c[b],b,n):c[b],g=!1,i(p)&&(g=void 0!==(g=p[s])?!!g:r(p)),g&&f>0)m=e(t,n,p,a(p.length),m,f-1)-1;else{if(m>=9007199254740991)throw TypeError();t[m]=p}m++}b++}return m}},function(e,t,n){"use strict";var r=n(46),i=n(85),a=n(2),o=n(3).Reflect;e.exports=o&&o.ownKeys||function(e){var t=r.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";var r=n(31),i=n(9);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){"use strict";var r=n(42),i=n(40).getWeak,a=n(2),o=n(6),s=n(44),c=n(43),u=n(29),l=n(19),f=n(55),d=u(5),h=u(6),p=0,g=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},b=function(e,t){return d(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,a){var u=e(function(e,r){s(e,u,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=r&&c(r,n,e[a],e)});return r(u.prototype,{delete:function(e){if(!o(e))return!1;var n=i(e);return!0===n?g(f(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!o(e))return!1;var n=i(e);return!0===n?g(f(this,t)).has(e):n&&l(n,this._i)}}),u},def:function(e,t,n){var r=i(a(t),!0);return!0===r?g(e).set(t,n):r[e._i]=n,e},ufstore:g}},function(e,t,n){"use strict";var r,i=n(29)(0),a=n(17),o=n(40),s=n(192),c=n(172),u=n(6),l=n(4),f=n(55),d=o.getWeak,h=Object.isExtensible,p=c.ufstore,g={},m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(u(e)){var t=d(e);return!0===t?p(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(f(this,"WeakMap"),e,t)}},v=e.exports=n(78)("WeakMap",m,b,c,!0,!0);l(function(){return 7!=(new v).set((Object.freeze||Object)(g),7).get(g)})&&(s((r=c.getConstructor(m,"WeakMap")).prototype,b),o.NEED=!0,i(["delete","has","get","set"],function(e){var t=v.prototype,n=t[e];a(t,e,function(t,i){if(u(t)&&!h(t)){this._f||(this._f=new r);var a=this._f[e](t,i);return"set"==e?this:a}return n.call(this,t,i)})}))},function(e,t,n){"use strict";var r=n(175),i=n(55);e.exports=n(78)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r=n(10).f,i=n(47),a=n(42),o=n(27),s=n(44),c=n(43),u=n(114),l=n(180),f=n(45),d=n(11),h=n(40).fastKey,p=n(55),g=d?"_s":"size",m=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[g]=0,void 0!=r&&c(r,n,e[u],e)});return a(l.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var n=p(this,t),r=m(n,e);if(r){var i=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=i),i&&(i.p=a),n._f==r&&(n._f=i),n._l==r&&(n._l=a),n[g]--}return!!r},forEach:function(e){p(this,t);for(var n,r=o(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(p(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return p(this,t)[g]}}),l},def:function(e,t,n){var r,i,a=m(e,t);return a?a.v=n:(e._l=a={i:i=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=a),r&&(r.n=a),e[g]++,"F"!==i&&(e._i[i]=a)),e},getEntry:m,setStrong:function(e,t,n){u(e,t,function(e,n){this._t=p(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var r=n(175),i=n(55);e.exports=n(78)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(2),i=n(6),a=n(102);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){"use strict";n(11)&&"g"!=/./g.flags&&n(10).f(RegExp.prototype,"flags",{configurable:!0,get:n(81)})},function(e,t,n){"use strict";e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(13),i=n(48),a=n(9);e.exports=[].copyWithin||function(e,t){var n=r(this),o=a(n.length),s=i(e,o),c=i(t,o),u=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===u?o:i(u,o))-c,o-s),f=1;for(c<s&&s<c+l&&(f=-1,c+=l-1,s+=l-1);l-- >0;)c in n?n[s]=n[c]:delete n[s],s+=f,c+=f;return n}},function(e,t,n){"use strict";var r=n(14),i=n(13),a=n(67),o=n(9);e.exports=function(e,t,n,s,c){r(t);var u=i(e),l=a(u),f=o(u.length),d=c?f-1:0,h=c?-1:1;if(n<2)for(;;){if(d in l){s=l[d],d+=h;break}if(d+=h,c?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;c?d>=0:f>d;d+=h)d in l&&(s=t(s,l[d],d,u));return s}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){"use strict";var r=n(117),i=Math.pow,a=i(2,-52),o=i(2,-23),s=i(2,127)*(2-o),c=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),u=r(e);return i<c?u*(i/c/o+1/a-1/a)*c*o:(n=(t=(1+o/a)*i)-(t-i))>s||n!=n?u*(1/0):u*n}},function(e,t,n){"use strict";e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){"use strict";var r=n(6),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){"use strict";var r=n(26);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){"use strict";var r=n(3).parseFloat,i=n(57).trim;e.exports=1/r(n(120)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){"use strict";var r=n(3).parseInt,i=n(57).trim,a=n(120),o=/^[-+]?0[xX]/;e.exports=8!==r(a+"08")||22!==r(a+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(o.test(n)?16:10))}:r},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";var r=n(14),i=n(6),a=n(190),o=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),c=function r(){var i=n.concat(o.call(arguments));return this instanceof r?function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,i.length,i):a(t,i,e)};return i(t.prototype)&&(c.prototype=t.prototype),c}},function(e,t,n){"use strict";var r=n(49),i=n(85),a=n(66),o=n(13),s=n(67),c=Object.assign;e.exports=!c||n(4)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=o(e),c=arguments.length,u=1,l=i.f,f=a.f;c>u;)for(var d,h=s(arguments[u++]),p=l?r(h).concat(l(h)):r(h),g=p.length,m=0;g>m;)f.call(h,d=p[m++])&&(n[d]=h[d]);return n}:c},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(23),a=n(46).f,o={}.toString,s="object"==("undefined"==typeof window?"undefined":r(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return a(e)}catch(e){return s.slice()}}(e):a(i(e))}},function(e,t,n){"use strict";var r=n(10),i=n(2),a=n(49);e.exports=n(11)?Object.defineProperties:function(e,t){i(e);for(var n,o=a(t),s=o.length,c=0;s>c;)r.f(e,n=o[c++],t[n]);return e}},function(e,t,n){"use strict";var r=n(19),i=n(23),a=n(86)(!1),o=n(124)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,u=[];for(n in s)n!=o&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~a(u,n)||u.push(n));return u}},function(e,t,n){"use strict";t.f=n(8)},function(e,t,n){"use strict";e.exports=!n(11)&&!n(4)(function(){return 7!=Object.defineProperty(n(126)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";function r(e){return{restrict:"A",link:function(t,n,r){function i(){t.windowWidth!==e.innerWidth&&(t.windowWidth=e.innerWidth,t.$apply(function(){t.message="Timeout called!"}))}t.windowWidth=e.innerWidth,angular.element(e).on("resize",i),t.$on("$destroy",function(){angular.element(e).off("resize",i)})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$window"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r){return i.$inject=["$scope"],{restrict:"A",controller:i};function i(i){i.version=t.getData("version"),i.reloadPage=function(){e.location.reload(!0)},n.loadManager(i,t).then(function(){t.enableAutoReload(!0),r.info('Version reloader: Monitoring MAAS "'+i.site+'"; version',i.version.text,"via",e.location.href),i.$watch("version.text",function(e,t){e!==t&&(r.info("MAAS version changed from '"+t+"' to '"+e+"'; forcing reload."),i.reloadPage())})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$window","GeneralManager","ManagerHelperService","LogService"];var i=r;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{restrict:"A",scope:{ngType:"="},link:function(e,t,n){e.$watch("ngType",function(){if(-1===["button","checkbox","color","date ","datetime ","datetime-local ","email ","file","hidden","image","month ","number ","password","radio","range ","reset","search","submit","tel","text","time ","url","week"].indexOf(e.ngType))throw new Error("Invalid input type: "+e.ngType);t[0].type=e.ngType})}}};t.default=r},function(e,t,n){"use strict";function r(e){return{restrict:"A",link:function(t,n,r){t.isToggled=!1,t.toggleMenu=function(){t.isToggled=!t.isToggled};var i=function(e){n.find(e.target).length>0||t.$apply(function(){t.isToggled=!1})};e.on("click",i),t.$on("$destroy",function(){e.off("click",i)})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$document"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){return{restrict:"E",scope:{search:"=",ngDisabled:"&",switchHasError:"&",hideCheckboxes:"=?",onListingChange:"&",onCheckAll:"&",onCheck:"&"},templateUrl:"static/partials/switches-table.html?v="+MAAS_config.files_version,link:function(n,r,i){var a=[1,9,12,14,17,19,21];n.table={column:"fqdn",predicate:"fqdn",reverse:!1,allViewableChecked:!1,switches:e.getItems(),filteredSwitches:[],osinfo:t.getData("osinfo")},n.updateAllChecked=function(){if(0!==n.table.filteredSwitches.length){var e;for(e=0;e<n.table.filteredSwitches.length;e++)if(!n.table.filteredSwitches[e].$selected)return void(n.table.allViewableChecked=!1);n.table.allViewableChecked=!0}else n.table.allViewableChecked=!1},n.toggleCheckAll=function(){n.table.allViewableChecked?angular.forEach(n.table.filteredSwitches,function(t){e.unselectItem(t.system_id)}):angular.forEach(n.table.filteredSwitches,function(t){e.selectItem(t.system_id)}),n.updateAllChecked(),n.onCheckAll()},n.toggleChecked=function(t){e.isSelected(t.system_id)?e.unselectItem(t.system_id):e.selectItem(t.system_id),n.updateAllChecked(),n.onCheck({$switch_:t})},n.sortTable=function(e){n.table.predicate=e,n.table.reverse=!n.table.reverse},n.selectColumnOrSort=function(e){n.table.column!==e?n.table.column=e:n.sortTable(e)},n.showSpinner=function(e){return a.indexOf(e.status_code)>-1},n.getReleaseTitle=function(e){if(angular.isArray(n.table.osinfo.releases))for(var t=0;t<n.table.osinfo.releases.length;t++){var r=n.table.osinfo.releases[t];if(r[0]===e)return r[1]}return e},n.getStatusText=function(e){if(-1===["Deploying","Deployed"].indexOf(e.status))return e.status;var t=n.getReleaseTitle(e.osystem+"/"+e.distro_series);return"ubuntu"===e.osystem&&(t=t.split('"')[0].trim()),"Deployed"===e.status?t:"Deploying"===e.status?e.status+" "+t:void 0},n.$watchCollection("table.filteredSwitches",function(){n.updateAllChecked(),n.onListingChange({$switches:n.table.filteredSwitches})})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["SwitchesManager","GeneralManager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r){return i.$inject=["$scope"],{restrict:"E",scope:{},templateUrl:"static/partials/ssh-keys.html?v="+MAAS_config.files_version,controller:i};function i(i){i.loading=!0,i.keys=t.getItems(),i.groupedKeys=[],i.add={source:"lp",authId:"",key:"",error:null,saving:!1},i.sourceTitles={lp:"Launchpad",gh:"Github",upload:"Upload"},i.openRow=null,i.rowMode=null,i.trustAsHtml=e.trustAsHtml,i.open=function(e,t){i.openRow=e.id,i.rowMode=t},i.close=function(){i.openRow=null},i.canImportKeys=function(){return!i.add.saving&&("lp"===i.add.source||"gh"===i.add.source?i.add.authId.length>0:i.add.key.length>0)},i.importKeys=function(){i.canImportKeys()&&(i.add.error=null,i.add.saving=!0,"lp"===i.add.source||"gh"===i.add.source?t.importKeys({protocol:i.add.source,auth_id:i.add.authId}).then(function(){i.add.saving=!1,i.add.source="lp",i.add.authId="",i.add.key=""},function(e){i.add.saving=!1;var t=r.tryParse(e);angular.isObject(t)&&angular.isArray(t.__all__)?i.add.error=t.__all__[0]:i.add.error=e}):t.createItem({key:i.add.key}).then(function(){i.add.saving=!1,i.add.source="lp",i.add.authId="",i.add.key=""},function(e){i.add.saving=!1;var t=r.tryParse(e);angular.isObject(t)?angular.isArray(t.key)?i.add.error=t.key[0]:angular.isArray(t.__all__)?i.add.error=t.__all__[0]:i.add.error=e:i.add.error=e}))},i.confirmDelete=function(e){angular.forEach(e.keys,function(e){t.deleteItem(e)})},i.$watchCollection("keys",function(){i.groupedKeys=[];var e={};angular.forEach(i.keys,function(t){var n,r=t.keysource;if(angular.isObject(r)){var a=r.protocol+"/"+r.auth_id;n=e[a],angular.isObject(n)?n.keys.push(t):(n={id:a,source:r.protocol,authId:r.auth_id,keys:[t]},e[a]=n,i.groupedKeys.push(n))}else n={id:"upload/"+t.id,source:"upload",authId:"",keys:[t]},i.groupedKeys.push(n)})}),n.loadManager(i,t).then(function(){i.loading=!1})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$sce","SSHKeysManager","ManagerHelperService","JSONService"];var i=r;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{templateUrl:"static/partials/script-results-list.html?v="+MAAS_config.files_version}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{restrict:"C",link:function(e,t,n){var r=t.find(".p-script-expander__trigger"),i=t.find(".p-script-expander__content");i.addClass("u-hide"),r.on("click",function(e){e.preventDefault(),i.toggleClass("u-hide")})}}};t.default=r},function(e,t,n){"use strict";function r(e){return{restrict:"A",scope:{releaseName:"=maasReleaseName"},link:function(t,n,r){t.osinfo=e.getData("osinfo");var i=function(){n.text(function(){if(angular.isArray(t.osinfo.releases))for(var e=0;e<t.osinfo.releases.length;e++){var n=t.osinfo.releases[e];if(n[0]===t.releaseName)return n[1]}return t.releaseName}())};t.$watch("releaseName",function(){i()}),t.$watchCollection("osinfo.releases",function(){i()})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["GeneralManager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){return n.$inject=["$scope"],{restrict:"E",scope:{},templateUrl:"static/partials/proxy-settings.html",controller:n};function n(n){n.loading=!0,t.loadManager(n,e).then(function(){n.loading=!1,n.httpProxy=e.getItemFromList("http_proxy"),n.enableHttpProxy=e.getItemFromList("enable_http_proxy"),n.usePeerProxy=e.getItemFromList("use_peer_proxy"),n.enableHttpProxy.value?n.httpProxy.value?n.usePeerProxy.value?n.proxy_type="peer-proxy":n.proxy_type="external-proxy":n.proxy_type="builtin-proxy":n.proxy_type="no-proxy"})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["ConfigsManager","ManagerHelperService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n){return{restrict:"A",controller:function(){var r=this;r.addKey=function(){var i=e.defer();return t.defaultConnect().then(function(){n.createAuthorisationToken().then(function(e){r.injector&&r.injector(e),i.resolve(e)})}),i.promise},r.deleteKey=function(e){t.defaultConnect().then(function(){n.deleteAuthorisationToken(e)})}}}}function i(e,t){return{restrict:"A",require:"^maasPrefKeys",scope:{template:"@maasPrefKeysInject"},link:function(n,r,i,a){var o=t.get(n.template);if(!o)throw new Error("Unable to load template: "+n.template);a.injector=function(t){var i=n.$new();i.token=t;var a=angular.element(o);r.append(a),e(a)(i)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.maasPrefKeys=r,t.maasPrefKeysInject=i,t.maasPrefKeysAdd=function(){return{restrict:"A",require:"^maasPrefKeys",link:function(e,t,n,r){t.on("click",function(n){n.preventDefault();var i=angular.element('<i class="p-icon--spinner u-animation--spin"></i>');t.prepend(i),e.$apply(function(){r.addKey().then(function(){i.remove()})})})}}},t.maasPrefKey=function(){return e.$inject=["$scope","$element"],{restrict:"A",require:"^maasPrefKeys",scope:{key:"@maasPrefKey"},controller:e,link:function(e,t,n,r){e.prefsController=r}};function e(e,t){this.deleteKey=function(){e.prefsController.deleteKey(e.key),e.$destroy(),t.remove()}}},t.maasPrefKeyDelete=function(){return{restrict:"A",require:"^maasPrefKey",link:function(e,t,n,r){t.on("click",function(t){t.preventDefault(),e.$apply(function(){r.deleteKey()})})}}},i.$inject=["$compile","$templateCache"],r.$inject=["$q","RegionConnection","UsersManager"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{restrict:"A",scope:{ngPlaceholder:"="},link:function(e,t,n){e.$watch("ngPlaceholder",function(){t[0].placeholder=e.ngPlaceholder})}}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{restrict:"A",link:function(e,t,n){t.on("click",function(e){e.stopPropagation(),t.parent().parent().find("#mobile-nav-menu").toggleClass("u-show")})}}};t.default=r},function(e,t,n){"use strict";function r(e){return{restrict:"A",link:function(t,n,r){n.on("click",function(e){e.stopPropagation(),n.parent().find(".p-dropdown__menu").toggleClass("u-hide")}),e.on("click",function(){n.parent().find(".p-dropdown__menu").addClass("u-hide")})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$document"];var i=r;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){if(r){var i=function(e){if(e){var t=e.replace(/:/g,"");return e.length%3==0?t.replace(/([0-9A-Za-z]{2})/g,"$1:"):void 0}};r.$parsers.push(function(e){return e.toUpperCase()}),r.$formatters.push(i),t.on("input",function(){var n=i(t.val());void 0!==n&&(r.$setViewValue(n),r.$render()),e.$apply()})}}}};t.default=r},function(e,t,n){"use strict";function r(e){function t(e){"ngInject";this.obj=e.obj,this.manager=e.manager,this.fields={},this.scope=e,this.scope.saving=!1,this.scope.savingKeys=[],angular.isObject(this.scope.obj)&&(this.scope.obj.$maasForm=this),this.managerMethod=e.managerMethod,angular.isUndefined(this.managerMethod)&&(this.managerMethod="updateItem");var t=this;e.$watch("obj",function(){t.obj=e.obj,angular.isObject(t.obj)&&(t.obj.$maasForm=t)}),e.$on("$destroy",function(){angular.isObject(t.obj)&&delete t.obj.$maasForm})}return t.$inject=["$scope"],t.prototype.getValue=function(e){var t=this.fields[e];if(angular.isObject(t)&&angular.isObject(t.scope))return t.scope.getValue()},t.prototype.updateValue=function(e,t){var n=this.fields[e];if(angular.isObject(n)&&angular.isObject(n.scope))return n.scope.updateValue(t)},t.prototype.cloneObject=function(){if(angular.isObject(this.obj)){delete this.obj.$maasForm;var e=angular.copy(this.obj);return this.obj.$maasForm=this,e}return this.obj},t.prototype.isTableForm=function(){return!angular.isUndefined(this.scope.tableForm)&&this.scope.tableForm},t.prototype.saveOnBlur=function(){return!!angular.isUndefined(this.scope.saveOnBlur)||this.scope.saveOnBlur},t.prototype.isSaving=function(e){return this.scope.saving&&this.scope.savingKeys.indexOf(e)>=0},t.prototype.showInputSaving=function(e){return this.saveOnBlur()&&this.isSaving(e)},t.prototype.hasErrors=function(){var e=!1;return angular.forEach(this.fields,function(t){t.scope.hasErrors()&&(e=!0)}),angular.isDefined(this.errorScope)&&this.errorScope.hasErrors()&&(e=!0),e},t.prototype.registerField=function(e,t){this.fields[e]={editing:!1,scope:t};var n=this;return this.scope.$watch("obj."+e,function(){angular.isObject(n.obj)&&!n.fields[e].editing&&n.fields[e].scope.updateValue(n.obj[e])}),angular.isObject(this.obj)?this.obj[e]:null},t.prototype.unregisterField=function(e){delete this.fields[e]},t.prototype.startEditingField=function(e){this.fields[e].editing=!0},t.prototype.stopEditingField=function(e,t){var n=this.fields[e];if(this.saveOnBlur()){n.scope.clearErrors();var r=this.cloneObject();r[e]=t,r[e]!==this.obj[e]?(this.scope.saving=!0,this.scope.savingKeys=[e],this.updateItem(r,[e])):n.editing=!1}else n.editing=!1},t.prototype.updateItem=function(t,n){var r=n[0],i=this.fields[r],a=this;return angular.isFunction(this.scope.preProcess)&&(t=this.scope.preProcess(t,n)),this.manager[this.managerMethod](t).then(function(e){return i.editing=!1,i.scope.updateValue(e[r]),a.scope.saving=!1,a.scope.savingKeys=[],angular.isFunction(a.scope.afterSave)&&a.scope.afterSave(e),e},function(t){var n=e.tryParse(t);return angular.isObject(n)?angular.forEach(n,function(e,t){var n=a.fields[t];angular.isArray(e)||(e=[e]),angular.isObject(n)?n.scope.setErrors(e):("__all__"!==t&&(e=e.map(function(e){return t+": "+e})),i.scope.setErrors(e))}):i.scope.setErrors([t]),a.scope.saving=!1,a.scope.savingKeys=[],t})},t.prototype.saveForm=function(){var t=[],n=this.cloneObject();angular.forEach(this.fields,function(e,r){e.scope.clearErrors();var i=e.scope.getValue();angular.isDefined(i)&&n[r]!==i&&(n[r]=i,t.push(r))}),angular.isFunction(this.scope.preProcess)&&(n=this.scope.preProcess(n,t)),angular.isDefined(this.errorScope)&&this.errorScope.clearErrors();var r=this;return this.scope.saving=!0,this.scope.savingKeys=t,this.manager[this.managerMethod](n).then(function(e){return r.scope.saving=!1,r.scope.savingKeys=[],angular.isFunction(r.scope.afterSave)&&r.scope.afterSave(e),e},function(t){var n=e.tryParse(t);return angular.isObject(n)?angular.forEach(n,function(e,t){var n=r.fields[t];angular.isArray(e)||(e=[e]),angular.isObject(n)?n.scope.setErrors(e):("__all__"!==t&&(e=e.map(function(e){return t+": "+e})),angular.isDefined(r.errorScope)?r.errorScope.setErrors(e):console.log(e))}):angular.isDefined(r.errorScope)?r.errorScope.setErrors([t]):console.log(t),r.scope.saving=!1,r.scope.savingKeys=[],t})},{restrict:"E",scope:{obj:"=",manager:"=",managerMethod:"@",preProcess:"=",afterSave:"=",tableForm:"=",saveOnBlur:"=",inline:"=",ngDisabled:"&"},transclude:!0,template:"<form class=\"p-form\" data-ng-class=\"{saving: saving, 'p-form--inline': inline, 'p-form--stacked': tableForm}\" ng-transclude></form>",controller:t}}function i(e){return{restrict:"E",require:["^^maasObjForm","?^^maasObjFieldGroup"],scope:{onChange:"=",subtleText:"@"},transclude:!0,template:"<div data-ng-transclude></div>",link:function(t,n,r,i){var a=i[1];angular.isObject(a)||(a=i[0]),t.ngDisabled=a.scope.ngDisabled,n.addClass("p-form__group"),"false"!==r.subtle&&n.addClass("form__group--subtle");var o=[];if(angular.isString(r.type)&&0!==r.type.length||o.push("type"),angular.isString(r.key)&&0!==r.key.length||o.push("key"),o.length>0)throw new Error(o.join(", ")+" are required on maas-obj-field.");angular.isString(r.disabled)&&(t.ngDisabled=function(){return!0}),n.find("div").remove();var s=r.label||r.key;if("true"!==r.disableLabel&&"hidden"!==r.type){var c=angular.element("<label/>");if(c.attr("for",r.key),c.text(s),c.addClass("p-form__label"),r.labelWidth&&(c.addClass("col-"+r.labelWidth),r.labelWidthMobile&&c.addClass("mobile-col-"+r.labelWidthMobile),r.labelWidthTablet&&c.addClass("tablet-col-"+r.labelWidthTablet)),"true"===r.labelLeft&&(c.addClass("u-padding--left"),c.addClass("u-position--relative")),n.append(c),angular.isString(r.labelInfo)&&r.labelInfo.length>0){var u=angular.element("<span>&nbsp;</span>");u.addClass("p-tooltip p-tooltip--btm-right");var l=angular.element("<i/>");r.labelInfoIcon?l.addClass("p-icon--"+r.labelInfoIcon):l.addClass("p-icon--information"),l.attr("aria-describedby",r.key+"-tooptip");var f=angular.element("<p></p>");f.addClass("p-tooltip__message"),f.text(r.labelInfo),f.attr("id",r.key+"-tooptip"),u.append(l),u.append(f),c.append(u),l.bind("click",function(e){e.preventDefault()})}}var d=angular.element("<div></div>");d.addClass("p-form__control"),r.inputWidthMobile&&d.addClass("mobile-col-"+r.inputWidthMobile),r.inputWidthTablet&&d.addClass("tablet-col-"+r.inputWidthTablet),r.inputWidth&&d.addClass("col-"+r.inputWidth);var h=r.placeholder||s,p=null;if("text"===r.type||"textarea"===r.type||"password"===r.type){"text"===r.type?p=e('<input type="text" id="'+r.key+'" placeholder="'+h+'"data-ng-disabled="ngDisabled()">')(t):"textarea"===r.type?p=e('<textarea id="'+r.key+'" placeholder="'+h+'"data-ng-disabled="ngDisabled()"></textarea>')(t):"password"===r.type&&(p=e('<input type="password" id="'+r.key+'" placeholder="'+h+'"data-ng-disabled="ngDisabled()">')(t)),r.blurOnEnter&&p.bind("keydown keypress",function(e){13===e.which&&(p.blur(),e.preventDefault())});p.bind("keydown keypress",function(e){27===e.which&&(p.val(a.scope.obj[r.key]),p.blur(),e.preventDefault())}),r.value&&t.$applyAsync(function(){p.val(r.value)});var g=a.registerField(r.key,t);p.val(g),p.on("focus",function(){t.$apply(function(){a.startEditingField(r.key)})}),p.on("blur",function(){t.$apply(function(){a.stopEditingField(r.key,p.val())})}),t.updateValue=function(e){p.val(e)},t.getValue=function(){return p.val()}}else if("options"===r.type){var m=r.options;if(!angular.isString(m)||0===m.length)throw new Error("options attribute is required on type 'options' on maas-obj-field.");var b="disabled";"true"===r.placeholderEnabled&&(b="");var v=t.$parent.$new();v._ngDisabled=t.ngDisabled,v._selectValue=a.registerField(r.key,t),v._selectNgChange=function(){t._change(),a.stopEditingField(r.key,v._selectValue)},p=e('<select id="'+r.key+'" data-ng-model="_selectValue" data-ng-options="'+m+'"data-ng-change="_selectNgChange()"data-ng-disabled="_ngDisabled()"><option value="" '+b+">"+h+"</option></select>")(v),t.updateValue=function(e){v._selectValue=e},t.getValue=function(){return v._selectValue}}else if("checkboxes"===r.type){var y=r.values;if(!angular.isString(y)||0===y.length)throw new Error("values attribute is required on type 'checkboxes' on maas-obj-field.");var _=t.$parent.$new();_._selectedValues=a.registerField(r.key,t),_._checked=function(e){return _._selectedValues.indexOf(e)>-1},_._toggleChecked=function(e){var t=_._selectedValues.indexOf(e);t>-1?_._selectedValues.splice(t,1):_._selectedValues.push(e)},p=angular.element(['<div class="p-form__group" ','style="padding-top: .2rem;" ','data-ng-repeat="val in '+y+'">','<input id="'+r.key+"_{$ val $}",'" type="checkbox" value="{$ val $}" ','class="checkbox" ','data-ng-checked="_checked(val)" ','data-ng-click="_toggleChecked(val)">','<label for="'+r.key+"_",'{$ val $}" ','class="checkbox-label">{$ val $}</label>',"</div>"].join("")),p=e(p)(_),t.updateValue=function(e){_._selectedValues=e},t.getValue=function(){return _._selectedValues}}else if("tags"===r.type){var w=t.$new(),S=a.registerField(r.key,t);w._tags=S.map(function(e){return{text:e}}),p=angular.element(['<span data-ng-if="ngDisabled()" ','data-ng-repeat="tag in _tags">',"{$ tag.text $} </span>",'<tags-input id="'+r.key+'" ','data-ng-model="_tags" ','data-ng-if="!ngDisabled()" ','placeholder="'+h+'" ','data-ng-change="_change()" ','allow-tags-pattern="[\\w-]+"></tags-input>'].join("")),p=e(p)(w),t.updateValue=function(e){w._tags=e.map(function(e){return{text:e}})},t.getValue=function(){return w._tags.map(function(e){return e.text})}}else if("hidden"===r.type){var M=t.$new();M._toggle=a.registerField(r.key,t),p=angular.element(['<input type="hidden" name="'+r.key+'" ','id="'+r.key+'" ','value="'+r.value+'">',"</input>"].join("")),p=e(p)(M),t.getValue=function(){return r.value},t.updateValue=function(){return null}}else if("onoffswitch"===r.type){var E=t.$new();E._toggle=a.registerField(r.key,t),E._changed=function(){t._change(),a.startEditingField(r.key),a.stopEditingField(r.key,E.getValue())},p=angular.element(['<div class="maas-p-switch">','<input type="checkbox" name="'+r.key+'" ','class="maas-p-switch--input" ','id="'+r.key+'" ','data-ng-model="_toggle" ','data-ng-change="_changed()">','<div class="maas-p-switch--mask"></div>',"</div>"].join("")),p=e(p)(E),t.updateValue=function(e){r.onValue&&r.onValue===e?E._toggle=!0:r.offValue&&r.offValue===e?E._toggle=!1:E._toggle=e},t.getValue=function(){return E._toggle?!r.onValue||r.onValue:!!r.offValue&&r.offValue}}else{if("slider"!=r.type)throw new Error("Unknown type on maas-obj-field: "+r.type);var A=t.$new();A._slider=a.registerField(r.key,t),A._ngDisabled=t.ngDisabled,p=angular.element(['<div class="p-slider__wrapper">','<input class="p-slider" type="range"','min="'+r.min+'" max="'+r.max+'" ','value="1" step="'+r.step+'" ','id="'+r.key+'" ','data-ng-model="_slider" data-ng-disabled="','_ngDisabled()">','<input class="p-slider__input" type="text" ','maxlength="3" id="'+r.key+'-input" ','data-ng-model="_slider" disabled="disabled" ',"></div>"].join("")),p=e(p)(A),t.updateValue=function(e){A._slider=e},t.getValue=function(){return A._slider}}t._change=function(){angular.isFunction(t.onChange)&&t.onChange(r.key,a.getValue(r.key),a)},r.inputClass&&p.addClass(r.inputClass),d.append(p);var k=angular.element('<ul class="p-list u-no-margin--top"></ul>');if(a.isTableForm()||k.addClass("form__error"),d.append(k),r.helpText){var I=angular.element("<p>"+r.helpText+"</p>");I.addClass("p-form-help-text"),d.append(I)}if(t.clearErrors=function(){p.removeClass("ng-dirty"),p.removeClass("p-form-validation__input"),d.removeClass("p-form-validation"),d.removeClass("is-error"),d.removeClass("u-no-margin--top"),k.empty()},t.setErrors=function(e){e.length>0&&(d.addClass("p-form-validation"),d.addClass("is-error"),d.addClass("u-no-margin--top"),p.addClass("ng-dirty"),p.addClass("p-form-validation__input"),angular.forEach(e,function(e){k.append('<li class="p-form-validation__message"><strong>Error:</strong> '+e+"</li>")}),setTimeout(function(){p.focus()},1))},t.hasErrors=function(){return d.hasClass("is-error")},r.subtleText){var O=e(angular.element('<span class="p-form-help-text" data-ng-bind="subtleText"></span>'))(t);d.append(O)}n.append(d),t.$watch(function(){return a.showInputSaving(r.key)},function(e){e?(d.children(":first").addClass("u-border--information"),c.prepend('<i class="obj-saving icon p-icon--spinner u-animation--spin"></i>'),d.addClass("p-tooltip"),d.addClass("p-tooltip--bottom"),d.addClass("u-no-margin--top"),d.attr("aria-label","Saving")):(d.children(":first").removeClass("u-border--information"),c&&c.find("i.obj-saving").remove(),d.removeClass("p-tooltip"),d.removeClass("p-tooltip--right"),d.addClass("u-no-margin--top"),d.removeAttr("aria-label"))}),t.$on("$destroy",function(){a.unregisterField(r.key)})}}}function a(e){return{restrict:"E",require:["^^maasObjForm"],scope:{},template:'<ul class="p-list u-no-margin--top"></ul>',link:function(t,n,r,i){i[0].errorScope=t;var a=n.find("ul");t.clearErrors=function(){a.empty()},t.setErrors=function(n){if(n.length>0){t.errors=n;for(var r=0;r<t.errors.length;r++)a.append(e('<li class="p-list__item"><i class="p-icon--error"></i> <span ng-bind="errors['+r+']"></span></li>')(t))}},t.hasErrors=function(){return a.children().length>0}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.maasObjForm=r,t.maasObjFieldGroup=function(){function e(e,t){"ngInject";this.fields={},this.scope=e,this.scope.saving=!1,this.scope.savingKeys=[],this.timeout=t;var n=this;this.scope.isEditing=function(){var e=!1;return angular.forEach(n.fields,function(t){e||(e=t.editing)}),e}}return e.$inject=["$scope","$timeout"],e.prototype.isTableForm=function(){return this.formController.isTableForm()},e.prototype.saveOnBlur=function(){return this.formController.saveOnBlur()},e.prototype.isSaving=function(e){return this.scope.saving&&this.scope.savingKeys.indexOf(e)>=0},e.prototype.showInputSaving=function(e){return this.saveOnBlur()&&this.scope.saving},e.prototype.registerField=function(e,t){return this.fields[e]={editing:!1,scope:t},this.formController.registerField(e,t)},e.prototype.unregisterField=function(e){delete this.fields[e],this.formController.unregisterField(e)},e.prototype.startEditingField=function(e){this.fields[e].editing=!0;var t=this;angular.forEach(this.fields,function(e,n){t.formController.startEditingField(n)})},e.prototype.stopEditingField=function(e,t){if(this.fields[e].editing=!1,this.saveOnBlur()){var n=this;this.timeout(function(){var t=!1;if(angular.forEach(n.fields,function(e){t||(t=e.editing)}),!t){var r=[],i=!1,a=n.formController.cloneObject();if(angular.forEach(n.fields,function(e,t){e.scope.clearErrors();var n=e.scope.getValue();angular.isDefined(n)&&a[t]!==n&&(r.push(t),a[t]=n,i=!0)}),i){var o=r.indexOf(e);-1!==o&&(r.splice(o,1),r.splice(0,0,e)),n.scope.saving=!0,n.scope.savingKeys=r,n.formController.updateItem(a,r).then(function(e){return n.scope.saving=!1,n.scope.savingKeys=[],e},function(e){return n.scope.saving=!1,n.scope.savingKeys=[],e})}}},10)}},{restrict:"E",require:["^^maasObjForm","maasObjFieldGroup"],scope:{},transclude:!0,template:'<div class="form__siblings" data-ng-class="{\'is-active\': isEditing()}" data-ng-transclude></div>',controller:e,link:{pre:function(e,t,n,r){r[1].formController=r[0],e.ngDisabled=r[0].scope.ngDisabled,r[0].scope.$watch("obj",function(t){e.obj=t})}}}},t.maasObjField=i,t.maasObjSave=function(){return{restrict:"A",require:["^^maasObjForm"],scope:{},link:function(e,t,n,r){var i=r[0];if(i.saveOnBlur())throw new Error("maas-obj-save is only allowed when save-on-blur is set to false.");t.on("click",function(){e.$apply(function(){i.saveForm()})})}}},t.maasObjErrors=a,t.maasObjSaving=function(){return{restrict:"E",require:"^^maasObjForm",scope:{},transclude:!0,template:['<span data-ng-if="saving">','<i class="p-icon--loading u-animation--spin"></i>',"<span data-ng-transclude></span>","</span>"].join(""),link:function(e,t,n,r){e.saving=!1,e.$watch(function(){return r.scope.saving},function(t){e.saving=t})}}},t.maasObjShowSaving=function(){return{restrict:"A",require:"^^maasObjForm",link:function(e,t,n,r){e.$watch(function(){return r.scope.saving},function(e){e?t.removeClass("ng-hide"):t.addClass("ng-hide")})}}},t.maasObjHideSaving=function(){return{restrict:"A",require:"^^maasObjForm",link:function(e,t,n,r){e.$watch(function(){return r.scope.saving},function(e){e?t.addClass("ng-hide"):t.removeClass("ng-hide")})}}},a.$inject=["$compile"],i.$inject=["$compile"],r.$inject=["JSONService"]},function(e,t,n){"use strict";function r(e,t,n,r){return i.$inject=["$scope"],{restrict:"E",scope:{subnet:"=",vlan:"="},templateUrl:"static/partials/ipranges.html?v="+MAAS_config.files_version,controller:i};function i(i){i.loading=!0,i.ipranges=e.getItems(),i.iprangeManager=e,i.newRange=null,i.editIPRange=null,i.deleteIPRange=null,i.MAAS_VERSION_NUMBER=e.formatMAASVersionNumber(),i.RESERVE_RANGE={name:"reserve_range",title:"Reserve range",selectedTitle:"Reserve range",objectName:"reserveRange"},i.RESERVE_DYNAMIC_RANGE={name:"reserve_dynamic_range",title:"Reserve dynamic range",selectedTitle:"Reserve dynamic range",objectName:"reserveDynamicRange"},i.actionOptions=[i.RESERVE_RANGE,i.RESERVE_DYNAMIC_RANGE],i.actionChanged=function(){var e=i.actionOption?i.actionOption.name:null;"reserve_range"===e&&i.addRange("reserved"),"reserve_dynamic_range"===e&&i.addRange("dynamic")},i.isSuperUser=function(){return t.isSuperUser()},i.addRange=function(e){i.newRange={type:e,start_ip:"",end_ip:"",comment:""},angular.isObject(i.subnet)&&(i.newRange.subnet=i.subnet.id),angular.isObject(i.vlan)&&(i.newRange.vlan=i.vlan.id),"dynamic"===e&&(i.newRange.comment="Dynamic")},i.cancelAddRange=function(){i.newRange=null,i.actionOption=null},i.ipRangeCanBeModified=function(e){return!!i.isSuperUser()||"reserved"===e.type&&e.user===t.getAuthUser().id},i.isIPRangeInEditMode=function(e){return i.editIPRange===e},i.ipRangeToggleEditMode=function(e){i.deleteIPRange=null,i.isIPRangeInEditMode(e)?i.editIPRange=null:i.editIPRange=e},i.ipRangeClearEditMode=function(){i.editIPRange=null},i.isIPRangeInDeleteMode=function(e){return i.deleteIPRange===e},i.ipRangeEnterDeleteMode=function(e){i.editIPRange=null,i.deleteIPRange=e},i.ipRangeCancelDelete=function(){i.deleteIPRange=null},i.ipRangeConfirmDelete=function(){e.deleteItem(i.deleteIPRange).then(function(){i.deleteIPRange=null})},i.ipRangeSort=function(e){return-1!==e.start_ip.indexOf(":")?r.ipv6Expand(e.start_ip):r.ipv4ToInteger(e.start_ip)},n.loadManagers(i,[e,t]).then(function(){i.loading=!1})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["IPRangesManager","UsersManager","ManagerHelperService","ConverterService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n){return{restrict:"A",link:function(r,i,a){var o,s=function(){angular.isDefined(o)&&(e.cancel(o),o=void 0)},c=function(){var r=t.isConnected(),a=n._error;r&&!angular.isString(a)?(s(),i.removeClass("ng-hide")):angular.isString(a)?(s(),i.addClass("ng-hide")):r||(s(),o=e(function(){i.addClass("ng-hide")},500))};r.$watch(function(){return t.isConnected()},c),r.$watch(function(){return n._error},c),r.$on("$destroy",function(){s()})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$timeout","RegionConnection","ErrorService"];var i=r;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{restrict:"A",link:function(e,t,n){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(n.maasEnter)}),t.preventDefault())})}}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{restrict:"A",link:function(e,t,n){t.bind("keydown keypress",function(e){13===e.which&&(t.blur(),e.preventDefault())})}}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{restrict:"A",scope:{osInput:"@maasDefaultOsSelect",seriesInput:"@maasDefaultSeriesSelect"},link:function(e,t){var n=angular.element(t.find(e.osInput)),r=angular.element(t.find(e.seriesInput));if(!n||!r)throw new Error("Unable to find os or series elements");var i=function(e,t){var n=r.find("option"),i=!1;angular.forEach(n,function(n){var r=function(e,t,n){var r=!1,i=e.val(),a=i.split("/");return""===t?""===i?(e.removeClass("u-hide"),e.attr("selected","selected")):e.addClass("u-hide"):a[0]===t?(e.removeClass("u-hide"),""!==a[1]||n||(r=!0,e.attr("selected","selected"))):e.addClass("u-hide"),r}(angular.element(n),e,t);!1===i&&(i=r)}),t||i||function(e){var t=null;angular.forEach(e,function(e){(e=angular.element(e)).hasClass("u-hide")||null===t&&(t=e)}),null!==t&&r.val(t.val())}(n)};n.on("change",function(e){i(n.val(),!1)}),i(n.val(),!0)}}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{restrict:"A",require:"ngModel",scope:{ngDisabled:"&",maasEditing:"&"},link:function(e,t,n,r){var i=function(){e.ngDisabled()?t.blur():e.$apply(e.maasEditing())};t.bind("focus",i);var a=function(){e.$apply(r.$setViewValue(t.text()))};t.bind("blur keyup change",a),r.$render=function(){t.html(r.$viewValue||"")},r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)}),e.$on("$destroy",function(){t.unbind("blur keyup change",a),t.unbind("focus",i)})}}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{restrict:"A",scope:{maasCodeLines:"&"},link:function(e,t,n){e.$watch(e.maasCodeLines,function(){t.empty(),t.text(e.maasCodeLines);var n=t.html().split("\n"),r="",i="<code>";$.each(n,function(){i+=r+'<span class="code-line">'+this+"</span>",r="\n"}),i+="</code>",t.html(i)})}}};t.default=r},function(e,t,n){"use strict";function r(e){return{restrict:"A",link:function(t,n,r){var i="<ng-include src=\"'"+("static/partials/cards/"+r.maasCardLoader+".html?v="+MAAS_config.files_version)+"'\"></ng-include>";n.html(i),e(n.contents())(t)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$compile"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e){return t.$inject=["$scope"],{restrict:"E",scope:{},template:['<p class="page-header__status" ','data-ng-if="data.region_import_running">','<span class="u-text--loading">','<i class="p-icon--loading u-animation--spin"></i>',"Step 1/2: Region controller importing","</span>","</p>",'<p class="page-header__status" ','data-ng-if="!data.region_import_running && ','data.rack_import_running">','<span class="u-text--loading">','<i class="p-icon--loading u-animation--spin"></i>',"Step 2/2: Rack controller(s) importing","</span>","</p>"].join(""),controller:t};function t(t){t.data=e.getData()}}function i(e,t,n,r){return i.$inject=["$scope"],{restrict:"E",scope:{design:"=?"},templateUrl:"static/partials/boot-images.html?v="+MAAS_config.files_version,controller:i};function i(i){i.loading=!0,i.saving=!1,i.saved=!1,i.stopping=!1,i.design=i.design||"page",i.bootResources=t.getData(),i.ubuntuImages=[],i.source={isNew:!1,tooMany:!1,showingAdvanced:!1,connecting:!1,errorMessage:"",source_type:"maas.io",url:"",keyring_filename:"",keyring_data:"",releases:[],arches:[],selections:{changed:!1,releases:[],arches:[]}},i.ubuntuCoreImages=[],i.ubuntu_core={changed:!1,images:[]},i.otherImages=[],i.other={changed:!1,images:[]},i.generatedImages=[],i.customImages=[],i.ubuntuDeleteId=null,i.removingImage=null,i.isSuperUser=function(){return n.isSuperUser()},i.getTitleIcon=function(){return 0===i.bootResources.resources.length?"p-icon--success-muted":"p-icon--success"},i.showMirrorPath=function(){return"custom"===i.source.source_type},i.isShowingAdvancedOptions=function(){return i.source.showingAdvanced},i.toggleAdvancedOptions=function(){i.source.showingAdvanced=!i.source.showingAdvanced},i.bothKeyringOptionsSet=function(){return i.source.keyring_filename.length>0&&i.source.keyring_data.length>0},i.showConnectButton=function(){return i.source.isNew},i.sourceChanged=function(){var e=i.bootResources.ubuntu.sources;if(0===e.length)i.source.isNew=!0;else{var t=i.source.isNew;i.source.isNew=i.source.source_type!==e[0].source_type,"custom"===i.source.source_type&&(i.source.isNew=i.source.isNew||i.source.url!==e[0].url),t&&!i.source.isNew&&(i.source.url=e[0].url,i.source.keyring_filename=e[0].keyring_filename,i.source.keyring_data=e[0].keyring_data),i.source.releases=[],i.source.arches=[],i.source.selections={changed:!1,releases:[],arches:[]}}i.updateSource(),i.regenerateUbuntuImages(),i.source.isNew&&"maas.io"===i.source.source_type&&i.connect()},i.isConnectButtonDisabled=function(){return"maas.io"!==i.source.source_type&&(i.bothKeyringOptionsSet()||0===i.source.url.length||i.source.connecting)},i.getSourceParams=function(){return"maas.io"===i.source.source_type?{source_type:"maas.io"}:{source_type:i.source.source_type,url:i.source.url,keyring_filename:i.source.keyring_filename,keyring_data:i.source.keyring_data}},i.selectDefaults=function(){angular.forEach(i.source.releases,function(e){"bionic"===e.name&&i.source.selections.releases.push(e)}),angular.forEach(i.source.arches,function(e){"amd64"===e.name&&i.source.selections.arches.push(e)})},i.connect=function(){if(!i.isConnectButtonDisabled()){var e=i.getSourceParams();i.source.connecting=!0,i.source.releases=[],i.source.arches=[],i.source.selections.changed=!0,i.source.selections.releases=[],i.source.selections.arches=[],i.regenerateUbuntuImages(),t.fetch(e).then(function(e){i.source.connecting=!1,e=angular.fromJson(e),i.source.releases=e.releases,i.source.arches=e.arches,i.selectDefaults(),i.regenerateUbuntuImages()},function(e){i.source.connecting=!1,i.source.errorMessage=e})}},i.showConnectBlock=function(){return i.source.tooMany||i.source.isNew&&!i.showSelections()},i.showSelections=function(){return i.source.releases.length>0&&i.source.arches.length>0},i.getUbuntuLTSReleases=function(){var e=i.bootResources.ubuntu.releases;i.source.isNew&&(e=i.source.releases);var t=[];return angular.forEach(e,function(e){e.deleted||-1===e.title.indexOf("LTS")||t.push(e)}),t},i.getUbuntuNonLTSReleases=function(){var e=i.bootResources.ubuntu.releases;i.source.isNew&&(e=i.source.releases);var t=[];return angular.forEach(e,function(e){e.deleted||-1!==e.title.indexOf("LTS")||t.push(e)}),t},i.getArchitectures=function(){var e=i.bootResources.ubuntu.arches;i.source.isNew&&(e=i.source.arches);var t=[];return angular.forEach(e,function(e){e.deleted||t.push(e)}),t},i.isSelected=function(e,t){return i.source.selections[e].indexOf(t)>=0},i.toggleSelection=function(e,t){var n=i.source.selections[e].indexOf(t);-1===n?i.source.selections[e].push(t):i.source.selections[e].splice(n,1),i.source.selections.changed=!0,i.regenerateUbuntuImages()},i.showImagesTable=function(){return i.ubuntuImages.length>0||i.source.arches.length>0&&i.source.releases.length>0},i.regenerateUbuntuImages=function(){var e=function(){return null},t=i.bootResources.resources.filter(function(e){var t=e.name.split("/")[0];return 0===e.rtype&&"ubuntu"===t});i.source.isNew||(e=function(e,n){var r;for(r=0;r<t.length;r++){var i=t[r];if(i.name.split("/")[1]===e&&i.arch===n)return t.splice(r,1),i}return null}),i.ubuntuImages.length=0,angular.forEach(i.source.selections.releases,function(t){angular.forEach(i.source.selections.arches,function(n){var r={icon:"p-icon--status-queued",title:t.title,arch:n.title,size:"-",status:"Selected for download",beingDeleted:!1,name:t.name},a=e(t.name,n.name);angular.isObject(a)&&(r.resourceId=a.id,r.icon="p-icon--status-"+a.icon,r.size=a.size,r.status=a.status,a.downloading&&(r.icon+=" u-animation--pulse")),i.ubuntuImages.push(r)})}),i.source.isNew||angular.forEach(t,function(e){var t=e.name.split("/"),n={icon:"p-icon--status-failed",title:e.title,arch:e.arch,size:e.size,status:"Will be deleted",beingDeleted:!0,name:t[1]};i.ubuntuImages.push(n)})},i.regenerateUbuntuCoreImages=function(){var e=i.bootResources.resources.filter(function(e){var t=e.name.split("/")[0];return 0===e.rtype&&"ubuntu-core"===t});i.ubuntuCoreImages.length=0,angular.forEach(i.ubuntu_core.images,function(t){if(t.checked){var n=t.name.split("/"),r={icon:"p-icon--status-queued",title:t.title,arch:n[1],size:"-",status:"Selected for download",beingDeleted:!1},a=function(t,n){var r;for(r=0;r<e.length;r++){var i=e[r];if(i.name.split("/")[1]===t&&i.arch===n)return e.splice(r,1),i}return null}(n[3],n[1]);angular.isObject(a)&&(r.icon="p-icon--status-"+a.icon,r.size=a.size,r.status=a.status,a.downloading&&(r.icon+=" u-animation--pulse")),i.ubuntuCoreImages.push(r)}}),angular.forEach(e,function(e){var t={icon:"p-icon--status-failed",title:e.title,arch:e.arch,size:e.size,status:"Will be deleted",beingDeleted:!0};i.ubuntuCoreImages.push(t)})},i.regenerateOtherImages=function(){var e=i.bootResources.resources.filter(function(e){var t=e.name.split("/")[0];return 0===e.rtype&&"ubuntu"!==t&&"ubuntu-core"!==t&&"custom"!==t});i.otherImages.length=0,angular.forEach(i.other.images,function(t){if(t.checked){var n=t.name.split("/"),r={icon:"p-icon--status-queued",title:t.title,arch:n[1],size:"-",status:"Selected for download",beingDeleted:!1},a=function(t,n){var r;for(r=0;r<e.length;r++){var i=e[r];if(i.name.split("/")[1]===t&&i.arch===n)return e.splice(r,1),i}return null}(n[3],n[1]);angular.isObject(a)&&(r.icon="p-icon--status-"+a.icon,r.size=a.size,r.status=a.status,a.downloading&&(r.icon+=" u-animation--pulse")),i.otherImages.push(r)}}),angular.forEach(e,function(e){var t={icon:"p-icon--status-failed",title:e.title,arch:e.arch,size:e.size,status:"Will be deleted",beingDeleted:!0};i.otherImages.push(t)})},i._regenerateImages=function(e,t){t.length=0,angular.forEach(i.bootResources.resources,function(n){if(n.rtype===e){var r={icon:"p-icon--status-"+n.icon,title:n.title,arch:n.arch,image_id:n.id,size:n.size,status:n.status};n.downloading&&(r.icon+=" u-animation--pulse"),t.push(r)}})},i.regenerateGeneratedImages=function(){i._regenerateImages(1,i.generatedImages)},i.regenerateCustomImages=function(){i._regenerateImages(2,i.customImages)},i.ltsIsSelected=function(){var e;for(e=0;e<i.ubuntuImages.length;e++){if(!i.ubuntuImages[e].beingDeleted&&i.ubuntuImages[e].title.indexOf("LTS")>=0)if(parseInt(i.ubuntuImages[e].title.split(".")[0],10)>=14)return!0}return!1},i.commissioningSeriesSelected=function(){var e;for(e=0;e<i.ubuntuImages.length;e++)if(!i.ubuntuImages[e].beingDeleted&&i.ubuntuImages[e].name===i.bootResources.ubuntu.commissioning_series)return!0;return!1},i.isShowingDeleteConfirm=function(e){return e===i.removingImage},i.quickRemove=function(e){i.removingImage=e},i.cancelRemove=function(){i.removingImage=null},i.confirmRemove=function(e){e===i.removingImage&&t.deleteImage({id:e.image_id}),i.cancelRemove()},i.showStopImportButton=function(){return i.bootResources.region_import_running},i.showSaveSelection=function(){return i.showImagesTable()},i.canSaveSelection=function(){var e,t=!1,n=0;for(e=0;e<i.ubuntuImages.length;e++)i.ubuntuImages[e].name===i.bootResources.ubuntu.commissioning_series&&n++;for(e=0;e<i.ubuntuImages.length;e++)if(i.ubuntuImages[e].beingDeleted&&i.ubuntuImages[e].name===i.bootResources.ubuntu.commissioning_series&&1===n){t=!0;break}return!t&&!i.saving&&!i.stopping&&i.ltsIsSelected()},i.getSaveSelectionText=function(){return i.saving?"Saving...":i.saved?"Selection updated":"Update selection"},i.canStopImport=function(){return!i.saving&&!i.stopping},i.getStopImportText=function(){return i.stopping?"Stopping...":"Stop import"},i.stopImport=function(){i.canStopImport()&&(i.stopping=!0,t.stopImport().then(function(){i.stopping=!1}))},i.saveSelection=function(){if(i.canSaveSelection()){var e=i.getSourceParams();e.releases=i.source.selections.releases.map(function(e){return e.name}),e.arches=i.source.selections.arches.map(function(e){return e.name}),i.saving=!0,t.saveUbuntu(e).then(function(){i.saving=!1,i.source.isNew=!1,i.source.selections.changed=!1,i.savedTimeout(),i.updateSource()})}},i.savedTimeout=function(){i.saved=!0,e(function(){return i.saved=!1},3e3)},i.getNewSelections=function(e,t){var n=[];return angular.forEach(e,function(e){angular.forEach(t,function(t){e.name===t.name&&n.push(e)})}),n},i.updateSource=function(){if(!i.source.isNew){var e=i.bootResources.ubuntu.sources.length;if(0===e)i.source.isNew=!0,i.source.source_type="custom",i.source.errorMessage="Currently no source exists.";else if(1===e){var t=i.bootResources.ubuntu.sources[0];i.source.source_type=t.source_type,"maas.io"===t.source_type?(i.source.url="",i.source.keyring_filename="",i.source.keyring_data=""):(i.source.url=t.url,i.source.keyring_filename=t.keyring_filename,i.source.keyring_data=t.keyring_data),i.source.releases=i.bootResources.ubuntu.releases,i.source.arches=i.bootResources.ubuntu.arches,i.source.selections.changed?(i.source.selections.releases=i.getNewSelections(i.source.releases,i.source.selections.releases),i.source.selections.arches=i.getNewSelections(i.source.arches,i.source.selections.arches)):(i.source.selections.releases=i.source.releases.filter(function(e){return e.checked}),i.source.selections.arches=i.source.arches.filter(function(e){return e.checked})),i.regenerateUbuntuImages()}else i.source.tooMany=!0,i.source.releases=i.bootResources.ubuntu.releases,i.source.arches=i.bootResources.ubuntu.arches,i.source.selections.releases=i.source.releases.filter(function(e){return e.checked}),i.source.selections.arches=i.source.arches.filter(function(e){return e.checked}),i.source.errorMessage="More than one image source exists. UI does not support modification of sources when more than one has been defined. Used the API to adjust your sources.",i.regenerateUbuntuImages()}},i.toggleUbuntuCoreSelection=function(e){i.ubuntu_core.changed=!0,e.checked=!e.checked,i.regenerateUbuntuCoreImages()},i.saveUbuntuCoreSelection=function(){var e={images:i.ubuntu_core.images.filter(function(e){return e.checked}).map(function(e){return e.name})};i.saving=!0,t.saveUbuntuCore(e).then(function(){i.saving=!1})},i.toggleOtherSelection=function(e){i.other.changed=!0,e.checked=!e.checked,i.regenerateOtherImages()},i.saveOtherSelection=function(){var e={images:i.other.images.filter(function(e){return e.checked}).map(function(e){return e.name})};i.saving=!0,t.saveOther(e).then(function(){i.saving=!1})},i.canBeRemoved=function(e){if(!angular.isNumber(e.resourceId))return!1;var t,n=i.bootResources.ubuntu.releases,r=i.bootResources.ubuntu.arches;for(t=0;t<n.length;t++){var a=n[t];if(a.deleted&&e.title===a.title)return!0}for(t=0;t<r.length;t++){var o=r[t];if(o.deleted&&e.arch===o.name)return!0}return!1},i.deleteImage=function(e){angular.isObject(e)?i.ubuntuDeleteId=e.resourceId:i.ubuntuDeleteId=null},i.confirmDeleteImage=function(){t.deleteImage({id:i.ubuntuDeleteId}),i.ubuntuDeleteId=null};var a=2;t.startPolling().then(function(){0===(a-=1)&&(i.loading=!1)}),r.loadManager(i,n).then(function(){0===(a-=1)&&(i.loading=!1)}),i.$watch("bootResources.ubuntu",function(){angular.isObject(i.bootResources.ubuntu)&&i.updateSource()}),i.$watch("bootResources.resources",function(){angular.isArray(i.bootResources.resources)&&(i.regenerateUbuntuImages(),i.regenerateUbuntuCoreImages(),i.regenerateOtherImages(),i.regenerateGeneratedImages(),i.regenerateCustomImages())}),i.$watch("bootResources.ubuntu_core_images",function(){var e=i.bootResources.ubuntu_core_images;angular.isArray(e)&&(i.ubuntu_core.changed||(i.ubuntu_core.images=e),i.regenerateUbuntuCoreImages())}),i.$watch("bootResources.other_images",function(){angular.isArray(i.bootResources.other_images)&&(i.other.changed||(i.other.images=i.bootResources.other_images),i.regenerateOtherImages())}),i.$on("$destroy",function(){t.stopPolling()})}}Object.defineProperty(t,"__esModule",{value:!0}),t.maasBootImagesStatus=r,t.maasBootImages=i,i.$inject=["$timeout","BootResourcesManager","UsersManager","ManagerHelperService"],r.$inject=["BootResourcesManager"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{restrict:"C",link:function(e,t,n){var r=function(e){var t=e.data.tab;angular.element(t).toggleClass("is-selected")},i=t.find(".maas-accordion-tab");angular.forEach(i,function(e){(e=angular.element(e)).on("click",{tab:e},r)}),e.$on("$destroy",function(){angular.forEach(i,function(e){angular.element(e).off("click",r)})})}}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{restrict:"E",scope:!0,templateUrl:"".concat("static/partials/nodelist/add-machine.html","?v=").concat(MAAS_config.files_version)}};t.default=r},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t,n,a,o,s,c){return u.$inject=["$scope"],{restrict:"E",scope:{search:"=",groupByLabel:"=",actionOption:"=",ngDisabled:"&",machineHasError:"&",hideCheckboxes:"=?",onListingChange:"&",onCheckAll:"&",onCheck:"=",pools:"=",zones:"="},templateUrl:"static/partials/machines-table.html?v="+s.MAAS_config.files_version,link:function(e){e.clickHandler=function(t){var n=t.target.classList||[],r=t.target.parentNode.classList||[];n.contains("p-table-menu__toggle")||n.contains("p-double-row__icon-container")||r.contains("p-table-menu__dropdown")||r.contains("p-double-row__icon-container")||e.$apply(e.closeMenu)},o.on("click",e.clickHandler),e.$on("$destroy",function(){return o.off("click",e.clickHandler)})},controller:u};function u(o){var s=[1,9,12,14,17,19,21],u=e.getItems();o.table={column:"fqdn",predicate:"fqdn",reverse:!1,allViewableChecked:!1,machines:u,filteredMachines:u,osinfo:a.getData("osinfo")},o.statusMenuActions=["commission","acquire","deploy","release","abort","test","rescue-mode","exit-rescue-mode","mark-broken","mark-fixed","override-failed-testing","lock","unlock"],o.openMenu="",o.groupBy=function(e,t){var n=new Map;return e.forEach(function(e){var r=t(e),i=n.get(r);i?i.push(e):n.set(r,[e])}),n},o.getActionSentence=function(e,t){var n="machine";switch(t&&t.hostname&&(n=t.hostname),e){case"abort":return"abort current action of ".concat(n);case"acquire":return"acquire ".concat(n);case"check":return"check power state of ".concat(n);case"commission":return"commission ".concat(n);case"deploy":return"deploy ".concat(n);case"exit-rescue-mode":return"exit rescue mode of ".concat(n);case"lock":return"lock ".concat(n);case"mark-broken":return"mark ".concat(n," as broken");case"mark-fixed":return"mark ".concat(n," as fixed");case"off":return"power off ".concat(n);case"on":return"power on ".concat(n);case"override-failed-testing":return"override failed testing of ".concat(n);case"release":return"release ".concat(n);case"rescue-mode":return"enter rescue mode of ".concat(n);case"set-pool":return"set pool of ".concat(n);case"set-zone":return"set zone of ".concat(n);case"test":return"test ".concat(n);case"unlock":return"unlock ".concat(n);default:return"perform action"}},o.updateAllChecked=function(){if(o.table.filteredMachines&&0===o.table.filteredMachines.length)o.table.allViewableChecked=!1;else{var e;for(e=0;e<o.table.filteredMachines.length;e++)if(!o.table.filteredMachines[e].$selected)return void(o.table.allViewableChecked=!1);o.table.allViewableChecked=!0}},o.toggleCheckAll=function(){o.table.allViewableChecked?angular.forEach(o.table.filteredMachines,function(t){e.unselectItem(t.system_id)}):angular.forEach(o.table.filteredMachines,function(t){e.selectItem(t.system_id)}),o.updateAllChecked(),o.onCheckAll()},o.toggleChecked=function(t){e.isSelected(t.system_id)?e.unselectItem(t.system_id):e.selectItem(t.system_id),o.updateAllChecked()},o.sortTable=function(e){o.table.predicate=e,o.table.reverse=!o.table.reverse},o.selectColumnOrSort=function(e){o.table.column!==e?o.table.column=e:o.sortTable(e)},o.showSpinner=function(e){return s.indexOf(e.status_code)>-1},o.showFailedTestWarning=function(e){if(o.showSpinner(e))return!1;switch(e.status_code){case 0:case 1:case 2:case 21:case 22:return!1}switch(e.testing_status){case-1:case 2:return!1}return!0},o.showNodeStatus=function(e){return!o.showSpinner(e)&&!o.showFailedTestWarning(e)&&-1!==e.other_test_status&&2!==e.other_test_status},o.getReleaseTitle=function(e){if(angular.isArray(o.table.osinfo.releases))for(var t=0;t<o.table.osinfo.releases.length;t++){var n=o.table.osinfo.releases[t];if(n[0]===e)return n[1]}return e},o.getStatusText=function(e){if(-1===["Deploying","Deployed"].indexOf(e.status))return e.status;var t=o.getReleaseTitle(e.osystem+"/"+e.distro_series);return"ubuntu"===e.osystem&&(t=t.split('"')[0].trim()),"Deployed"===e.status?t:"Deploying"===e.status?e.status+" "+t:void 0},o.getStatusMessage=function(e){return[1,9,12,14,17,19,21].indexOf(e.status_code)>=0?e.status_message:""},o.updateGroupedMachines=function(e){if(0!==o.table.filteredMachines.length)if("status"!==e)if("owner"!==e)o.groupedMachines=[{label:"none",machines:o.table.filteredMachines}];else{var t=o.groupBy(o.table.filteredMachines,function(e){return e.owner}),n=Array.from(t).map(function(e){var t=r(e,2),n=t[0],i=t[1];return""==n&&(n="No owner"),{label:n,machines:i}});o.groupedMachines=n}else{var a=o.groupBy(o.table.filteredMachines,function(e){return e.status});o.groupedMachines=[{label:"New",machines:i(a.get("New")||[])},{label:"Commissioning",machines:i(a.get("Commissioning")||[])},{label:"Ready",machines:[].concat(i(a.get("Ready")||[]),i(a.get("Releasing")||[]))},{label:"Allocated and deployed",machines:[].concat(i(a.get("Allocated")||[]),i(a.get("Deployed")||[]))},{label:"Deploying",machines:i(a.get("Deploying")||[])},{label:"Testing",machines:i(a.get("Testing")||[])},{label:"Disk erasing",machines:i(a.get("Disk erasing")||[])},{label:"Rescue mode",machines:[].concat(i(a.get("Entering rescue mode")||[]),i(a.get("Exiting rescue mode")||[]))},{label:"Failures",machines:[].concat(i(a.get("Failed commissioning")||[]),i(a.get("Broken")||[]),i(a.get("Missing")||[]),i(a.get("Failed deployment")||[]),i(a.get("Releasing failed")||[]),i(a.get("Failed disk erasing")||[]),i(a.get("Failed to enter rescue mode")||[]),i(a.get("Failed to exit rescue mode")||[]),i(a.get("Failed testing")||[]))},{label:"Retired",machines:i(a.get("Retired")||[])},{label:"Other",machines:i(a.get("Reserved")||[])}]}},o.$watchCollection("table.filteredMachines",function(){o.updateAllChecked(),o.onListingChange({$machines:o.table.filteredMachines}),o.updateGroupedMachines(o.groupByLabel)}),o.$watch("groupByLabel",function(){o.updateGroupedMachines(o.groupByLabel)}),o.$watch("table.machines",function(){"none"!==o.groupByLabel&&o.updateGroupedMachines(o.groupByLabel)},!0),o.$watch(function(e){return e.table.machines.map(function(e){return{id:e.id,state:e.power_state}})},function(e,t){e.forEach(function(e){var n=t.find(function(t){return t.id===e.id})||{};e.state!==n.state&&(o.table.machines.find(function(t){return t.id===e.id}).powerTransition=void 0)})},!0),o.formatMemoryUnit=function(e){return{value:parseFloat(e).toString(),unit:"GiB"}},o.formatStorageUnit=function(e){var t=parseFloat(e);return t<1e3?{value:Number(t.toPrecision(3)).toString(),unit:"GB"}:{value:Number((t/1e3).toPrecision(3)).toString(),unit:"TB"}},o.getCheckboxClass=function(e){return o.actionOption?e.$selected&&e.actions.indexOf(o.actionOption.name)>-1?"actionable":"not-actionable":""},o.getAllCheckboxClass=function(e){if(e&&o.actionOption){for(var t=0;t<e.length;t++)if(-1===e[t].actions.indexOf(o.actionOption.name))return"not-actionable";return"actionable"}return""},o.getBootIp=function(e){for(var t=0;t<e.length;t++)if(e[t].is_boot)return e[t].ip;return!1},o.removeDuplicates=function(e,t){if(angular.isArray(e))return e.filter(function(e,n,r){return r.map(function(e){return e[t]}).indexOf(e[t])===n})},o.changePowerState=function(t,n){o.closeMenu(),t.powerTransition=!0,"check"===n?e.checkPowerState(t).then(function(){t.action_failed=!1,t.powerTransition=void 0},function(e){o.createErrorNotification(t,n,e),t.action_failed=!0,t.powerTransition=void 0}):e.performAction(t,n).then(function(){t.action_failed=!1},function(e){o.createErrorNotification(t,n,e),t.action_failed=!0,t.powerTransition=void 0})},o.performAction=function(t,n,r){o.closeMenu(),t["".concat(n,"-transition")]=!0,angular.isObject(r)||(r={}),e.performAction(t,n,r).then(function(){t.action_failed=!1},function(e){o.createErrorNotification(t,n,e),t.action_failed=!0,t["".concat(n,"-transition")]=void 0})},o.getActionTitle=function(e){var t=a.getData("machine_actions");if(t.length)return t.find(function(t){return t.name===e}).title},o.getStatusActions=function(e){return o.statusMenuActions.filter(function(t){return e.actions.includes(t)})},o.toggleMenu=function(e){o.openMenu=o.openMenu===e?"":e},o.closeMenu=function(){return o.openMenu=""},o.createErrorNotification=function(e,r,i){var a=n.getAuthUser();angular.isObject(a)?t.createItem({message:"Unable to ".concat(o.getActionSentence(r,e),": ").concat(i),category:"error",user:a.id}):c.error(i)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a.$inject=["MachinesManager","NotificationsManager","UsersManager","GeneralManager","$document","$window","$log"];var o=a;t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{restrict:"E",templateUrl:"".concat("static/partials/nodedetails/storage/filesystems.html","?v=").concat(MAAS_config.files_version)}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return{restrict:"E",templateUrl:"".concat("static/partials/nodedetails/storage/disks-partitions.html","?v=").concat(MAAS_config.files_version)}};t.default=r},function(e,t,n){"use strict";function r(e,t,n,r,i){t.title="Zones",t.page="zones",e.zoneManager=n,e.zones=n.getItems(),e.currentpage="zones",e.predicate="name",e.reverse=!1,e.loading=!0,e.action={open:!1,obj:{}},e.addZone=function(){e.action.open=!0},e.closeZone=function(){e.action.open=!1,e.action.obj={}},e.isSuperUser=function(){return r.isSuperUser()},i.loadManagers(e,[n,r]).then(function(){e.loading=!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","$rootScope","ZonesManager","UsersManager","ManagerHelperService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s){function c(n){e.zone=n,e.loaded=!0,t.title=e.zone.name}t.title="Loading...",t.page="zones",e.loaded=!1,e.zone=null,e.zoneManager=i,e.editSummary=!1,e.predicate="name",e.reverse=!1,e.enterEditSummary=function(){e.editSummary=!0},e.exitEditSummary=function(){e.editSummary=!1},e.isSuperUser=function(){return a.isSuperUser()},e.isDefaultZone=function(){return!!angular.isObject(e.zone)&&1===e.zone.id},e.canBeDeleted=function(){return!!angular.isObject(e.zone)&&0!==e.zone.id},e.deleteButton=function(){e.error=null,e.confirmingDelete=!0},e.cancelDeleteButton=function(){e.confirmingDelete=!1},e.deleteConfirmButton=function(){i.deleteItem(e.zone).then(function(){e.confirmingDelete=!1,r.path("/zones")},function(t){e.error=o.parseValidationError(t)})},o.loadManagers(e,[i,a]).then(function(){var e=i.getActiveItem(),t=parseInt(n.zone_id,10);isNaN(t)?s.raiseError("Invalid zone identifier."):angular.isObject(e)&&e.id===t?c(e):i.setActiveItem(t).then(function(e){c(e)},function(e){s.raiseError(e)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","$rootScope","$routeParams","$location","ZonesManager","UsersManager","ManagerHelperService","ErrorService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,c,u,l,f){function d(n){e.space=n,t.title=e.space.name,e.predicate="[subnet_name, vlan_name]",e.$watch("subnets",h,!0),h(),e.loaded=!0}function h(){var t=[];angular.forEach(r("filter")(e.subnets,{space:e.space.id},!0),function(e){var n=o.getItemFromList(e.vlan),r=c.getItemFromList(n.fabric),i={vlan:n,vlan_name:o.getName(n),subnet:e,subnet_name:s.getName(e),fabric:r,fabric_name:r.name};t.push(i)}),e.rows=t}t.title="Loading...",t.page="networks",e.space=null,e.spaceManager=a,e.subnets=s.getItems(),e.loaded=!1,e.editSummary=!1,e.isSuperUser=function(){return u.isSuperUser()},e.enterEditSummary=function(){e.editSummary=!0},e.exitEditSummary=function(){e.editSummary=!1},e.isDefaultSpace=function(){return!!angular.isObject(e.space)&&0===e.space.id},e.canBeDeleted=function(){return!!angular.isObject(e.space)&&0===e.space.subnet_ids.length},e.deleteButton=function(){e.error=null,e.confirmingDelete=!0},e.cancelDeleteButton=function(){e.confirmingDelete=!1},e.deleteConfirmButton=function(){a.deleteSpace(e.space).then(function(){e.confirmingDelete=!1,i.path("/networks"),i.search("by","space")},function(t){e.error=l.parseValidationError(t)})},l.loadManagers(e,[a,s,o,c,u]).then(function(){var e=a.getActiveItem(),t=parseInt(n.space_id,10);isNaN(t)?f.raiseError("Invalid space identifier."):angular.isObject(e)&&e.id===t?d(e):a.setActiveItem(t).then(function(e){d(e)},function(e){f.raiseError(e)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","$rootScope","$routeParams","$filter","$location","SpacesManager","VLANsManager","SubnetsManager","FabricsManager","UsersManager","ManagerHelperService","ErrorService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,c,u,l){t.title="Loading...",t.page="settings",e.loading=!0,e.snippetsManager=i,e.snippets=i.getItems(),e.subnets=c.getItems(),e.machines=a.getItems(),e.devices=s.getItems(),e.controllers=o.getItems(),e.known_architectures=u.getData("known_architectures"),e.pockets_to_disable=u.getData("pockets_to_disable"),e.components_to_disable=u.getData("components_to_disable"),e.packageRepositoriesManager=r,e.repositories=r.getItems(),e.newSnippet=null,e.editSnippet=null,e.deleteSnippet=null,e.snippetTypes=["Global","Subnet","Node"],e.newRepository=null,e.editRepository=null,e.deleteRepository=null,e.repositoryEnabledToggle=function(e){r.updateItem(e)},e.repositoryEnterRemove=function(t){e.newRepository=null,e.editRepository=null,e.deleteRepository=t},e.repositoryExitRemove=function(){e.deleteRepository=null},e.repositoryConfirmRemove=function(){r.deleteItem(e.deleteRepository).then(function(){e.repositoryExitRemove()})},e.isPPA=function(e){return!!angular.isObject(e)&&(!!angular.isString(e.url)&&(0===e.url.indexOf("ppa:")||e.url.indexOf("ppa.launchpad.net")>-1))},e.isMirror=function(e){return!!angular.isObject(e)&&(!!angular.isString(e.name)&&("main_archive"===e.name||"ports_archive"===e.name))},e.repositoryEnterEdit=function(t){e.newRepository=null,e.deleteRepository=null,e.editRepository=t},e.repositoryExitEdit=function(){e.editRepository=null},e.repositoryAdd=function(t){var n={name:"",enabled:!0,url:"",key:"",arches:["i386","amd64"],distributions:[],components:[]};t&&(n.url="ppa:"),e.newRepository=n},e.repositoryAddCancel=function(){e.newRepository=null},e.getSubnetName=function(e){return c.getName(e)},e.getSnippetTypeText=function(e){return angular.isString(e.node)?"Node":angular.isNumber(e.subnet)?"Subnet":"Global"},e.getSnippetAppliesToObject=function(e){return angular.isString(e.node)?(t=e.node,n=a.getItemFromList(t),angular.isObject(n)?n:(n=s.getItemFromList(t),angular.isObject(n)?n:(n=o.getItemFromList(t),angular.isObject(n)?n:void 0))):angular.isNumber(e.subnet)?c.getItemFromList(e.subnet):void 0;var t,n},e.getSnippetAppliesToText=function(t){var n=e.getSnippetAppliesToObject(t);return angular.isString(t.node)&&angular.isObject(n)?n.fqdn:angular.isNumber(t.subnet)&&angular.isObject(n)?c.getName(n):""},e.snippetEnterRemove=function(t){e.newSnippet=null,e.editSnippet=null,e.deleteSnippet=t},e.snippetExitRemove=function(){e.deleteSnippet=null},e.snippetConfirmRemove=function(){i.deleteItem(e.deleteSnippet).then(function(){e.snippetExitRemove()})},e.snippetEnterEdit=function(t){e.newSnippet=null,e.deleteSnippet=null,e.editSnippet=t,e.editSnippet.type=e.getSnippetTypeText(t)},e.snippetExitEdit=function(){e.editSnippet=null},e.snippetToggle=function(e){i.updateItem(e).then(null,function(t){e.enabled=!e.enabled,console.log(t)})},e.snippetAdd=function(){e.editSnippet=null,e.deleteSnippet=null,e.newSnippet={name:"",type:"Global",enabled:!0}},e.snippetAddCancel=function(){e.newSnippet=null},"dhcp"===n.section?(t.title="DHCP snippets",e.currentpage="dhcp"):"repositories"===n.section&&(t.title="Package repositories",e.currentpage="repositories"),l.loadManagers(e,[r,i,a,s,o,c,u]).then(function(){e.loading=!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","$rootScope","$routeParams","PackageRepositoriesManager","DHCPSnippetsManager","MachinesManager","ControllersManager","DevicesManager","SubnetsManager","GeneralManager","ManagerHelperService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n){e.loading=!0,n.loadManager(e,t).then(function(){e.loading=!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","UsersManager","ManagerHelperService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s){function c(){if(0!==e.pods.length){var t;for(t=0;t<e.pods.length;t++)if(!e.pods[t].$selected)return void(e.allViewableChecked=!1);e.allViewableChecked=!0}else e.allViewableChecked=!1}function u(){f(),e.action.option=null}function l(){0===e.selectedItems.length&&(u(),e.action.option&&(e.action.option=null))}function f(){var t=e.action.progress;t.completed=t.total=t.errors=0,angular.forEach(e.pods,function(e){delete e.action_failed})}function d(){e.hasActionsFailed()?(angular.forEach(e.pods,function(e){!1===e.action_failed&&n.unselectItem(e.id)}),l()):e.hasActionsInProgress()||u()}t.title="Pods",t.page="pods",e.podManager=n,e.pods=n.getItems(),e.loading=!0,e.filteredItems=[],e.selectedItems=n.getSelectedItems(),e.predicate="name",e.allViewableChecked=!1,e.action={option:null,options:[{name:"refresh",title:"Refresh",sentence:"refresh",operation:angular.bind(n,n.refresh)},{name:"delete",title:"Delete",sentence:"delete",operation:angular.bind(n,n.deleteItem)}],progress:{total:0,completed:0,errors:0}},e.add={open:!1,obj:{cpu_over_commit_ratio:1,memory_over_commit_ratio:1}},e.powerTypes=i.getData("power_types"),e.zones=a.getItems(),e.pools=s.getItems(),e.toggleChecked=function(e){n.isSelected(e.id)?n.unselectItem(e.id):n.selectItem(e.id),c(),l()},e.toggleCheckAll=function(){e.allViewableChecked?angular.forEach(e.pods,function(e){n.unselectItem(e.id)}):angular.forEach(e.pods,function(e){n.selectItem(e.id)}),c(),l()},e.$watchCollection("pods",function(){c()}),e.sortTable=function(t){e.predicate=t,e.reverse=!e.reverse},e.actionCancel=function(){f(),e.action.option=null},e.availableWithOvercommit=n.availableWithOvercommit,e.actionGo=function(){f(),e.action.progress.total=e.selectedItems.length;var t=e.action.option.operation;angular.forEach(e.selectedItems,function(n){t(n).then(function(){e.action.progress.completed+=1,n.action_failed=!1,d()},function(t){e.action.progress.errors+=1,n.action_error=t,n.action_failed=!0,d()})})},e.hasActionsInProgress=function(){var t=e.action.progress;return t.total>0&&t.completed+t.errors!==t.total},e.hasActionsFailed=function(){return e.action.progress.errors>0},e.addPod=function(){e.add.open=!0,e.add.obj.zone=a.getDefaultZone().id,e.add.obj.default_pool=s.getDefaultPool().id,e.add.obj.cpu_over_commit_ratio=1,e.add.obj.memory_over_commit_ratio=1},e.cancelAddPod=function(){e.add.open=!1,e.add.obj={}},e.isRackControllerConnected=function(){return e.powerTypes.length>0},e.canAddPod=function(){return e.isRackControllerConnected()&&r.hasGlobalPermission("pod_create")},e.showActions=function(){for(var t=0;t<e.pods.length;t++)if(e.pods[t].permissions&&e.pods[t].permissions.indexOf("edit")>=0)return!0;return!1},e.getPowerTypeTitle=function(t){var n;for(n=0;n<e.powerTypes.length;n++){var r=e.powerTypes[n];if(r.name===t)return r.description}return t},o.loadManagers(e,[n,r,i,a,s]).then(function(){e.loading=!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","$rootScope","PodsManager","UsersManager","GeneralManager","ZonesManager","ManagerHelperService","ResourcePoolsManager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,c,u,l,f,d,h,p,g,m,b,v){function y(){e.name.editing||(e.name.value=e.pod.name)}t.title="Loading...",t.page="pods",e.loaded=!1,e.pod=null,e.podManager=a,e.action={option:null,options:[{name:"refresh",title:"Refresh",sentence:"refresh",operation:angular.bind(a,a.refresh)},{name:"delete",title:"Delete",sentence:"delete",operation:angular.bind(a,a.deleteItem)}],inProgress:!1,error:null},e.defaultInterface={name:"default"},e.compose={action:{name:"compose",title:"Compose",sentence:"compose"},obj:{storage:[{type:"local",size:8,tags:[],pool:{},boot:!0}],requests:[],interfaces:[e.defaultInterface]}},e.power_types=o.getData("power_types"),e.domains=c.getItems(),e.zones=u.getItems(),e.pools=h.getItems(),e.section={area:"summary"},e.machinesSearch="pod-id:=invalid",e.editing=!1,e.name={editing:!1,value:""},e.isRackControllerConnected=function(){return e.power_types.length>0},e.canEdit=function(){return!!(e.isRackControllerConnected()&&e.pod&&e.pod.permissions&&-1!==e.pod.permissions.indexOf("edit"))},e.editPodConfiguration=function(){e.canEdit()&&(e.editing=!0)},e.exitEditPodConfiguration=function(){e.editing=!1},e.editName=function(){e.canEdit()&&(e.name.editing||(e.name.editing=!0,e.name.value=e.pod.name))},e.editNameInvalid=function(){if(!e.name.editing)return!1;var t=e.name.value;return 0===t.length||!v.validateHostname(t)},e.cancelEditName=function(){e.name.editing=!1,y()},e.saveEditName=function(){if(!e.editNameInvalid()){e.name.editing=!1;var t=angular.copy(e.pod);t.name=e.name.value,e.updatePod(t)}},e.updatePod=function(t){return e.podManager.updateItem(t).then(function(e){y()},function(e){console.log(e),y()})},e.isActionError=function(){return null!==e.action.error},e.actionOptionChanged=function(){e.action.error=null},e.actionCancel=function(){e.action.option=null,e.action.error=null},e.actionGo=function(){e.action.inProgress=!0,e.action.option.operation(e.pod).then(function(){"delete"===e.action.option.name&&n.path("/pods"),e.action.inProgress=!1,e.action.option=null,e.action.error=null},function(t){e.action.inProgress=!1,e.action.error=t})},e.openSubnetOptions=function(t){angular.forEach(e.compose.obj.interfaces,function(e){e.showOptions=!1}),t.showOptions=!0},e.validateMachineCompose=function(){e.compose.obj.requests.length<1&&e.updateRequests();var t=!0;return e.compose.obj.requests.forEach(function(e){(e.size>e.available||""===e.size)&&(t=!1)}),t},e.totalStoragePercentage=function(e,t,n){var r=e.used/e.total*100,i=t/e.total*100,a=n/e.total*100,o=r+i;return n&&(o=r+i+a),o},e.updateRequests=function(){var t=[];e.compose.obj.storage.forEach(function(e){var n=t.find(function(t){return t.poolId===e.pool.id});n?n.size+=parseInt(e.size,10):t.push({poolId:e.pool.id,size:e.size,available:Math.round(e.pool.available/1e3/1e3/1e3)})}),e.compose.obj.requests=t},e.getOtherRequests=function(t,n){for(var r=e.compose.obj.requests,i=0,a=0;a<r.length;a++)t.id===r[a].poolId&&(i=r[a].size);return t.id===n.pool.id&&(i-=n.size),i},e.poolOverCapacity=function(t){for(var n=e.pod.storage_pools.find(function(e){return e.id===t.pool.id}),r=e.compose.obj.requests,a=0,o=0;o<r.length;o++)n.id===r[o].poolId&&(a=r[o].size);return i("convertGigabyteToBytes")(a)>n.available},e.numberOnly=function(e){var t=e.which?e.which:event.keyCode;t>31&&(t<48||t>57)&&e.preventDefault()},e.openOptions=function(t){angular.forEach(e.compose.obj.storage,function(e){e.showOptions=!1}),t.showOptions=!0,e.updateRequests()},e.closeOptions=function(e){e.showOptions=!1},e.closeStorageOptions=function(){angular.forEach(e.compose.obj.storage,function(e){e.showOptions=!1})},e.selectStoragePool=function(t,n,r){r||(n.pool=t,e.updateRequests())},e.getPodTypeTitle=function(){var t;for(t=0;t<e.power_types.length;t++){var n=e.power_types[t];if(n.name===e.pod.type)return n.description}return e.pod.type},e.canCompose=function(){return!(!angular.isObject(e.pod)||!angular.isArray(e.pod.permissions))&&(e.pod.permissions.indexOf("compose")>=0&&e.pod.capabilities.indexOf("composable")>=0)},e.composeMachine=function(){e.action.option=e.compose.action,e.updateRequests()},e.availableWithOvercommit=a.availableWithOvercommit,e.stripTrailingZero=function(e){if(e)return e.toString().replace(/[.,]0$/,"")},e.composePreProcess=function(t){(t=angular.copy(t)).id=e.pod.id;var n=e.compose.obj.storage.sort(function(e,t){return e.boot===t.boot?0:e.boot&&!t.boot?-1:1}),r=[];angular.forEach(n,function(t,n){var i=n+":"+t.size,a=t.tags.map(function(e){return e.text});"rsd"===e.pod.type?a.splice(0,0,t.type):"virsh"===e.pod.type&&a.splice(0,0,t.pool.name),i+="("+a.join(",")+")",r.push(i)}),t.storage=r.join(",");var i=[];return angular.forEach(e.compose.obj.interfaces,function(e){var t="";e.ipaddress?t="".concat(e.name,":ip=").concat(e.ipaddress):e.subnet&&(t="".concat(e.name,":subnet_cidr=").concat(e.subnet.cidr)),t&&i.push(t)}),t.interfaces=i.join(";"),t},e.copyToClipboard=function(e){var t=e.currentTarget.previousSibling.previousSibling.value,n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)},e.cancelCompose=function(){e.compose.obj={storage:[{type:"local",size:8,tags:[],pool:e.getDefaultStoragePool(),boot:!0}],requests:[],interfaces:[e.defaultInterface]},e.action.option=null},e.hasMultipleRequests=function(e){return e.otherRequests>0},e.composeAddStorage=function(){var t={type:"local",size:8,tags:[],pool:e.getDefaultStoragePool(),boot:!1};e.closeStorageOptions(),e.pod.capabilities.indexOf("iscsi_storage")>=0&&(t.type="iscsi"),e.compose.obj.storage.push(t),e.updateRequests()},e.composeSetBootDisk=function(t){angular.forEach(e.compose.obj.storage,function(e){e.boot=!1}),t.boot=!0},e.getDefaultStoragePool=function(){var t={};return e.pod.storage_pools&&e.pod.default_storage_pool&&(t=e.pod.storage_pools.filter(function(t){return t.id==e.pod.default_storage_pool})[0]),e.selectedPoolId||(e.selectedPoolId=t.id),t},e.composeRemoveDisk=function(t){var n=e.compose.obj.storage.indexOf(t);n>=0&&e.compose.obj.storage.splice(n,1),e.updateRequests()},e.bySpace=function(e){return function(t){return e&&null!==t.space?t.space.name==e:e?void 0:!t.space}},e.hasSpacelessSubnets=function(){return e.availableSubnets.some(function(e){return!e.space})},e.selectSubnet=function(t,n){var r=e.compose.obj.interfaces.indexOf(n),i=e.compose.obj.interfaces[r];return i.subnet=t,i.space=t.space,i.vlan=t.vlan,i.fabric=t.fabric,i.pxe=e.pod.boot_vlans.includes(t.vlan.id),e.closeOptions(n),t},e.resetSubnetList=function(t){var n=e.availableSubnets;t.selectedSpace&&(n=n.filter(function(e){if(e.space)return e.space.name===t.selectedSpace})),n.length>0?t.subnet=e.selectSubnet(n[0],t):t.subnet=void 0},e.selectSubnetByIP=function(t){t.ipaddress&&angular.forEach(e.availableSubnets,function(n,r){v.validateIPInNetwork(t.ipaddress,n.cidr)&&(t.subnet=e.selectSubnet(n,t))})};e.composeAddInterface=function(){var t=e.compose.obj.interfaces.indexOf(e.defaultInterface);t>=0&&e.compose.obj.interfaces.splice(t,1);var n={name:"eth".concat(e.compose.obj.interfaces.length)};e.compose.obj.interfaces.push(n)},e.composeRemoveInterface=function(t){var n=e.compose.obj.interfaces.indexOf(t);n>=0&&e.compose.obj.interfaces.splice(n,1),0==e.compose.obj.interfaces.length&&e.compose.obj.interfaces.push(e.defaultInterface)},e.startWatching=function(){e.$watch("subnets",function(){angular.forEach(e.subnets,function(t,n){e.pod.attached_vlans.includes(t.vlan)&&e.availableSubnets.push(function(e){var t=Object.assign({},e);return t.name===t.cidr?t.displayName=t.cidr:t.displayName="".concat(t.cidr," (").concat(t.name,")"),t.vlan=g.getItemFromList(t.vlan),t.vlan&&(t.fabric=m.getItemFromList(t.vlan.fabric)),t.space=b.getItemFromList(t.space),t}(t))})}),e.$watch("pod.name",function(){t.title="Pod "+e.pod.name,y()}),e.$watch("pod.capabilities",function(){var t=e.action.options.indexOf(e.compose.action);e.canCompose()?-1===t&&e.action.options.splice(0,0,e.compose.action):t>=0&&e.action.options.splice(t,1)}),e.$watch("action.option",function(t,n){t&&"compose"===t.name&&(n&&"compose"===n.name||(e.compose.obj.domain=c.getDefaultDomain().id,e.compose.obj.zone=u.getDefaultZone(e.pod).id,e.compose.obj.pool=e.pod.default_pool))})},f.loadManagers(e,[a,o,s,c,u,l,h,p,g,m,b]).then(function(){e.spaces=b.getItems(),e.subnets=p.getItems(),e.availableSubnets=[];var t=a.getActiveItem();angular.isObject(t)&&t.id===parseInt(r.id,10)?(e.pod=t,e.compose.obj.storage[0].pool=e.getDefaultStoragePool(),e.loaded=!0,e.machinesSearch="pod-id:="+e.pod.id,e.startWatching()):a.setActiveItem(parseInt(r.id,10)).then(function(t){e.pod=t,e.compose.obj.storage[0].pool=e.getDefaultStoragePool(),e.loaded=!0,e.machinesSearch="pod-id:="+e.pod.id,e.startWatching()},function(e){d.raiseError(e)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","$rootScope","$location","$routeParams","$filter","PodsManager","GeneralManager","UsersManager","DomainsManager","ZonesManager","MachinesManager","ManagerHelperService","ErrorService","ResourcePoolsManager","SubnetsManager","VLANsManager","FabricsManager","SpacesManager","ValidationService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,c,u,l,f,d,h,p,g,m,b,v,y,_){var w={external:"External",dynamic:"Dynamic",static:"Static"};function S(e){var n=t.tabs[e].search.toLowerCase();return"in:(selected)"===n||"in:selected"===n}function M(e){t.tabs[e].previous_search=t.tabs[e].search,t.tabs[e].search="in:(Selected)"}function E(e){S(e)&&(t.tabs[e].search=t.tabs[e].previous_search,t.updateFilters(e))}function A(e){if(0!==t.tabs[e].filtered_items.length){var n;for(n=0;n<t.tabs[e].filtered_items.length;n++)if(!t.tabs[e].filtered_items[n].$selected)return void(t.tabs[e].allViewableChecked=!1);t.tabs[e].allViewableChecked=!0}else t.tabs[e].allViewableChecked=!1}function k(e){P(e),E(e),t.tabs[e].actionOption=null,t.tabs[e].zoneSelection=null,t.tabs[e].poolSelection=null,t.tabs[e].poolAction="select-pool",t.tabs[e].newPool={},"machines"!==e&&"switches"!==e||(angular.isFunction(t.tabs[e].osSelection.$reset)&&t.tabs[e].osSelection.$reset(),t.tabs[e].commissionOptions.enableSSH=!1,t.tabs[e].commissionOptions.skipBMCConfig=!1,t.tabs[e].commissionOptions.skipNetworking=!1,t.tabs[e].commissionOptions.skipStorage=!1,t.tabs[e].commissionOptions.updateFirmware=!1,t.tabs[e].commissionOptions.configureHBA=!1,t.tabs[e].deployOptions.installKVM=!1),t.tabs[e].commissioningSelection=[],t.tabs[e].testSelection=[]}function I(e){0===t.tabs[e].selectedItems.length&&k(e),t.tabs[e].actionOption&&!S(e)&&(t.tabs[e].actionOption=null)}function O(e){0===t.tabs[e].filtered_items.length&&""!==t.tabs[e].search&&t.tabs[e].search===t.tabs[e].previous_search&&(t.tabs[e].search="",t.updateFilters(e))}function x(e){var n;for(t.tabs[e].actionErrorCount=0,n=0;n<t.tabs[e].selectedItems.length;n++){t.supportsAction(t.tabs[e].selectedItems[n],e)||(t.tabs[e].actionErrorCount+=1),t.tabs[e].selectedItems[n].action_failed=!1}}function P(e){var n=t.tabs[e].actionProgress;n.completed=n.total=0,n.errors={},n.showing_confirmation=!1,n.confirmation_message="",n.confirmation_details=[],n.affected_nodes=0}function C(e,n,r){var i=t.tabs[e].actionProgress;i.completed+=1;var a=i.errors[n];angular.isUndefined(a)?i.errors[n]=[r]:a.push(r)}function j(e){t.hasActionsFailed(e)?angular.forEach(t.tabs[e].manager.getItems(),function(n){!1===n.action_failed&&t.tabs[e].manager.unselectItem(n.system_id)}):t.hasActionsInProgress(e)||(k(e),M(e))}r.title="Machines",r.page="machines",t.MAAS_config=o.MAAS_config,t.machines=s.getItems(),t.zones=h.getItems(),t.pools=v.getItems(),t.devices=c.getItems(),t.controllers=u.getItems(),t.switches=b.getItems(),t.showswitches="on"===i.switches,t.currentpage="machines",t.osinfo={},t.scripts=m.getItems(),t.vlans=y.getItems(),t.loading=!0,t.tags=[],t.tagsAutocomplete=function(e){return _.autocomplete(e)},t.tabs={},t.pluralize=function(e){var n={machines:"machine",switches:"switch",devices:"device",controllers:"controller"}[e];return t.tabs[e].selectedItems.length>1&&(n=e),n},t.tabs.machines={},t.tabs.machines.pagetitle="Machines",t.tabs.machines.currentpage="machines",t.tabs.machines.manager=s,t.tabs.machines.previous_search="",t.tabs.machines.search="",t.tabs.machines.searchValid=!0,t.tabs.machines.selectedItems=s.getSelectedItems(),t.tabs.machines.metadata=s.getMetadata(),t.tabs.machines.filters=d.getEmptyFilter(),t.tabs.machines.actionOption=null,t.tabs.machines.takeActionOptions=[],t.tabs.machines.actionErrorCount=0,t.tabs.machines.actionProgress={total:0,completed:0,errors:{},showing_confirmation:!1,confirmation_message:"",confirmation_details:[],affected_nodes:0},t.tabs.machines.osSelection={osystem:null,release:null,hwe_kernel:null},t.tabs.machines.zoneSelection=null,t.tabs.machines.poolSelection=null,t.tabs.machines.poolAction="select-pool",t.tabs.machines.newPool={},t.tabs.machines.commissionOptions={enableSSH:!1,skipBMCConfig:!1,skipNetworking:!1,skipStorage:!1,updateFirmware:!1,configureHBA:!1},t.tabs.machines.deployOptions={installKVM:!1},t.tabs.machines.releaseOptions={},t.tabs.machines.commissioningSelection=[],t.tabs.machines.testSelection=[],t.tabs.pools={},t.tabs.pools.pagetitle="Machines",t.tabs.pools.currentpage="pools",t.tabs.pools.manager=v,t.tabs.pools.actionOption=!1,t.tabs.pools.newPool={name:null,description:null},t.tabs.pools.addPool=function(){t.tabs.pools.actionOption=!0},t.tabs.pools.cancelAddPool=function(){t.tabs.pools.actionOption=!1,t.tabs.pools.newPool={}},t.tabs.pools.activeTarget=null,t.tabs.pools.activeTargetAction=null,t.tabs.pools.actionErrorMessage=null,t.tabs.pools.initiatePoolAction=function(e,n){var r=t.tabs.pools;r.cancelPoolAction(),r.activeTargetAction=n,r.activeTarget=e,r.editingPool=e},t.tabs.pools.cancelPoolAction=function(){var e=t.tabs.pools;e.activeTargetAction=null,e.activeTarget=null,e.actionErrorMessage=null},t.tabs.pools.isPoolAction=function(e,n){var r=t.tabs.pools;return(void 0===n||r.activeTargetAction===n)&&null!==r.activeTarget&&r.activeTarget.id===e.id},t.tabs.pools.actionConfirmEditPool=function(){t.tabs.pools.cancelPoolAction()},t.tabs.pools.actionConfirmDeletePool=function(){var e=t.tabs.pools;e.manager.deleteItem(e.activeTarget).then(e.cancelPoolAction,function(e){t.tabs.pools.actionErrorMessage=e})},t.tabs.pools.goToPoolMachines=function(e){t.clearSearch("machines"),t.toggleFilter("pool",e.name,"machines"),t.toggleTab("machines"),a.path("/machines")},t.tabs.pools.isDefaultPool=function(e){return 0===e.id},t.nodesManager=s,t.tabs.devices={},t.tabs.devices.pagetitle="Devices",t.tabs.devices.currentpage="devices",t.tabs.devices.manager=c,t.tabs.devices.previous_search="",t.tabs.devices.search="",t.tabs.devices.searchValid=!0,t.tabs.devices.selectedItems=c.getSelectedItems(),t.tabs.devices.filtered_items=[],t.tabs.devices.predicate="fqdn",t.tabs.devices.allViewableChecked=!1,t.tabs.devices.metadata=c.getMetadata(),t.tabs.devices.filters=d.getEmptyFilter(),t.tabs.devices.column="fqdn",t.tabs.devices.actionOption=null,t.tabs.devices.takeActionOptions=[],t.tabs.devices.actionErrorCount=0,t.tabs.devices.actionProgress={total:0,completed:0,errors:{},showing_confirmation:!1,confirmation_message:"",confirmation_details:[],affected_nodes:0},t.tabs.devices.zoneSelection=null,t.tabs.devices.poolSelection=null,t.tabs.devices.poolAction="select-pool",t.tabs.devices.newPool={},t.tabs.controllers={},t.tabs.controllers.pagetitle="Controllers",t.tabs.controllers.currentpage="controllers",t.tabs.controllers.manager=u,t.tabs.controllers.previous_search="",t.tabs.controllers.search="",t.tabs.controllers.searchValid=!0,t.tabs.controllers.selectedItems=u.getSelectedItems(),t.tabs.controllers.filtered_items=[],t.tabs.controllers.predicate="fqdn",t.tabs.controllers.allViewableChecked=!1,t.tabs.controllers.metadata=u.getMetadata(),t.tabs.controllers.filters=d.getEmptyFilter(),t.tabs.controllers.column="fqdn",t.tabs.controllers.actionOption=null,t.tabs.controllers.takeActionOptions=[],t.tabs.controllers.actionErrorCount=0,t.tabs.controllers.actionProgress={total:0,completed:0,errors:{},showing_confirmation:!1,confirmation_message:"",confirmation_details:[],affected_nodes:0},t.tabs.controllers.zoneSelection=null,t.tabs.controllers.poolSelection=null,t.tabs.controllers.poolAction="select-pool",t.tabs.controllers.newPool={},t.tabs.controllers.syncStatuses={},t.tabs.controllers.addController=!1,t.tabs.controllers.registerUrl=MAAS_config.register_url,t.tabs.controllers.registerSecret=MAAS_config.register_secret,t.tabs.switches={},t.tabs.switches.pagetitle="Switches",t.tabs.switches.currentpage="switches",t.tabs.switches.manager=b,t.tabs.switches.previous_search="",t.tabs.switches.search="",t.tabs.switches.searchValid=!0,t.tabs.switches.selectedItems=b.getSelectedItems(),t.tabs.switches.predicate="fqdn",t.tabs.switches.allViewableChecked=!1,t.tabs.switches.metadata=b.getMetadata(),t.tabs.switches.filters=d.getEmptyFilter(),t.tabs.switches.column="fqdn",t.tabs.switches.actionOption=null,t.tabs.switches.takeActionOptions=[],t.tabs.switches.actionErrorCount=0,t.tabs.switches.actionProgress={total:0,completed:0,errors:{},showing_confirmation:!1,confirmation_message:"",confirmation_details:[],affected_nodes:0},t.tabs.switches.osSelection={osystem:null,release:null,hwe_kernel:null},t.tabs.switches.zoneSelection=null,t.tabs.switches.poolSelection=null,t.tabs.switches.poolAction="select-pool",t.tabs.switches.newPool={},t.tabs.switches.commissioningSelection=[],t.tabs.switches.commissionOptions={enableSSH:!1,skipBMCConfig:!1,skipNetworking:!1,skipStorage:!1,updateFirmware:!1,configureHBA:!1},t.tabs.switches.deployOptions={installKVM:!1},t.tabs.switches.releaseOptions={},t.addHardwareOption=null,t.addHardwareOptions=[{name:"machine",title:"Machine"},{name:"chassis",title:"Chassis"}],t.addHardwareScope=null,t.addDeviceScope=null,t.$on("addHardwareHidden",function(){t.addHardwareOption=null}),t.toggleTab=function(e){switch(r.title=t.tabs[e].pagetitle,r.page=e,t.currentpage=e,e){case"machines":t.osinfo=l.getData("osinfo"),t.tabs.machines.takeActionOptions=l.getData("machine_actions");break;case"devices":t.tabs.devices.takeActionOptions=l.getData("device_actions");break;case"controllers":t.tabs.controllers.takeActionOptions=l.getData("rack_controller_actions");break;case"switches":t.tabs.switches.takeActionOptions=l.getData("machine_actions")}},t.clearSearch=function(e){t.tabs[e].search="",t.updateFilters(e)},t.toggleChecked=function(e,n){"machines"!==n&&"switches"!==n&&(t.tabs[n].manager.isSelected(e.system_id)?t.tabs[n].manager.unselectItem(e.system_id):t.tabs[n].manager.selectItem(e.system_id),A(n)),x(n),I(n)},t.toggleCheckAll=function(e){"machines"!==e&&"switches"!==e&&(t.tabs[e].allViewableChecked?angular.forEach(t.tabs[e].filtered_items,function(n){t.tabs[e].manager.unselectItem(n.system_id)}):angular.forEach(t.tabs[e].filtered_items,function(n){t.tabs[e].manager.selectItem(n.system_id)}),A(e)),x(e),I(e)},t.updateAvailableActions=function(e){var n=t.tabs[e].selectedItems;t.tabs[e].takeActionOptions.forEach(function(e){var t=0;n.forEach(function(n){n.actions.indexOf(e.name)>-1&&(t+=1),e.available=t})})},t.unselectImpossibleNodes=function(e){var n=t.tabs[e].selectedItems,r=t.tabs[e].actionOption,i=[];n.forEach(function(e){-1===e.actions.indexOf(r.name)&&i.push(e.system_id)}),i.forEach(function(n){t.tabs[e].manager.unselectItem(n)})},t.onNodeListingChanged=function(e,n){0===e.length&&""!==t.tabs[n].search&&t.tabs[n].search===t.tabs[n].previous_search&&(t.tabs[n].search="",t.updateFilters(n))},t.$watchCollection("tabs.devices.filtered_items",function(){A("devices"),O("devices")}),t.$watchCollection("tabs.controllers.filtered_items",function(){A("controllers"),O("controllers")}),t.showSelected=function(e){M(e),t.updateFilters(e)},t.toggleFilter=function(e,n,r){angular.isObject(t.tabs[r].actionOption)||(t.tabs[r].filters=d.toggleFilter(t.tabs[r].filters,e,n,!0),t.tabs[r].search=d.filtersToString(t.tabs[r].filters))},t.isFilterActive=function(e,n,r){return d.isFilterActive(t.tabs[r].filters,e,n,!0)},t.updateFilters=function(e){var n=d.getCurrentFilters(t.tabs[e].search);null===n?(t.tabs[e].filters=d.getEmptyFilter(),t.tabs[e].searchValid=!1):(t.tabs[e].filters=n,t.tabs[e].searchValid=!0),I(e)},t.sortTable=function(e,n){t.tabs[n].predicate=e,t.tabs[n].reverse=!t.tabs[n].reverse},t.selectColumnOrSort=function(e,n){t.tabs[n].column!==e?t.tabs[n].column=e:t.sortTable(e,n)},t.supportsAction=function(e,n){return!t.tabs[n].actionOption||e.actions.indexOf(t.tabs[n].actionOption.name)>=0},t.actionOptionSelected=function(e){x(e),M(e),"machines"===e?angular.isObject(t.addHardwareScope)&&t.addHardwareScope.hide():"devices"===e&&angular.isObject(t.addDeviceScope)&&t.addDeviceScope.hide()},t.isActionError=function(e){return!(!angular.isObject(t.tabs[e].actionOption)||"deploy"!==t.tabs[e].actionOption.name||0!==t.tabs[e].actionErrorCount||0!==t.osinfo.osystems.length&&0!==p.getSSHKeyCount())||0!==t.tabs[e].actionErrorCount},t.isDeployError=function(e){return 0===t.tabs[e].actionErrorCount&&!(!angular.isObject(t.tabs[e].actionOption)||"deploy"!==t.tabs[e].actionOption.name||0!==t.osinfo.osystems.length)},t.isSSHKeyError=function(e){return 0===t.tabs[e].actionErrorCount&&!(!angular.isObject(t.tabs[e].actionOption)||"deploy"!==t.tabs[e].actionOption.name||0!==p.getSSHKeyCount())},t.actionCancel=function(e){P(e),E(e),t.tabs[e].actionOption=null},t.actionGo=function(n){var r,i,a=t.tabs[n],o={},s=e.defer(),c=s.promise;if(s.resolve(),"deploy"===a.actionOption.name&&angular.isString(a.osSelection.osystem)&&angular.isString(a.osSelection.release)){o.osystem=a.osSelection.osystem;var u=a.osSelection.release;u=(u=u.split("/"))[u.length-1],o.distro_series=u,angular.isString(a.osSelection.hwe_kernel)&&(a.osSelection.hwe_kernel.indexOf("hwe-")>=0||a.osSelection.hwe_kernel.indexOf("ga-")>=0)&&(o.hwe_kernel=a.osSelection.hwe_kernel);var l=a.deployOptions.installKVM;l&&(o.osystem="ubuntu",o.distro_series="bionic"),o.install_kvm=l}else if("set-zone"===a.actionOption.name&&angular.isNumber(a.zoneSelection.id))o.zone_id=a.zoneSelection.id;else if("set-pool"===a.actionOption.name)"create-pool"===a.poolAction&&void 0!==a.newPool.name?c=v.createItem({name:a.newPool.name}).then(function(e){o.pool_id=e.id}):angular.isNumber(a.poolSelection.id)&&(o.pool_id=a.poolSelection.id);else if("commission"===a.actionOption.name){for(o.enable_ssh=a.commissionOptions.enableSSH,o.skip_bmc_config=a.commissionOptions.skipBMCConfig,o.skip_networking=a.commissionOptions.skipNetworking,o.skip_storage=a.commissionOptions.skipStorage,o.commissioning_scripts=[],r=0;r<a.commissioningSelection.length;r++)o.commissioning_scripts.push(a.commissioningSelection[r].id);for(a.commissionOptions.updateFirmware&&o.commissioning_scripts.push("update_firmware"),a.commissionOptions.configureHBA&&o.commissioning_scripts.push("configure_hba"),0===o.commissioning_scripts.length&&o.commissioning_scripts.push("none"),o.testing_scripts=[],r=0;r<a.testSelection.length;r++)o.testing_scripts.push(a.testSelection[r].id);0===o.testing_scripts.length&&o.testing_scripts.push("none")}else if("test"===a.actionOption.name){if(!a.actionProgress.showing_confirmation){var f=a.actionProgress;for(r=0;r<a.selectedItems.length;r++)6===a.selectedItems[r].status_code&&f.affected_nodes++;if(0!=f.affected_nodes)return f.confirmation_message=f.affected_nodes+" of "+a.selectedItems.length+" "+t.page+" are in a deployed state.",void(f.showing_confirmation=!0)}for(o.enable_ssh=a.commissionOptions.enableSSH,o.testing_scripts=[],r=0;r<a.testSelection.length;r++)o.testing_scripts.push(a.testSelection[r].id);0===o.testing_scripts.length&&o.testing_scripts.push("none")}else if("release"===a.actionOption.name)o.erase=a.releaseOptions.erase,o.secure_erase=a.releaseOptions.secureErase,o.quick_erase=a.releaseOptions.quickErase;else if("delete"!==a.actionOption.name||"controllers"!==n||a.actionProgress.showing_confirmation)"tag"===a.actionOption.name&&(o.tags=t.tags.map(function(e){return e.text}),t.tags=[]);else{for(r=0;r<a.selectedItems.length;r++){var d=a.selectedItems[r];for(i=0;i<t.vlans.length;i++){var h=t.vlans[i];h.primary_rack===d.system_id&&(a.actionProgress.confirmation_details.push(d.fqdn+" is the primary rack controller for "+h.name),a.actionProgress.affected_nodes++),h.secondary_rack===d.system_id&&(a.actionProgress.confirmation_details.push(d.fqdn+" is the secondary rack controller for "+h.name),a.actionProgress.affected_nodes++)}}if(0!=a.actionProgress.affected_nodes)return 1===a.actionProgress.affected_nodes?a.actionProgress.confirmation_message="1 controller will be deleted.":a.actionProgress.confirmation_message=a.actionProgress.affected_nodes+" controllers will be deleted.",void(a.actionProgress.showing_confirmation=!0)}c.then(function(){P(n),a.actionProgress.total=a.selectedItems.length,angular.forEach(a.selectedItems,function(e){a.manager.performAction(e,a.actionOption.name,o).then(function(){a.actionProgress.completed+=1,e.action_failed=!1,j(n)},function(t){C(n,t,e),e.action_failed=!0,j(n)})})},function(e){C(n,e)})},t.hasActionsInProgress=function(e){var n=t.tabs[e].actionProgress;return n.total>0&&n.completed!==n.total},t.hasActionsFailed=function(e){return Object.keys(t.tabs[e].actionProgress.errors).length>0},t.addHardwareOptionChanged=function(){t.addHardwareOption&&t.addHardwareScope.show(t.addHardwareOption.name)},t.addDevice=function(){t.addDeviceScope.show()},t.cancelAddDevice=function(){t.addDeviceScope.cancel()},t.getDeviceIPAssignment=function(e){return w[e]},t.isSuperUser=function(){return p.isSuperUser()},t.canAddMachine=function(){return p.hasGlobalPermission("machine_create")},t.canCreateResourcePool=function(){return p.hasGlobalPermission("resource_pool_create")},t.showResourcePoolActions=function(){for(var e=0;e<t.pools.length;e++)if(t.pools[e].permissions&&t.pools[e].permissions.length>0)return!0;return!1},t.canEditResourcePool=function(e){return!(!e.permissions||-1===e.permissions.indexOf("edit"))},t.canDeleteResourcePool=function(){return p.hasGlobalPermission("resource_pool_delete")},t.hasCustomCommissioningScripts=function(){var e;for(e=0;e<t.scripts.length;e++)if(0===t.scripts[e].script_type)return!0;return!1},t.$on("$routeUpdate",function(){l.loadItems(["osinfo"])}),angular.forEach(["machines","pools","devices","controllers","switches"],function(e){-1!==a.path().indexOf("/"+e)&&t.toggleTab(e)});var R=[t.tabs[t.currentpage].manager];"machines"!==t.currentpage&&"controllers"!==t.currentpage||R.push(m),"controllers"===t.currentpage&&R.push(y),f.loadManagers(t,R.concat([l,h,p,v,g,_])).then(function(){t.loading=!1}),t.$on("$destroy",function(){n.cancel(t.statusPoll),d.storeFilters("machines",t.tabs.machines.filters),d.storeFilters("devices",t.tabs.devices.filters),d.storeFilters("controllers",t.tabs.controllers.filters),d.storeFilters("switches",t.tabs.switches.filters)});var D=d.retrieveFilters("machines");angular.isObject(D)&&(t.tabs.machines.search=d.filtersToString(D),t.updateFilters("machines"));var B=d.retrieveFilters("devices");angular.isObject(B)&&(t.tabs.devices.search=d.filtersToString(B),t.updateFilters("devices"));var N=d.retrieveFilters("controllers");angular.isObject(N)&&(t.tabs.controllers.search=d.filtersToString(N),t.updateFilters("controllers"));var T=d.retrieveFilters("switches");angular.isObject(T)&&(t.tabs.switches.search=d.filtersToString(T),t.updateFilters("switches"));var L=i.query;angular.isString(L)&&(t.tabs[t.currentpage].search=L,t.updateFilters(t.currentpage))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$q","$scope","$interval","$rootScope","$routeParams","$location","$window","MachinesManager","DevicesManager","ControllersManager","GeneralManager","ManagerHelperService","SearchService","ZonesManager","UsersManager","ServicesManager","ScriptsManager","SwitchesManager","ResourcePoolsManager","VLANsManager","TagsManager"];var i=r;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r;(r=n(127))&&r.__esModule;function i(e,t,n,r,i,a,o,s){function c(){var t,n=3===e.logs.availableOptions.length;if(e.logs.availableOptions.length=0,e.installation_results&&e.installation_results.length>0&&(6===e.node.status_code||9===e.node.status_code||11===e.node.status_code))for(t=0;t<e.installation_results.length;t++)if("/tmp/install.log"===e.installation_results[t].name){e.logs.availableOptions.push({title:"Installation output",id:e.installation_results[t].id});break}e.logs.availableOptions.push({title:"Machine output (YAML)",id:"summary_yaml"}),e.logs.availableOptions.push({title:"Machine output (XML)",id:"summary_xml"}),n||3!==e.logs.availableOptions.length?(!e.selectedLog||n&&2===e.logs.length)&&(e.logs.option=e.logs.availableOptions[0]):e.logs.option=e.logs.availableOptions[0]}function u(t){e.node=t,e.loaded=!0,e.nodeResultsManager=a.getManager(t,e.section.area),e.nodeResultsManager.loadItems().then(function(){e.commissioning_results=e.nodeResultsManager.commissioning_results,e.testing_results=e.nodeResultsManager.testing_results,e.installation_results=e.nodeResultsManager.installation_results,e.results=e.nodeResultsManager.results,"logs"===e.section.area&&(c(),e.$watch("installation_results",c,!0),e.$watch("installation_results",e.updateLogOutput,!0)),e.resultsLoaded=!0})}e.nodeResultsManager=null,e.commissioning_results=null,e.testing_results=null,e.installation_results=null,e.results=null,e.logs={option:null,availableOptions:[]},e.logOutput="Loading...",e.loaded=!1,e.resultsLoaded=!1,e.node=null,-1!==n.path().indexOf("/controller")?e.nodesManager=i:e.nodesManager=r,o.loadManager(e,e.nodesManager).then(function(){var n=e.nodesManager.getActiveItem();angular.isObject(n)&&n.system_id===t.system_id?u(n):e.nodesManager.setActiveItem(t.system_id).then(function(e){u(e)},function(e){s.raiseError(e)})}),e.updateLogOutput=function(){if(e.logOutput="Loading...",e.node)if("summary_xml"===e.logs.option.id)e.nodesManager.getSummaryXML(e.node).then(function(t){e.logOutput=t});else if("summary_yaml"===e.logs.option.id)e.nodesManager.getSummaryYAML(e.node).then(function(t){e.logOutput=t});else{var t,n=null;for(t=0;t<e.installation_results.length;t++)if(e.installation_results[t].id===e.logs.option.id){n=e.installation_results[t];break}switch(n.status){case 0:e.logOutput="System is booting...";break;case 1:e.logOutput="Installation has begun!";break;case 2:e.nodeResultsManager.get_result_data(n.id,"combined").then(function(t){e.logOutput=""===t?"Installation has succeeded but no output was given.":t});break;case 3:e.nodeResultsManager.get_result_data(n.id,"combined").then(function(t){e.logOutput=""===t?"Installation has failed and no output was given.":t});break;case 4:e.logOutput="Installation failed after 40 minutes.";break;case 5:e.logOutput="Installation was aborted.";break;default:e.logOutput="BUG: Unknown log status "+n.status}}},e.loadHistory=function(t){t.showing_results=!1,angular.isArray(t.history_list)?t.showing_history=!0:(t.loading_history=!0,e.nodeResultsManager.get_history(t.id).then(function(e){t.history_list=e,t.loading_history=!1,t.showing_history=!0}))},e.$on("$destroy",function(){angular.isObject(e.nodeResultsManager)&&e.nodeResultsManager.destroy()})}i.$inject=["$scope","$routeParams","$location","MachinesManager","ControllersManager","NodeResultsManagerFactory","ManagerHelperService","ErrorService"];var a=i;t.default=a},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,c){var u=null;function l(n){e.node=n,e.loaded=!0,u=o.getManager(n.id),e.events=u.getItems(),e.days=u.getMaximumDays(),u.loadItems().then(function(){e.eventsLoaded=!0}),e.$watch("node.fqdn",function(){t.title=e.node.fqdn+" - events"})}t.title="Loading...",e.loaded=!1,e.node=null,e.events=[],e.eventsLoaded=!1,e.days=1,e.getEventText=function(e){var t=e.type.description;return angular.isString(e.description)&&e.description.length>0&&(t+=" - "+e.description),t},e.loadMore=function(){e.days+=1,u.loadMaximumDays(e.days)},-1!==r.path().indexOf("/controller")?(e.nodesManager=a,e.type_name="controller",t.page="controllers"):(e.nodesManager=i,e.type_name="machine",t.page="machines"),s.loadManager(e,e.nodesManager).then(function(){var t=e.nodesManager.getActiveItem();angular.isObject(t)&&t.system_id===n.system_id?l(t):e.nodesManager.setActiveItem(n.system_id).then(function(e){l(e)},function(e){c.raiseError(e)})}),e.$on("$destroy",function(){angular.isObject(u)&&u.destroy()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","$rootScope","$routeParams","$location","MachinesManager","ControllersManager","EventsManagerFactory","ManagerHelperService","ErrorService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,c,u,l,f,d,h,p,g,m,b,v){var y,_={external:"External",dynamic:"Dynamic",static:"Static"};function w(){e.node&&e.node.fqdn&&(t.title=e.node.fqdn)}function S(){if(!e.header.editing&&!e.header.editing_domain){e.header.hostname.value=e.node.fqdn;for(var t=0;t<e.header.domain.options.length;t++){var n=e.header.domain.options[t];if(n.id===e.node.domain.id){e.header.domain.selected=n;break}}}}function M(){if(angular.isObject(e.node)){var t={0:"machine_actions",1:"device_actions",2:"rack_controller_actions",3:"region_controller_actions",4:"region_and_rack_controller_actions"};c.isDataLoaded(t[e.node.node_type])?(e.action.allOptions=c.getData(t[e.node.node_type]),e.action.availableOptions.length=0,angular.forEach(e.action.allOptions,function(t){e.node.actions.indexOf(t.name)>=0&&"set-zone"!==t.name&&"set-pool"!==t.name&&"tag"!==t.name&&e.action.availableOptions.push(t)})):c.loadItems([t[e.node.node_type]]).then(M)}}function E(){if(!e.power.editing){e.power.type=null;for(var t=0;t<e.power_types.length;t++)if(e.node.power_type===e.power_types[t].name){e.power.type=e.power_types[t];break}e.power.bmc_node_count=e.node.power_bmc_node_count,e.power.parameters=angular.copy(e.node.power_parameters),angular.isObject(e.power.parameters)||(e.power.parameters={}),e.canEdit()&&""===e.node.power_type&&0===e.node.node_type&&(e.power.editing=!0),e.power.in_pod=angular.isDefined(e.node.pod)}}function A(){e.summary.editing||(angular.isObject(e.node.zone)&&(e.summary.zone.selected=s.getItemFromList(e.node.zone.id)),angular.isObject(e.node.pool)&&(e.summary.pool.selected=b.getItemFromList(e.node.pool.id)),e.summary.architecture.selected=e.node.architecture,e.summary.description=e.node.description,e.summary.min_hwe_kernel.selected=e.node.min_hwe_kernel,e.summary.tags=angular.copy(e.node.tags),e.canEdit()&&e.hasUsableArchitectures()&&e.hasInvalidArchitecture()&&(e.summary.editing=!0))}function k(){e.isController&&(e.services={},angular.forEach(o.getServices(e.node),function(t){e.services[t.name]=t}))}function I(){e.devices=[],angular.forEach(e.node.devices,function(t){var n={name:t.fqdn};angular.isArray(t.interfaces)&&t.interfaces.length>0?angular.forEach(t.interfaces,function(t,r){var i=angular.copy(n);i.mac_address=t.mac_address,r>0&&(i.name=""),angular.isArray(t.links)&&t.links.length>0?angular.forEach(t.links,function(t,n){var r=angular.copy(i);r.ip_address=t.ip_address,n>0&&(r.mac_address=""),e.devices.push(r)}):e.devices.push(i)}):e.devices.push(n)})}function O(t){e.node=t,e.loaded=!0,w(),A(),k(),e.$watch("node.fqdn",function(){w(),S()}),e.$watch("node.devices",I),e.$watch("node.actions",M),e.$watch("node.architecture",A),e.$watchCollection(e.summary.architecture.options,A),e.$watch("node.min_hwe_kernel",A),e.$watchCollection(e.summary.min_hwe_kernel.options,A),e.$watch("node.zone.id",A),e.$watchCollection(e.summary.zone.options,A),e.$watch("node.pool.id",A),e.$watchCollection(e.summary.pool.options,A),e.$watch("node.power_type",E),e.$watch("node.power_parameters",E),e.$watchCollection("power_types",E),e.$watch("node.service_ids",k),angular.isObject(e.storageController)&&e.storageController.nodeLoaded(),angular.isObject(e.networkingController)&&e.networkingController.nodeLoaded()}t.title="Loading...",e.MAAS_config=MAAS_config,e.loaded=!1,e.node=null,e.action={option:null,allOptions:null,availableOptions:[],error:null,showing_confirmation:!1,confirmation_message:"",confirmation_details:[]},e.power_types=c.getData("power_types"),e.osinfo=c.getData("osinfo"),e.section={area:angular.isString(n.area)?n.area:"summary"},e.osSelection={osystem:null,release:null,hwe_kernel:null},e.commissionOptions={enableSSH:!1,skipBMCConfig:!1,skipNetworking:!1,skipStorage:!1,updateFirmware:!1,configureHBA:!1},e.deployOptions={installKVM:!1},e.commissioningSelection=[],e.testSelection=[],e.releaseOptions={},e.checkingPower=!1,e.devices=[],e.scripts=m.getItems(),e.vlans=v.getItems(),e.header={editing:!1,editing_domain:!1,hostname:{value:""},domain:{selected:null,options:f.getItems()}},e.summary={editing:!1,architecture:{selected:null,options:c.getData("architectures")},min_hwe_kernel:{selected:null,options:c.getData("min_hwe_kernels")},zone:{selected:null,options:s.getItems()},pool:{selected:null,options:b.getItems()},tags:[]},e.services={},e.power={editing:!1,type:null,bmc_node_count:0,parameters:{},in_pod:!1},e.getDeviceIPAssignment=function(e){return _[e]},e.events={limit:10},e.updateNode=function(t,n){return angular.isUndefined(n)&&(n=!1),e.nodesManager.updateItem(t).then(function(t){S(),A(),n&&e.checkPowerState()},function(e){console.log(e),S(),A()})},e.tagsAutocomplete=function(e){return l.autocomplete(e)},e.getPowerStateClass=function(){return angular.isObject(e.node)?e.checkingPower?"checking":e.node.power_state:""},e.getPowerStateText=function(){return angular.isObject(e.node)?e.checkingPower?"Checking power":"unknown"===e.node.power_state?"":"Power "+e.node.power_state:""},e.canCheckPowerState=function(){return!!angular.isObject(e.node)&&("unknown"!==e.node.power_state&&!e.checkingPower)},e.checkPowerState=function(){e.checkingPower=!0,e.nodesManager.checkPowerState(e.node).then(function(){e.checkingPower=!1})},e.isUbuntuOS=function(){return!!angular.isObject(e.node)&&"ubuntu"===e.node.osystem},e.isUbuntuCoreOS=function(){return!!angular.isObject(e.node)&&"ubuntu-core"===e.node.osystem},e.isCentOS=function(){return!!angular.isObject(e.node)&&("centos"===e.node.osystem||"rhel"===e.node.osystem)},e.isCustomOS=function(){return!!angular.isObject(e.node)&&"custom"===e.node.osystem},e.isActionError=function(){return null!==e.action.error},e.isDeployError=function(){if(e.isActionError())return!1;var t=angular.isUndefined(e.osinfo.osystems)||0===e.osinfo.osystems.length;return!(!angular.isObject(e.action.option)||"deploy"!==e.action.option.name||!t)},e.isSSHKeyError=function(){return!e.isActionError()&&!(!angular.isObject(e.action.option)||"deploy"!==e.action.option.name||0!==u.getSSHKeyCount())},e.action.optionChanged=function(){e.action.error=null,e.action.showing_confirmation=!1,e.action.confirmation_message="",e.action.confirmation_details=[]},e.actionCancel=function(){e.action.option=null,e.action.error=null,e.action.showing_confirmation=!1,e.action.confirmation_message="",e.action.confirmation_details=[]},e.actionGo=function(){var t={};if("deploy"===e.action.option.name&&angular.isString(e.osSelection.osystem)&&angular.isString(e.osSelection.release)){t.osystem=e.osSelection.osystem;var n=e.osSelection.release;n=(n=n.split("/"))[n.length-1],t.distro_series=n,angular.isString(e.osSelection.hwe_kernel)&&(e.osSelection.hwe_kernel.indexOf("hwe-")>=0||e.osSelection.hwe_kernel.indexOf("ga-")>=0)&&(t.hwe_kernel=e.osSelection.hwe_kernel);var i=e.deployOptions.installKVM;i&&(t.osystem="ubuntu",t.distro_series="bionic"),t.install_kvm=i}else if("commission"===e.action.option.name){t.enable_ssh=e.commissionOptions.enableSSH,t.skip_bmc_config=e.commissionOptions.skipBMCConfig,t.skip_networking=e.commissionOptions.skipNetworking,t.skip_storage=e.commissionOptions.skipStorage,t.commissioning_scripts=[];for(var a=0;a<e.commissioningSelection.length;a++)t.commissioning_scripts.push(e.commissioningSelection[a].id);e.commissionOptions.updateFirmware&&t.commissioning_scripts.push("update_firmware"),e.commissionOptions.configureHBA&&t.commissioning_scripts.push("configure_hba"),0===t.commissioning_scripts.length&&t.commissioning_scripts.push("none"),t.testing_scripts=[];for(var o=0;o<e.testSelection.length;o++)t.testing_scripts.push(e.testSelection[o].id);0===t.testing_scripts.length&&t.testing_scripts.push("none")}else if("test"===e.action.option.name){if(6===e.node.status_code&&!e.action.showing_confirmation)return e.action.showing_confirmation=!0,void(e.action.confirmation_message=e.type_name_title+" is in a deployed state.");t.enable_ssh=e.commissionOptions.enableSSH,t.testing_scripts=[];for(var s=0;s<e.testSelection.length;s++)t.testing_scripts.push(e.testSelection[s].id);0===t.testing_scripts.length&&t.testing_scripts.push("none")}else if("release"===e.action.option.name)t.erase=e.releaseOptions.erase,t.secure_erase=e.releaseOptions.secureErase,t.quick_erase=e.releaseOptions.quickErase;else if("delete"===e.action.option.name&&"controller"===e.type_name&&!e.action.showing_confirmation){for(var c=0;c<e.vlans.length;c++){var u=e.vlans[c];u.primary_rack===e.node.system_id&&e.action.confirmation_details.push(e.node.fqdn+" is the primary rack controller for "+u.name),u.secondary_rack===e.node.system_id&&e.action.confirmation_details.push(e.node.fqdn+" is the secondary rack controller for "+u.name)}if(e.action.confirmation_details.length>0)return e.action.confirmation_message+=e.type_name_title+" will be deleted.",void(e.action.showing_confirmation=!0)}e.nodesManager.performAction(e.node,e.action.option.name,t).then(function(){"delete"===e.action.option.name&&r.path("/machines"),e.action.option=null,e.action.error=null,e.action.showing_confirmation=!1,e.action.confirmation_message="",e.osSelection.$reset(),e.commissionOptions.enableSSH=!1,e.commissionOptions.skipBMCConfig=!1,e.commissionOptions.skipNetworking=!1,e.commissionOptions.skipStorage=!1,e.commissionOptions.updateFirmware=!1,e.commissionOptions.configureHBA=!1,e.commissioningSelection=[],e.testSelection=[]},function(t){e.action.error=t})},e.isSuperUser=function(){return u.isSuperUser()},e.hasPermission=function(t){return!(!angular.isObject(e.node)||!angular.isArray(e.node.permissions))&&e.node.permissions.indexOf(t)>=0},e.hasUsableArchitectures=function(){return e.summary.architecture.options.length>0},e.getArchitecturePlaceholder=function(){return e.hasUsableArchitectures()?"Choose an architecture":"-- No usable architectures --"},e.hasInvalidArchitecture=function(){return!!angular.isObject(e.node)&&(!e.isDevice&&(""===e.node.architecture||-1===e.summary.architecture.options.indexOf(e.node.architecture)))},e.invalidArchitecture=function(){return!(e.isDevice||e.isController||""!==e.summary.architecture.selected&&-1!==e.summary.architecture.options.indexOf(e.summary.architecture.selected))},e.isRackControllerConnected=function(){return e.power_types.length>0},e.isLocked=function(){return null!==e.node&&e.node.locked},e.canEdit=function(){return e.isDevice?e.hasPermission("edit"):e.isRackControllerConnected()&&e.hasPermission("edit")&&!e.isLocked()},e.editHeaderDomain=function(){e.canEdit()||e.header.editing_domain||(e.header.editing=!1,e.header.editing_domain=!0,e.header.hostname.value=e.node.hostname)},e.editHeader=function(){e.canEdit()&&(e.header.editing||(e.header.editing=!0,e.header.editing_domain=!1,e.header.hostname.value=e.node.hostname))},e.editHeaderInvalid=function(){if(!e.header.editing&&!e.header.editing_domain)return!1;var t=e.header.hostname.value;return 0===t.length||!g.validateHostname(t)},e.cancelEditHeader=function(){e.header.editing=!1,e.header.editing_domain=!1,S()},e.saveEditHeader=function(){if(!e.editHeaderInvalid()){e.header.editing=!1,e.header.editing_domain=!1;var t=angular.copy(e.node);t.hostname=e.header.hostname.value,t.domain=e.header.domain.selected,e.updateNode(t)}},e.editSummary=function(){e.canEdit()&&(e.summary.editing=!0)},e.cancelEditSummary=function(){e.isDevice||e.isController?e.summary.editing=!1:e.hasInvalidArchitecture()||(e.summary.editing=!1)},e.saveEditSummary=function(){if(!e.invalidArchitecture()){e.summary.editing=!1;var t=angular.copy(e.node);t.zone=angular.copy(e.summary.zone.selected),t.pool=angular.copy(e.summary.pool.selected),t.description=angular.copy(e.summary.description),t.architecture=e.summary.architecture.selected,null===e.summary.min_hwe_kernel.selected?t.min_hwe_kernel="":t.min_hwe_kernel=e.summary.min_hwe_kernel.selected,t.tags=[],angular.forEach(e.summary.tags,function(e){t.tags.push(e.text)}),e.updateNode(t)}},e.invalidPowerType=function(){return!angular.isObject(e.power.type)},e.editPower=function(){e.canEdit()&&(e.power.editing=!0)},e.cancelEditPower=function(){0===e.node.node_type&&""===e.node.power_type||(e.power.editing=!1),E()},e.saveEditPower=function(){if(!e.invalidPowerType()){e.power.editing=!1;var t=angular.copy(e.node);t.power_type=e.power.type.name,t.power_parameters=angular.copy(e.power.parameters),e.updateNode(t,!0)}},e.allowShowMoreEvents=function(){return!!angular.isObject(e.node)&&(!!angular.isArray(e.node.events)&&(e.node.events.length>0&&e.node.events.length>e.events.limit&&e.events.limit<50))},e.showMoreEvents=function(){e.events.limit+=10},e.getEventText=function(e){var t=e.type.description;return angular.isString(e.description)&&e.description.length>0&&(t+=" - "+e.description),t},e.getPowerEventError=function(){var t;if(angular.isObject(e.node)&&angular.isArray(e.node.events))for(t=0;t<e.node.events.length;t++){var n=e.node.events[t];if("warning"===n.type.level&&"Failed to query node's BMC"===n.type.description)return n;if("info"===n.type.level&&"Queried node's BMC"===n.type.description)return}},e.hasPowerEventError=function(){var t=e.getPowerEventError();return angular.isObject(t)},e.getPowerEventErrorText=function(){var t=e.getPowerEventError();return angular.isObject(t)?t.description:""},e.hasActionPowerError=function(t){if(!e.hasPowerError())return!1;return!!(t&&["commission","deploy","on","off","release"].indexOf(t)>-1)},e.hasPowerError=function(){return!!angular.isObject(e.power.type)&&e.power.type.missing_packages.length>0},e.getPowerErrors=function(){var t,n="";if(angular.isObject(e.power.type)){var r=e.power.type.missing_packages;for(r.sort(),t=0;t<r.length;t++)n+=r[t],t+2<r.length?n+=", ":t+1<r.length&&(n+=" and ");n+=r.length>1?" packages":" package"}return n},e.getServiceClass=function(e){return angular.isObject(e)?"running"===e.status?"success":"dead"===e.status?"error":"degraded"===e.status?"warning":"none":"none"},e.hasCustomCommissioningScripts=function(){var t;for(t=0;t<e.scripts.length;t++)if(0===e.scripts[t].script_type)return!0;return!1},e.controllerLoaded=function(t,n){e[t]=n,angular.isObject(n.node)&&n.nodeLoaded()},e.showFailedTestWarning=function(){if(1===e.node.node_type||!e.node.status_code)return!1;switch(e.node.status_code){case 0:case 1:case 2:case 21:case 22:return!1}switch(e.node.testing_status){case-1:case 2:return!1}return!0},e.getCPUSubtext=function(){var t=e.node.cpu_count+" cores";return e.node.cpu_speed&&0!==e.node.cpu_speed?e.node.cpu_speed<1e3?t+" @ "+e.node.cpu_speed+" Mhz":t+" @ "+e.node.cpu_speed/1e3+" Ghz":t},e.$on("$routeUpdate",function(){c.loadItems(["osinfo","architectures","min_hwe_kernels"])}),-1!==r.path().indexOf("/controller")?(e.nodesManager=o,y=[o,m,v],e.isController=!0,e.isDevice=!1,e.type_name="controller",e.type_name_title="Controller",t.page="controllers"):-1!==r.path().indexOf("/device")?(e.nodesManager=i,y=[i],e.isController=!1,e.isDevice=!0,e.type_name="device",e.type_name_title="Device",t.page="devices"):(e.nodesManager=a,y=[a,m],e.isController=!1,e.isDevice=!1,e.type_name="machine",e.type_name_title="Machine",t.page="machines"),d.loadManagers(e,[s,c,u,l,f,h,b].concat(y)).then(function(){var t=e.nodesManager.getActiveItem();angular.isObject(t)&&t.system_id===n.system_id?O(t):(e.nodesManager.setActiveItem(n.system_id).then(function(e){O(e)},function(e){p.raiseError(e)}),t=e.nodesManager.getActiveItem()),e.isDevice&&(e.ip_assignment=t.ip_assignment)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","$rootScope","$routeParams","$location","DevicesManager","MachinesManager","ControllersManager","ZonesManager","GeneralManager","UsersManager","TagsManager","DomainsManager","ManagerHelperService","ServicesManager","ErrorService","ValidationService","ScriptsManager","ResourcePoolsManager","VLANsManager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.NodeFilesystemsController=a,t.NodeAddSpecialFilesystemController=o,o.$inject=["$scope","MachinesManager"],a.$inject=["$scope"];var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fstype=t,this.mountPoint="",this.mountOptions=""}var t,n,i;return t=e,(n=[{key:"isValid",value:function(){return this.mountPoint.startsWith("/")}},{key:"describe",value:function(){if(this.fstype){var e=[this.fstype];switch(this.mountPoint.startsWith("/")&&e.push("at "+this.mountPoint),this.fstype){case"tmpfs":var t=this.mountOptions.match(/\bsize=(\d+)(%?)/);null!==t&&("%"===t[2]?e.push("limited to "+t[1]+"% of memory"):e.push("limited to "+t[1]+" bytes"))}return e.join(" ")}}}])&&r(t.prototype,n),i&&r(t,i),e}();function a(e){e.dropdown=null,e.addSpecialFilesystem=function(){e.dropdown="special"},e.addSpecialFilesystemFinished=function(){"special"===e.dropdown&&(e.dropdown=null)}}function o(e,t){e.machineManager=t,e.specialFilesystemTypes=["tmpfs","ramfs"],e.newFilesystem={system_id:e.node.system_id},e.filesystem=new i,e.description=null;var n={fstype:"fstype",mountPoint:"mount_point",mountOptions:"mount_options"},r=function(t){e.$watch(function(){return e.newFilesystem.$maasForm.getValue(n[t])},function(n){e.filesystem[t]=n})};for(var a in n)r(a);e.$watch("filesystem",function(){e.filesystem&&(e.description=e.filesystem.describe())},!0),e.canMount=function(){return e.filesystem.isValid()},e.cancel=function(){e.filesystem=new i,e.addSpecialFilesystemFinished()}}},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,c,u){var l=n("filterByVLAN"),f=n("filterByFabric"),d=n("filterBySpace"),h=n("filterByNullSpace");t.title="Subnets",t.page="networks",e.getURLParameters=function(){angular.isString(r.search().by)?e.groupBy=r.search().by:e.groupBy="fabric"},e.ADD_FABRIC_ACTION={name:"add_fabric",title:"Fabric",selectedTitle:"Add fabric",objectName:"fabric"},e.ADD_VLAN_ACTION={name:"add_vlan",title:"VLAN",selectedTitle:"Add VLAN",objectName:"vlan"},e.ADD_SPACE_ACTION={name:"add_space",title:"Space",selectedTitle:"Add space",objectName:"space"},e.ADD_SUBNET_ACTION={name:"add_subnet",title:"Subnet",selectedTitle:"Add subnet",objectName:"subnet"},e.getURLParameters(),e.subnetManager=i,e.subnets=i.getItems(),e.fabricManager=a,e.fabrics=a.getItems(),e.spaceManager=o,e.spaces=o.getItems(),e.vlanManager=s,e.vlans=s.getItems(),e.loading=!0,e.group={},e.group.fabrics={},e.group.spaces={},e.group.spaces.orphanVLANs=[];var p={fabric:function(){return{}},vlan:function(){return{fabric:e.fabrics[0].id}},space:function(){return{}},subnet:function(){return{vlan:e.fabrics[0].vlan_ids[0]}}};function g(e){return i.getName(e)}e.updateGroupBy=function(){var t,i,c;"space"===e.groupBy?(r.search("by","space"),t=[],i=n("orderBy")(e.spaces,["name"]),c={id:-1},angular.forEach(i,function(r){var i=d(e.subnets,r);i=n("orderBy")(i,["cidr"]);var o=0;angular.forEach(i,function(n){o++;var i=s.getItemFromList(n.vlan),u={fabric:a.getItemFromList(i.fabric),vlan:i,vlan_name:e.getVLANName(i),subnet:n,subnet_name:g(n),space:r,space_name:""};r.id!==c.id&&(c.id=r.id,u.space_name=r.name),t.push(u)}),0===o&&t.push({space:r,space_name:r.name})}),e.group.spaces.rows=t,function(){var t=[],r=h(e.subnets);r=n("orderBy")(r,["cidr"]),angular.forEach(r,function(n){var r=s.getItemFromList(n.vlan),i={fabric:a.getItemFromList(r.fabric),vlan:r,vlan_name:e.getVLANName(r),subnet:n,subnet_name:g(n),space:null};t.push(i)}),e.group.spaces.orphanVLANs=t}()):(r.search("by","fabric"),function(){var t=[],r={id:-1},i={id:-1},a=n("orderBy")(e.fabrics,["name"]);angular.forEach(a,function(a){var s=f(e.vlans,a);s=n("orderBy")(s,["vid"]),angular.forEach(s,function(n){var s=l(e.subnets,n);if(s.length>0)angular.forEach(s,function(s){var c=o.getItemFromList(s.space),u={fabric:a,fabric_name:"",vlan:n,vlan_name:"",space:c,subnet:s,subnet_name:g(s)};a.id!==r.id&&(r.id=a.id,u.fabric_name=a.name),n.id!==i.id&&(i.id=n.id,u.vlan_name=e.getVLANName(n)),t.push(u)});else{var c={fabric:a,fabric_name:"",vlan:n,vlan_name:e.getVLANName(n)};a.id!==r.id&&(r.id=a.id,c.fabric_name=a.name),t.push(c)}})}),e.group.fabrics.rows=t}())},e.updateActions=function(){c.isSuperUser()?e.actionOptions=[e.ADD_FABRIC_ACTION,e.ADD_VLAN_ACTION,e.ADD_SPACE_ACTION,e.ADD_SUBNET_ACTION]:e.actionOptions=[]},e.actionChanged=function(){e.newObject=p[e.actionOption.objectName]()},e.cancelAction=function(){e.actionOption=null,e.newObject=null},e.getVLANName=function(e){return s.getName(e)},e.getFabricNameById=function(e){return a.getName(a.getItemFromList(e))},e.actionSubnetPreSave=function(e){return e.fabric=s.getItemFromList(e.vlan).fabric,e},u.loadManagers(e,[i,a,o,s,c]).then(function(){e.loading=!1,e.updateActions(),e.$watch("[subnets, fabrics, spaces, vlans]",e.updateGroupBy,!0),e.$on("$routeUpdate",function(){e.getURLParameters(),e.updateGroupBy()}),e.updateGroupBy()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","$rootScope","$filter","$location","SubnetsManager","FabricsManager","SpacesManager","VLANsManager","UsersManager","ManagerHelperService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s){if(e.page="intro",e.title="Welcome",t.loading=!0,t.configManager=i,t.repoManager=a,t.bootResources=o.getData(),t.hasImages=!1,t.maasName=null,t.upstreamDNS=null,t.mainArchive=null,t.portsArchive=null,t.httpProxy=null,e.skip=function(){t.clickContinue(!0)},t.welcomeInError=function(){var e=t.maasName.$maasForm;return!!angular.isObject(e)&&e.hasErrors()},t.networkInError=function(){var e=!1,n=[t.upstreamDNS,t.mainArchive,t.portsArchive,t.httpProxy];return angular.forEach(n,function(t){var n=t.$maasForm;angular.isObject(n)&&n.hasErrors()&&(e=!0)}),e},t.canContinue=function(){return!t.welcomeInError()&&!t.networkInError()&&t.hasImages},t.clickContinue=function(e){angular.isUndefined(e)&&(e=!1),(e||t.canContinue())&&i.updateItem({name:"completed_intro",value:!0}).then(function(){n.location.reload()})},MAAS_config.completed_intro)r.path("/");else{var c=[i,a];s.loadManagers(t,c).then(function(){t.loading=!1,t.maasName=i.getItemFromList("maas_name"),t.upstreamDNS=i.getItemFromList("upstream_dns"),t.httpProxy=i.getItemFromList("http_proxy"),t.mainArchive=a.getItems().filter(function(e){return e.default&&"main_archive"===e.name})[0],t.portsArchive=a.getItems().filter(function(e){return e.default&&"ports_archive"===e.name})[0]}),t.$watch("bootResources.resources",function(){angular.isArray(t.bootResources.resources)&&t.bootResources.resources.length>0?t.hasImages=!0:t.hasImages=!1})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$rootScope","$scope","$window","$location","ConfigsManager","PackageRepositoriesManager","BootResourcesManager","ManagerHelperService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a){e.page="intro",e.title="Welcome",t.loading=!0,t.user=null,e.skip=function(){t.clickContinue(!0)},t.isSuperUser=function(){return i.isSuperUser()},t.canContinue=function(){return t.user.sshkeys_count>0},t.clickContinue=function(e){angular.isUndefined(e)&&(e=!1),(e||t.canContinue())&&i.markIntroComplete().then(function(){n.location.reload()})},MAAS_config.user_completed_intro?r.path("/"):a.loadManager(t,i).then(function(){t.loading=!1,t.user=i.getAuthUser()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$rootScope","$scope","$window","$location","UsersManager","ManagerHelperService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a){e.page="images",e.title="Loading...",t.loading=!0,t.bootResources=n.getData(),t.configManager=r,t.autoImport=null,t.isSuperUser=function(){return i.isSuperUser()},a.loadManagers(t,[r,i]).then(function(){t.autoImport=r.getItemFromList("boot_images_auto_import")}),t.$watch("bootResources.resources",function(){angular.isArray(t.bootResources.resources)&&(t.loading=!1,e.title="Images")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$rootScope","$scope","BootResourcesManager","ConfigsManager","UsersManager","ManagerHelperService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,c,u,l,f,d){function h(n){angular.isObject(n)&&(e.fabric=n,t.title=e.fabric.name,e.$watch("vlans",p,!0),e.$watch("subnets",p,!0),e.$watch("controllers",p,!0),e.loaded=!0,e.predicate="['vlan_name', 'vlan.id', 'subnet_name']")}function p(){var t=[],n={};angular.forEach(r("filter")(e.vlans,{fabric:e.fabric.id},!0),function(i){var a=r("filter")(e.subnets,{vlan:i.id},!0);if(a.length>0)angular.forEach(a,function(e){var n=c.getItemFromList(e.space),r=null===n?"(undefined)":n.name,a={vlan:i,vlan_name:o.getName(i),subnet:e,subnet_name:s.getName(e),space:n,space_name:r};t.push(a)});else{var l={vlan:i,vlan_name:o.getName(i),subnet:null,subnet_name:null,space:null,space_name:null};t.push(l)}angular.forEach(i.rack_sids,function(e){var t=u.getItemFromList(e);angular.isObject(t)&&(n[t.system_id]=t)})}),e.rows=t,e.racks=Object.keys(n).map(function(e){return n[e]})}t.title="Loading...",t.page="networks",e.fabric=null,e.fabricManager=a,e.editSummary=!1,e.vlans=o.getItems(),e.subnets=s.getItems(),e.controllers=u.getItems(),e.loaded=!1,e.enterEditSummary=function(){e.editSummary=!0},e.exitEditSummary=function(){e.editSummary=!1},e.isSuperUser=function(){return l.isSuperUser()},e.isDefaultFabric=function(){return!!angular.isObject(e.fabric)&&0===e.fabric.id},e.canBeDeleted=function(){return!!angular.isObject(e.fabric)&&0!==e.fabric.id},e.deleteButton=function(){e.error=null,e.confirmingDelete=!0},e.cancelDeleteButton=function(){e.confirmingDelete=!1},e.deleteConfirmButton=function(){a.deleteFabric(e.fabric).then(function(){e.confirmingDelete=!1,i.path("/networks"),i.search("by","fabric")},function(t){e.error=f.parseValidationError(t.error)})},f.loadManagers(e,[a,o,s,c,u,l]).then(function(){var e=a.getActiveItem(),t=parseInt(n.fabric_id,10);isNaN(t)?d.raiseError("Invalid fabric identifier."):angular.isObject(e)&&e.id===t?h(e):a.setActiveItem(t).then(function(e){h(e)},function(e){d.raiseError(e)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","$rootScope","$routeParams","$filter","$location","FabricsManager","VLANsManager","SubnetsManager","SpacesManager","ControllersManager","UsersManager","ManagerHelperService","ErrorService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i){t.title="DNS",t.page="domains",e.domains=n.getItems(),e.currentpage="domains",e.predicate="name",e.reverse=!1,e.loading=!0,e.confirmSetDefaultRow=null,e.addDomainScope=null,e.addDomain=function(){e.addDomainScope.show()},e.cancelAddDomain=function(){e.addDomainScope.cancel()},e.isSuperUser=function(){return r.isSuperUser()},e.confirmSetDefault=function(t){e.confirmSetDefaultRow=t},e.cancelSetDefault=function(){e.confirmSetDefaultRow=null},e.setDefault=function(t){n.setDefault(t),e.confirmSetDefaultRow=null},i.loadManagers(e,[n,r]).then(function(){e.loading=!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","$rootScope","DomainsManager","UsersManager","ManagerHelperService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s){function c(n){e.domain=n,e.loaded=!0,t.title=e.domain.displayname}t.title="Loading...",t.page="domains",e.loaded=!1,e.domain=null,e.editSummary=!1,e.predicate="name",e.reverse=!1,e.action=null,e.editRow=null,e.deleteRow=null,e.domainsManager=i,e.newObject={},e.supportedRecordTypes=["A","AAAA","CNAME","MX","NS","SRV","SSHFP","TXT"],e.predicate="name",e.sortTable=function(t){e.predicate=t,e.reverse=!e.reverse},e.enterEditSummary=function(){e.editSummary=!0},e.exitEditSummary=function(){e.editSummary=!1},e.isRecordAutogenerated=function(e){return!e.dnsresource_id},e.editRecord=function(t){e.editRow=t,t.previous_rrdata=t.rrdata,t.previous_rrtype=t.rrtype,t.previous_name=t.name,t.previous_ttl=t.ttl,e.deleteRow=null},e.removeRecord=function(t){e.deleteRow=t,e.editRow=null},e.confirmRemoveRecord=function(t){t.domain=e.domain.id,e.domainsManager.deleteDNSRecord(t),e.stopEditingRow()},e.stopEditingRow=function(){e.editRow=null,e.deleteRow=null},e.isSuperUser=function(){return a.isSuperUser()},e.isDefaultDomain=function(){return!!angular.isObject(e.domain)&&0===e.domain.id},e.canBeDeleted=function(){return!!angular.isObject(e.domain)&&0===e.domain.rrsets.length},e.deleteButton=function(){e.error=null,e.actionInProgress=!0,e.action="delete"},e.addRecordButton=function(){e.error=null,e.actionInProgress=!0,e.action="add_record"},e.cancelAction=function(){e.actionInProgress=!1},e.deleteConfirmButton=function(){i.deleteDomain(e.domain).then(function(){e.actionInProgress=!1,r.path("/domains")},function(t){e.error=o.parseValidationError(t)})},o.loadManagers(e,[i,a]).then(function(){var e=i.getActiveItem(),t=parseInt(n.domain_id,10);isNaN(t)?s.raiseError("Invalid domain identifier."):angular.isObject(e)&&e.id===t?c(e):i.setActiveItem(t).then(function(e){c(e)},function(e){s.raiseError(e)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","$rootScope","$routeParams","$location","DomainsManager","UsersManager","ManagerHelperService","ErrorService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,c,u,l,f){var d=[["static","Static"],["dynamic","Dynamic"],["external","External"]];t.title="Dashboard",t.page="dashboard",e.loaded=!1,e.discoveredDevices=r.getItems(),e.domains=i.getItems(),e.machines=a.getItems(),e.devices=o.getItems(),e.configManager=u,e.networkDiscovery=null,e.column="mac",e.selectedDevice=null,e.convertTo=null,e.showClearDiscoveriesPanel=!1,e.removingDevices=!1,e.MAAS_VERSION_NUMBER=r.formatMAASVersionNumber(),e.search="",e.searchValid=!0,e.actionOption=null,e.filters=f.getEmptyFilter(),e.metadata={},e.filteredDevices=[],e.clearSearch=function(){e.search="",e.updateFilters()},e.filteredDevices=[],e.updateFilters=function(){var t=e.search,n=f.getCurrentFilters(t);null===n?(e.filters=f.getEmptyFilter(),e.searchValid=!1):(e.filters=n,e.searchValid=!0)},e.dedupeMetadata=function(t){return e.discoveredDevices.filter(function(e,n,r){return r.map(function(e){return e[t]}).indexOf(e[t])===n})},e.getCount=function(t,n){return e.discoveredDevices.filter(function(e){return e[t]===n}).length},e.setMetadata=function(){var t=e.dedupeMetadata("fabric_name").map(function(t){return{name:t.fabric_name,count:e.getCount("fabric_name",t.fabric_name)}}),n=e.dedupeMetadata("vlan").map(function(t){return{name:t.vlan,count:e.getCount("vlan",t.vlan)}}),r=e.dedupeMetadata("observer_hostname").map(function(t){return{name:t.observer_hostname,count:e.getCount("observer_hostname",t.observer_hostname)}}),i=e.dedupeMetadata("subnet_cidr").map(function(t){return{name:t.subnet_cidr,count:e.getCount("subnet_cidr",t.subnet_cidr)}});e.metadata={fabric:t,vlan:n,rack:r,subnet:i}},e.toggleFilter=function(t,n){e.filters=f.toggleFilter(e.filters,t,n,!0),e.search=f.filtersToString(e.filters)},e.isFilterActive=function(t,n){return f.isFilterActive(e.filters,t,n,!0)},e.formatMAASVersionNumber=function(){if(MAAS_config.version){var e=MAAS_config.version.split(" ")[0];if(e)return"0"===e.split(".")[2]?e.split(".")[0]+"."+e.split(".")[1]:e}},e.MAAS_VERSION_NUMBER=e.formatMAASVersionNumber(),e.predicate=e.last_seen,e.openClearDiscoveriesPanel=function(){e.showClearDiscoveriesPanel=!0},e.closeClearDiscoveriesPanel=function(){e.showClearDiscoveriesPanel=!1},e.sortTable=function(t){e.predicate=t,e.reverse=!e.reverse},e.proxyManager={updateItem:function(t){if("device"===e.convertTo.type)return o.createItem(t);if("interface"===e.convertTo.type)return o.createInterface(t);throw new Error("Unknown type: "+e.convertTo.type)}},e.getDiscoveryName=function(e){return null===e.hostname?"unknown":e.hostname},e.getSubnetName=function(e){var t=s.getItemFromList(e);return s.getName(t)},e.getVLANName=function(e){var t=c.getItemFromList(e);return c.getName(t)},e.removeDevice=function(e){e.isBeingRemoved=!0,r.removeDevice(e)},e.removeAllDevices=function(){e.removingDevices=!0,r.removeDevices(e.discoveredDevices).then(function(){e.discoveredDevices=r.getItems()})},e.toggleSelected=function(t){if(e.selectedDevice===t)e.selectedDevice=null;else{var n,a=r.getItemFromList(t),o=e.getDiscoveryName(a);"unknown"===o&&(o=""),o.indexOf(".")>0?(n=i.getDomainByName(o.slice(o.indexOf(".")+1)),o=o.split(".",1)[0],null===n&&(n=i.getDefaultDomain())):n=i.getDefaultDomain(),e.convertTo={type:"device",hostname:o,domain:n,parent:null,ip_assignment:"dynamic",goTo:!1,saved:!1,deviceIPOptions:d.filter(function(e){return!("static"===e[0]&&!angular.isNumber(a.subnet))})},e.selectedDevice=t}},e.preProcess=function(t){var n=r.getItemFromList(e.selectedDevice);return t=angular.copy(t),"device"===e.convertTo.type?(t.primary_mac=n.mac_address,t.extra_macs=[],t.interfaces=[{mac:n.mac_address,ip_assignment:t.ip_assignment,ip_address:n.ip,subnet:n.subnet}]):"interface"===e.convertTo.type&&(t.mac_address=n.mac_address,t.ip_address=n.ip,t.subnet=n.subnet),t},e.afterSave=function(t){r._removeItem(e.selectedDevice),e.selectedDevice=null,e.convertTo.hostname=t.hostname,e.convertTo.parent=t.parent,e.convertTo.saved=!0,e.convertTo.goTo&&(angular.isString(t.parent)?n.path("/device/"+t.parent):n.path("/devices/"))},l.loadManagers(e,[r,i,a,o,s,c,u]).then(function(){e.loaded=!0,e.networkDiscovery=u.getItemFromList("network_discovery"),e.setMetadata(),e.discoveredDevices.forEach(function(e){var t=new Date(e.last_seen);e.last_seen_timestamp=t.getTime()}),e.$watchCollection("discoveredDevices",function(){e.removingDevices=!1,e.closeClearDiscoveriesPanel()})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","$rootScope","$location","DiscoveriesManager","DomainsManager","MachinesManager","DevicesManager","SubnetsManager","VLANsManager","ConfigsManager","ManagerHelperService","SearchService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,c,u){t.$parent.addHardwareScope=t,t.machineManager=a,t.newMachineObj={},t.viewable=!1,t.model="machine",t.zones=r.getItems(),t.pools=i.getItems(),t.domains=s.getItems(),t.architectures=o.getData("architectures"),t.architectures.push("Choose an architecture"),t.hwe_kernels=o.getData("hwe_kernels"),t.default_min_hwe_kernel=o.getData("default_min_hwe_kernel"),t.power_types=o.getData("power_types"),t.error=null,t.macAddressRegex=/^([0-9A-F]{2}[::]){5}([0-9A-F]{2})$/gim,t.machine=null,t.chassis=null;var l=[{name:"hostname",label:"Address",field_type:"string",default:"",choices:[],required:!0},{name:"password",label:"Password",field_type:"string",default:"",choices:[],required:!1},{name:"prefix_filter",label:"Prefix filter",field_type:"string",default:"",choices:[],required:!1}];function f(){if(0===t.architectures.length)return"";var e;for(e=0;e<t.architectures.length;e++)if("amd64/generic"===t.architectures[e])return t.architectures[e];return t.architectures[0]}function d(e){return angular.isObject(e)?{name:"",domain:e.domain,macs:[{mac:"",error:!1}],zone:e.zone,pool:e.pool,architecture:e.architecture,min_hwe_kernel:e.min_hwe_kernel,power:{type:e.power.type,parameters:{}}}:{name:"",domain:s.getDefaultDomain(),macs:[{mac:"",error:!1}],zone:0===t.zones.length?null:t.zones[0],pool:0===t.pools.length?null:t.pools[0],architecture:f(),min_hwe_kernel:t.default_min_hwe_kernel.text,power:{type:null,parameters:{}}}}function h(e){return angular.isObject(e)?{domain:e.domain,power:{type:null,parameters:{}}}:{domain:s.getDefaultDomain(),power:{type:null,parameters:{}}}}t.chassisPowerTypes=[{name:"mscm",description:"Moonshot Chassis Manager",fields:[{name:"hostname",label:"Host",field_type:"string",default:"",choices:[],required:!0},{name:"username",label:"Username",field_type:"string",default:"",choices:[],required:!0},{name:"password",label:"Password",field_type:"string",default:"",choices:[],required:!0}]},{name:"powerkvm",description:"PowerKVM",fields:l},{name:"recs_box",description:"Christmann RECS|Box",fields:[{name:"hostname",label:"Hostname",field_type:"string",default:"",choices:[],required:!0},{name:"port",label:"Port",field_type:"string",default:"80",choices:[],required:!1},{name:"username",label:"Username",field_type:"string",default:"",choices:[],required:!0},{name:"password",label:"Password",field_type:"string",default:"",choices:[],required:!0}]},{name:"seamicro15k",description:"SeaMicro 15000",fields:[{name:"hostname",label:"Hostname",field_type:"string",default:"",choices:[],required:!0},{name:"username",label:"Username",field_type:"string",default:"",choices:[],required:!0},{name:"password",label:"Password",field_type:"string",default:"",choices:[],required:!0},{name:"power_control",label:"Power Control",field_type:"choice",default:"restapi2",choices:[["restapi2","REST API V2.0"],["restapi","REST API V0.9"],["ipmi","IPMI"]],required:!0}]},{name:"ucsm",description:"UCS Chassis Manager",fields:[{name:"hostname",label:"URL",field_type:"string",default:"",choices:[],required:!0},{name:"username",label:"Username",field_type:"string",default:"",choices:[],required:!0},{name:"password",label:"Password",field_type:"string",default:"",choices:[],required:!0}]},{name:"virsh",description:"Virsh (virtual systems)",fields:l},{name:"vmware",description:"VMware",fields:[{name:"hostname",label:"Host",field_type:"string",default:"",choices:[],required:!0},{name:"username",label:"Username",field_type:"string",default:"",choices:[],required:!0},{name:"password",label:"Password",field_type:"string",default:"",choices:[],required:!0},{name:"prefix_filter",label:"Prefix filter",field_type:"string",default:"",choices:[],required:!1}]}],t.show=function(n){if(t.mode=n,!t.viewable){var i=!1,a=!1,u=e.defer();u.promise.then(function(){t.machine=d(t.machine),t.chassis=h(t.chassis),t.error=null,angular.isObject(t.machine)&&""===t.machine.architecture&&(t.machine.architecture=f()),t.viewable=!0}),o.loadItems(["architectures","hwe_kernels","default_min_hwe_kernel"]).then(function(){i=!0,a&&u.resolve()}),c.loadManagers(t,[r,s]).then(function(){a=!0,i&&u.resolve()})}},t.hide=function(){t.viewable=!1,c.unloadManagers(t,[r,s]),t.$emit("addHardwareHidden")},t.showMachine=function(){return 0!==t.architectures.length&&"machine"===t.mode},t.showChassis=function(){return 0!==t.architectures.length&&"chassis"===t.mode},t.addMac=function(){t.machine.macs.push({mac:"",error:!1})},t.removeMac=function(e){var n=t.machine.macs.indexOf(e);n>-1&&t.machine.macs.splice(n,1)},t.invalidName=function(){return 0!==t.machine.name.length&&!u.validateHostname(t.machine.name)},t.validateMac=function(e){""===e.mac?e.error=!1:e.error=!u.validateMAC(e.mac)},t.machineHasError=function(){var e,n=null===t.machine||null===t.machine.zone||null===t.machine.pool||"Choose an architecture"===t.machine.architecture&&"ipmi"!==t.machine.power.type.name||null===t.machine.power.type||t.invalidName(t.machine);if(n)return n;if(""===t.machine.macs[0].mac&&"ipmi"!==t.machine.power.type.name||t.machine.macs[0].error)return!0;for(e=1;e<t.machine.macs.length;e++){var r=t.machine.macs[e];if(""!==r.mac&&r.error)return!0}return!1},t.chassisHasErrors=function(){var e=null===t.chassis||null===t.chassis.power.type;return e||function(e,t){var n;for(n=0;n<e.fields.length;n++){var r=e.fields[n],i=t[r.name];if(r.required&&(angular.isUndefined(i)||""===i))return!0}return!1}(t.chassis.power.type,t.chassis.power.parameters)},t.cancel=function(){t.machine=d(),t.chassis=h(),t.hide(),t.showErrors=!1},t.saveMachine=function(e){var n,r,i,a;t.addAnother=e,t.showErrors=!0,t.newMachineObj=Object.assign(t.newMachineObj,(n=t.machine,r=angular.copy(n.macs),i=r.shift().mac,a=r.map(function(e){return e.mac}),{name:n.name,domain:n.domain,architecture:n.architecture,min_hwe_kernel:n.min_hwe_kernel,pxe_mac:i,extra_macs:a,power_type:n.power.type.name,power_parameters:angular.copy(n.power.parameters),zone:{id:n.zone.id,name:n.zone.name},pool:{id:n.pool.id,name:n.pool.name}}))},t.afterSaveMachine=function(){t.addAnother?t.machine=d(t.machine):(t.machine=d(),t.hide())},t.saveChassis=function(e){if(!t.chassisHasErrors()){t.error=null;var r=angular.copy(t.chassis.power.parameters);r.chassis_type=t.chassis.power.type.name,r.domain=t.chassis.domain.name,"powerkvm"!==r.chassis_type&&"virsh"!==r.chassis_type||delete r.username,n({method:"POST",url:"api/2.0/machines/?op=add_chassis",data:$.param(r),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(){e?t.chassis=h(t.chassis):(t.chassis=h(),t.hide())},function(e){t.error=c.parseValidationError(e.data)})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$q","$scope","$http","ZonesManager","ResourcePoolsManager","MachinesManager","GeneralManager","DomainsManager","ManagerHelperService","ValidationService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r){e.$parent.addDomainScope=e,e.viewable=!1,e.error=null,e.domain={name:"",authoritative:!0},e.show=function(){e.viewable||(e.domain={name:"",authoritative:!0},e.viewable=!0)},e.hide=function(){e.viewable=!1,e.$emit("addDomainHidden")},e.nameHasError=function(){return 0!==e.domain.name.length&&!r.validateDomainName(e.domain.name)},e.domainHasError=function(){return!(""!==e.domain.name&&!e.nameHasError())},e.cancel=function(){e.error=null,e.domain={name:"",authoritative:!0},e.hide()},e.save=function(r){if(!e.domainHasError()){e.error=null;var i=function(e){return angular.copy(e)}(e.domain);t.create(i).then(function(){e.domain={name:"",authoritative:!0},r||e.hide()},function(t){e.error=n.parseValidationError(t)})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","DomainsManager","ManagerHelperService","ValidationService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r,i,a){function o(e){return angular.isObject(e)?{name:"",domain:e.domain,interfaces:[{mac:"",ipAssignment:null,subnetId:null,ipAddress:""}]}:{name:"",domain:r.getDefaultDomain(),interfaces:[{mac:"",ipAssignment:null,subnetId:null,ipAddress:""}]}}e.$parent.addDeviceScope=e,e.subnets=n.getItems(),e.domains=r.getItems(),e.viewable=!1,e.error=null,e.ipAssignments=[{name:"external",title:"External"},{name:"dynamic",title:"Dynamic"},{name:"static",title:"Static"}],e.device=null,e.show=function(){e.viewable||i.loadManagers(e,[n,r]).then(function(){e.device=o(e.device),e.viewable=!0})},e.hide=function(){e.viewable=!1,i.unloadManagers(e,[n,r]),e.$emit("addDeviceHidden")},e.nameHasError=function(){return null!==e.device&&0!==e.device.name.length&&!a.validateHostname(e.device.name)},e.macHasError=function(t){if(0===t.mac.length)return!1;if(!a.validateMAC(t.mac))return!0;var n;for(n=0;n<e.device.interfaces.length;n++){if(!(e.device.interfaces[n]===t)&&e.device.interfaces[n].mac===t.mac)return!0}return!1},e.ipHasError=function(t){if(0===t.ipAddress.length)return!1;if(!a.validateIP(t.ipAddress))return!0;var r;if(angular.isObject(t.ipAssignment))if("external"===t.ipAssignment.name){for(r=0;r<e.subnets.length;r++)if(a.validateIPInNetwork(t.ipAddress,e.subnets[r].cidr))return!0}else if("static"===t.ipAssignment.name&&angular.isNumber(t.subnetId)){var i=n.getItemFromList(t.subnetId);if(!a.validateIPInNetwork(t.ipAddress,i.cidr))return!0}return!1},e.deviceHasError=function(){if(null===e.device||""===e.device.name||e.nameHasError())return!0;var t;for(t=0;t<e.device.interfaces.length;t++){var n=e.device.interfaces[t];if(""===n.mac||e.macHasError(n)||!angular.isObject(n.ipAssignment))return!0;var r="external"===n.ipAssignment.name&&(""===n.ipAddress||e.ipHasError(n)),i="static"===n.ipAssignment.name&&(!angular.isNumber(n.subnetId)||e.ipHasError(n));if(r||i)return!0}return!1},e.addInterface=function(){e.device.interfaces.push({mac:"",ipAssignment:null,subnetId:null,ipAddress:""})},e.isPrimaryInterface=function(t){return 0===e.device.interfaces.indexOf(t)},e.deleteInterface=function(t){e.isPrimaryInterface(t)||e.device.interfaces.splice(e.device.interfaces.indexOf(t),1)},e.cancel=function(){e.error=null,e.device=o(),e.hide()},e.save=function(n){if(!e.deviceHasError()){e.error=null;var r=function(e){var t,n={hostname:e.name,domain:e.domain,primary_mac:e.interfaces[0].mac,extra_macs:[],interfaces:[]};for(t=1;t<e.interfaces.length;t++)n.extra_macs.push(e.interfaces[t].mac);return angular.forEach(e.interfaces,function(e){n.interfaces.push({mac:e.mac,ip_assignment:e.ipAssignment.name,ip_address:e.ipAddress,subnet:e.subnetId})}),n}(e.device);t.create(r).then(function(t){n?e.device=o(e.device):(e.device=o(),e.hide())},function(t){e.error=i.parseValidationError(t)})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$scope","DevicesManager","SubnetsManager","DomainsManager","ManagerHelperService","ValidationService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="zone";var n=this;e.registerNotifier("zone",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,n.prototype.getDefaultZone=function(e){var t,n=0,r=this._items.length;if(e&&(n=e.zone),0===r)return null;for(t=0;t<r;t++)if(this._items[t].id===n)return this._items[t];return this._items[0]},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="vlan";var n=this;e.registerNotifier("vlan",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,n.prototype.getName=function(e){var t=e.vid;return 0===e.vid?t="untagged":angular.isString(e.name)&&""!==e.name&&(t+=" ("+e.name+")"),t},n.prototype.deleteVLAN=function(t){return e.callMethod("vlan.delete",{id:t.id},!0)},n.prototype.addRackController=function(e,t){e.rack_sids.push(t.system_id)},n.prototype.configureDHCP=function(t,n,r,i){var a={id:t.id,controllers:n,extra:r};return(null===i||angular.isNumber(i))&&(a.relay_vlan=i),e.callMethod("vlan.configure_dhcp",a,!0)},n.prototype.disableDHCP=function(t){return e.callMethod("vlan.configure_dhcp",{id:t.id,controllers:[],relay_vlan:null},!0)},n.prototype.create=function(t){return e.callMethod("vlan.create",t)},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n){function r(){e.call(this),this._pk="id",this._handler="user",this._batchSize=200,this._authUser=null;var n=this;t.registerNotifier("user",function(e,t){n.onNotify(e,t)})}return r.prototype=new e,r.prototype.getAuthUser=function(){return this._authUser},r.prototype.isSuperUser=function(){var e=this.getAuthUser();return!!angular.isObject(e)&&e.is_superuser},r.prototype.getSSHKeyCount=function(){var e=this._authUser;return angular.isObject(e)?e.sshkeys_count:0},r.prototype._loadAuthUser=function(){var e=this;return t.callMethod("user.auth_user",{}).then(function(t){return angular.isObject(e._authUser)?angular.copy(t,e._authUser):e._authUser=t,e._authUser},function(e){n.raiseError(e)})},r.prototype._replaceItem=function(t){e.prototype._replaceItem.call(this,t),angular.isObject(this._authUser)&&this._authUser[this._pk]===t[this._pk]&&angular.copy(t,this._authUser)},r.prototype.loadItems=function(){return this._loadAuthUser(),e.prototype.loadItems.call(this)},r.prototype.reloadItems=function(){return this._loadAuthUser(),e.prototype.reloadItems.call(this)},r.prototype.markIntroComplete=function(){var e=this;return t.callMethod("user.mark_intro_complete",{}).then(function(t){return angular.isObject(e._authUser)?angular.copy(t,e._authUser):e._authUser=t,e._authUser},function(e){n.raiseError(e)})},r.prototype.createAuthorisationToken=function(){return t.callMethod("user.create_authorisation_token",{}).catch(function(e){n.raiseError(e)})},r.prototype.deleteAuthorisationToken=function(e){return t.callMethod("user.delete_authorisation_token",{key:e}).catch(function(e){n.raiseError(e)})},r.prototype.hasGlobalPermission=function(e){var t=this.getAuthUser();return!(!t||!t.global_permissions)&&-1!==t.global_permissions.indexOf(e)},new r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["Manager","RegionConnection","ErrorService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="tag";var n=this;e.registerNotifier("tag",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,n.prototype.autocomplete=function(e){var t=[];return this._items.sort(function(e,t){var n=e.name,r=t.name;return n>r?1:n<r?-1:0}),angular.forEach(this._items,function(n){n.name.indexOf(e)>-1&&t.push(n.name)}),t},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="system_id",this._handler="switch",this._metadataAttributes={owner:null,subnets:null,tags:null,zone:function(e){return e.zone.name}};var n=this;e.registerNotifier("switch",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,n.prototype.create=function(t){return e.callMethod("switch.create",t)},n.prototype.performAction=function(t,n,r){return angular.isObject(r)||(r={}),e.callMethod("switch.action",{system_id:t.system_id,action:n,extra:r})},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","NodesManager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="subnet";var n=this;e.registerNotifier("subnet",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,n.prototype.getName=function(e){if(!angular.isObject(e))return"";var t=e.cidr;return angular.isString(e.name)&&""!==e.name&&e.name!==e.cidr&&(t+=" ("+e.name+")"),t},n.prototype.getLargestRange=function(e){var t={num_addresses:0,start:"",end:""};return angular.forEach(e.statistics.ranges,function(e){angular.equals(e.purpose,["unused"])&&e.num_addresses>t.num_addresses&&(t=e)}),t},n.prototype.hasDynamicRange=function(e){var t;for(t=0;t<e.statistics.ranges.length;t++){if(-1!==e.statistics.ranges[t].purpose.indexOf("dynamic"))return!0}return!1},n.prototype.create=function(t){return e.callMethod("subnet.create",t)},n.prototype.deleteSubnet=function(t){return e.callMethod("subnet.delete",{id:t.id})},n.prototype.scanSubnet=function(t){return e.callMethod("subnet.scan",{id:t.id})},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="staticroute";var n=this;e.registerNotifier("staticroute",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="sshkey";var n=this;e.registerNotifier("sshkey",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,n.prototype.importKeys=function(t){return e.callMethod("sshkey.import_keys",t)},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="space";var n=this;e.registerNotifier("space",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,n.prototype.create=function(t){return e.callMethod("space.create",t)},n.prototype.deleteSpace=function(t){return e.callMethod("space.delete",t)},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="service";var n=this;e.registerNotifier("service",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="script";var n=this;e.registerNotifier("script",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="resourcepool";var n=this;e.registerNotifier("resourcepool",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,n.prototype.getDefaultPool=function(){var e;for(e=0;e<this._items.length;e++)if(0===this._items[e].id)return this._items[e]},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="pod";var n=this;e.registerNotifier("pod",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,n.prototype.refresh=function(t){var n=this;return e.callMethod("pod.refresh",t).then(function(e){return n._replaceItem(e),e})},n.prototype.compose=function(t){var n=this;return e.callMethod("pod.compose",t).then(function(e){return n._replaceItem(e),e})},n.prototype.availableWithOvercommit=function(e,t,n,r){return r?(e*n-t).toFixed(r).replace(/[.,]0$/,""):e*n-t},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="packagerepository";var n=this;e.registerNotifier("packagerepository",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,n.prototype.create=function(t){return e.callMethod(this._handler+".create",t,!0)},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="notification",e.registerNotifier("notification",angular.bind(this,this.onNotify))}return n.prototype=new t,n.prototype.dismiss=function(t){return e.callMethod("notification.dismiss",{id:t.id})},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n){function r(){t.call(this)}return r.prototype=new t,r.prototype.create=function(t){return e.callMethod(this._handler+".create",t)},r.prototype.performAction=function(t,n,r){return angular.isObject(r)||(r={}),e.callMethod(this._handler+".action",{system_id:t.system_id,action:n,extra:r})},r.prototype.checkPowerState=function(t){return e.callMethod(this._handler+".check_power",{system_id:t.system_id}).then(function(e){return t.power_state=e,e},function(e){return t.power_state="error",console.log(e),"error"})},r.prototype.createPhysicalInterface=function(t,n){return angular.isObject(n)||(n={}),n.system_id=t.system_id,e.callMethod(this._handler+".create_physical",n)},r.prototype.createVLANInterface=function(t,n){return angular.isObject(n)||(n={}),n.system_id=t.system_id,e.callMethod(this._handler+".create_vlan",n)},r.prototype.createBondInterface=function(t,n){return angular.isObject(n)||(n={}),n.system_id=t.system_id,e.callMethod(this._handler+".create_bond",n)},r.prototype.createBridgeInterface=function(t,n){return angular.isObject(n)||(n={}),n.system_id=t.system_id,e.callMethod(this._handler+".create_bridge",n)},r.prototype.updateInterface=function(t,n,r){return angular.isObject(r)||(r={}),r.system_id=t.system_id,r.interface_id=n,e.callMethod(this._handler+".update_interface",r)},r.prototype.updateInterfaceForm=function(t){return e.callMethod(this._handler+".update_interface",t)},r.prototype.deleteInterface=function(t,n){var r={system_id:t.system_id,interface_id:n};return e.callMethod(this._handler+".delete_interface",r)},r.prototype.linkSubnet=function(t,n,r){return angular.isObject(r)||(r={}),r.system_id=t.system_id,r.interface_id=n,e.callMethod(this._handler+".link_subnet",r)},r.prototype.unlinkSubnet=function(t,n,r){var i={system_id:t.system_id,interface_id:n,link_id:r};return e.callMethod(this._handler+".unlink_subnet",i)},r.prototype.updateFilesystem=function(t,n,r,i,a,o,s){var c=this._handler+".update_filesystem",u={system_id:t.system_id,block_id:n,partition_id:r,fstype:i,mount_point:a,mount_options:o,tags:s};return e.callMethod(c,u)},r.prototype.deleteDisk=function(t,n){var r=this._handler+".delete_disk",i={system_id:t.system_id,block_id:n};return e.callMethod(r,i)},r.prototype.deletePartition=function(t,n){var r=this._handler+".delete_partition",i={system_id:t.system_id,partition_id:n};return e.callMethod(r,i)},r.prototype.deleteVolumeGroup=function(t,n){var r=this._handler+".delete_volume_group",i={system_id:t.system_id,volume_group_id:n};return e.callMethod(r,i)},r.prototype.deleteCacheSet=function(t,n){var r=this._handler+".delete_cache_set",i={system_id:t.system_id,cache_set_id:n};return e.callMethod(r,i)},r.prototype.deleteFilesystem=function(t,n,r,i){var a=this._handler+".delete_filesystem",o={system_id:t.system_id,blockdevice_id:n,partition_id:r,filesystem_id:i};return e.callMethod(a,o)},r.prototype.createPartition=function(t){var n;n=angular.isObject(t.params)?t.params:{};var r=this._handler+".create_partition";return n.system_id=t.system_id,n.block_id=t.block_id,n.partition_size=t.partition_size,e.callMethod(r,n)},r.prototype.createCacheSet=function(t,n,r){var i=this._handler+".create_cache_set",a={system_id:t.system_id,block_id:n,partition_id:r};return e.callMethod(i,a)},r.prototype.createBcache=function(t,n){return angular.isObject(n)||(n={}),n.system_id=t.system_id,e.callMethod(this._handler+".create_bcache",n)},r.prototype.createRAID=function(t,n){return angular.isObject(n)||(n={}),n.system_id=t.system_id,e.callMethod(this._handler+".create_raid",n)},r.prototype.createVolumeGroup=function(t,n){return angular.isObject(n)||(n={}),n.system_id=t.system_id,e.callMethod(this._handler+".create_volume_group",n)},r.prototype.createLogicalVolume=function(t,n,r,i,a){angular.isObject(a)||(a={});var o=this._handler+".create_logical_volume";return a.system_id=t.system_id,a.volume_group_id=n,a.name=r,a.size=i,e.callMethod(o,a)},r.prototype.updateDisk=function(t,n,r){return angular.isObject(r)||(r={}),r.system_id=t.system_id,r.block_id=n,e.callMethod(this._handler+".update_disk",r)},r.prototype.setBootDisk=function(t,n){var r={system_id:t.system_id,block_id:n};return e.callMethod(this._handler+".set_boot_disk",r)},r.prototype.getSummaryXML=function(t){return e.callMethod(this._handler+".get_summary_xml",{system_id:t.system_id})},r.prototype.getSummaryYAML=function(t){return e.callMethod(this._handler+".get_summary_yaml",{system_id:t.system_id})},r.prototype.isModernUbuntu=function(e){return!!e&&("ubuntu"===e.osystem&&!n.includes(e.release))},r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager","KVMDeployOSBlacklist"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(n,r){t.call(this),this._pk="id",this._handler="noderesult",this._node=n,this._factory=r,this.commissioning_results=[{title:null,hardware_type:0,results:{}},{title:"CPU",hardware_type:1,results:{}},{title:"Memory",hardware_type:2,results:{}},{title:"Storage",hardware_type:3,results:{}}],this.testing_results=[{title:"CPU",hardware_type:1,results:{}},{title:"Memory",hardware_type:2,results:{}},{title:"Storage",hardware_type:3,results:{}},{title:"Other Results",hardware_type:0,results:{}}],this.installation_results=[];var i=this;e.registerNotifier("noderesult",function(e,t){i.onNotify(e,t)})}function r(){this._managers=[]}return n.prototype=new t,n.prototype._getStorageSubtext=function(e){var t="";return""!==e.model&&(t+="Model: "+e.model),""!==e.serial&&(""!==t&&(t+=", "),t+="Serial: "+e.serial),""!==t?"/dev/"+e.name+" ("+t+")":"/dev/"+e.name},n.prototype._updateObject=function(e,t){angular.forEach(t,function(t,n){e[n]!==t&&"showing_results"!==n&&"showing_history"!==n&&"showing_menu"!==n&&"$selected"!==n&&(e[n]=t)})},n.prototype._addOrReplace=function(e,t){var n;for(n=0;n<e.length;n++)if(e[n].name===t.name)return t.$selected=e[n].$selected,t.showing_results=e[n].showing_results,t.showing_history=e[n].showing_history,t.showing_menu=e[n].showing_menu,void angular.copy(t,e[n]);for(n=0;n<e.length;n++)if(e[n].name>t.name)return void e.splice(n,0,t);e.push(t)},n.prototype._processItem=function(e){var t,n;if(e.showing_results=!1,e.showing_history=!1,e.showing_menu=!1,e.result_section="scripts",0===e.result_type)t=this.commissioning_results;else{if(1===e.result_type)return void this._addOrReplace(this.installation_results,e);t=this.testing_results,e.result_section="tests"}var r,i,a=t[3];for(n=0;n<t.length;n++)if(t[n].hardware_type===e.hardware_type){a=t[n].results;break}if(3===e.hardware_type&&null!==e.physical_blockdevice){for(n=0;n<this._node.disks.length;n++)if((r=this._node.disks[n]).id===e.physical_blockdevice){i=this._getStorageSubtext(r),angular.isArray(a[i])||(a[i]=[]),this._addOrReplace(a[i],e);break}}else angular.isArray(a.null)||(a.null=[]),this._addOrReplace(a.null,e)},n.prototype._removeItem=function(e){var t=this._getIndexOfItem(this._items,e.id);t>=0&&this._updateMetadata(this._items[t],"delete"),this._removeItemByIdFromArray(this._items,e.id),this._removeItemByIdFromArray(this._selectedItems,e.id);var n=this;angular.forEach(this.commissioning_results,function(t){angular.forEach(t.results,function(r,i){n._removeItemByIdFromArray(r,e.id),0===r.length&&delete t.results[i]})}),angular.forEach(this.testing_results,function(t){angular.forEach(t.results,function(r,i){n._removeItemByIdFromArray(r,e.id),0===r.length&&delete t.results[i]})}),this._removeItemByIdFromArray(this.installation_results,e.id)},n.prototype._initBatchLoadParameters=function(){var e={system_id:this._node.system_id};return"summary"===this._area?(e.has_surfaced=!0,e.result_type=2):"testing"===this._area?e.result_type=2:"commissioning"===this._area?e.result_type=0:"logs"===this._area&&(e.result_type=1),e},n.prototype.destroy=function(){if(this._factory.destroyManager(this),this.isLoaded()){var t=this._handler+".clear";e.callMethod(t,{system_id:this._node.system_id})}},n.prototype.get_result_data=function(t,n){var r=this._handler+".get_result_data",i={id:t,data_type:n};return e.callMethod(r,i)},n.prototype.get_history=function(t){var n=this._handler+".get_history",r={id:t};return e.callMethod(n,r)},r.prototype._getManager=function(e){var t;for(t=0;t<this._managers.length;t++)if(this._managers[t]._node.system_id===e.system_id)return this._managers[t];return null},r.prototype.getManager=function(e,t){var r=this._getManager(e);return angular.isObject(r)||(r=new n(e,this),this._managers.push(r)),r._area=t,r.results="commissioning"===t?r.commissioning_results:"logs"===t?r.installation_results:r.testing_results,r},r.prototype.destroyManager=function(e){var t=this._managers.indexOf(e);t>=0&&this._managers.splice(t,1)},new r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="system_id",this._handler="machine",this._batchSize=25,this._metadataAttributes={architecture:null,status:null,owner:null,tags:null,pod:function(e){return void 0===e.pod?"":e.pod.name},pool:function(e){return e.pool.name},zone:function(e){return e.zone.name},subnets:null,fabrics:null,spaces:null,storage_tags:null,release:function(e){return 6===e.status_code||9===e.status_code?e.osystem+"/"+e.distro_series:""}};var n=this;e.registerNotifier("machine",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,n.prototype.mountSpecialFilesystem=function(t){var n=this._handler+".mount_special",r={system_id:t.system_id,fstype:t.fstype,mount_point:t.mount_point,mount_options:t.mount_options};return e.callMethod(n,r)},n.prototype.unmountSpecialFilesystem=function(t,n){var r=this._handler+".unmount_special",i={system_id:t.system_id,mount_point:n};return e.callMethod(r,i)},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","NodesManager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="iprange";var n=this;e.registerNotifier("iprange",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r){function i(){this._data={machine_actions:{method:"general.machine_actions",data:[],requested:!1,loaded:!1,polling:[],nextPromise:null},device_actions:{method:"general.device_actions",data:[],request:!1,loaded:!1,polling:[],nextPromise:null},region_controller_actions:{method:"general.region_controller_actions",data:[],requested:!1,loaded:!1,polling:[],nextPromise:null},rack_controller_actions:{method:"general.rack_controller_actions",data:[],requested:!1,loaded:!1,polling:[],nextPromise:null},region_and_rack_controller_actions:{method:"general.region_and_rack_controller_actions",data:[],requested:!1,loaded:!1,polling:[],nextPromise:null},architectures:{method:"general.architectures",data:[],requested:!1,loaded:!1,polling:[],nextPromise:null},known_architectures:{method:"general.known_architectures",data:[],requested:!1,loaded:!1,polling:[],nextPromise:null},pockets_to_disable:{method:"general.pockets_to_disable",data:[],requested:!1,loaded:!1,polling:[],nextPromise:null},components_to_disable:{method:"general.components_to_disable",data:[],requested:!1,loaded:!1,polling:[],nextPromise:null},hwe_kernels:{method:"general.hwe_kernels",data:[],requested:!1,loaded:!1,polling:[],nextPromise:null},min_hwe_kernels:{method:"general.min_hwe_kernels",data:[],requested:!1,loaded:!1,polling:[],nextPromise:null},default_min_hwe_kernel:{method:"general.default_min_hwe_kernel",data:{text:""},requested:!1,loaded:!1,polling:[],nextPromise:null,replaceData:function(e,t){e.text=t}},osinfo:{method:"general.osinfo",data:{},requested:!1,loaded:!1,polling:[],nextPromise:null,isEmpty:function(e){var t=e.osystems;return angular.isUndefined(t)||0===t.length},replaceData:function(e,t){angular.copy(t,e)}},bond_options:{method:"general.bond_options",data:{},requested:!1,loaded:!1,polling:[],nextPromise:null,replaceData:function(e,t){angular.copy(t,e)}},version:{method:"general.version",data:{text:null},requested:!1,loaded:!1,polling:[],nextPromise:null,replaceData:function(e,t){e.text=t}},power_types:{method:"general.power_types",data:[],requested:!1,loaded:!1,polling:[],nextPromise:null,replaceData:function(e,t){var n,r,i,a;for(n=0;n<t.length;n++){i=t[n];var o=!0;for(r=0;r<e.length;r++)if(a=e[r],i.name===a.name){o=!1;break}o&&e.push(i)}for(n=e.length-1;n>=0;n--){a=e[n];var s=!1;for(r=0;r<t.length;r++)if((i=t[r]).name===a.name){s=!0;break}s||e.splice(n,1)}}},release_options:{method:"general.release_options",data:{},requested:!1,loaded:!1,polling:[],nextPromise:null,replaceData:function(e,t){angular.copy(t,e)}}},this._pollTimeout=1e4,this._pollErrorTimeout=3e3,this._pollEmptyTimeout=3e3,this._autoReload=!1,this._type="notify",this._scopes=[]}return i.prototype._getInternalData=function(e){var t=this._data[e];if(angular.isUndefined(t))throw new Error("Unknown data: "+e);return t},i.prototype.getData=function(e){var t=this._getInternalData(e);return t.requested=!0,t.data},i.prototype.isLoaded=function(){var e=!0;return angular.forEach(this._data,function(t){t.loaded||(e=!1)}),e},i.prototype.isDataLoaded=function(e){return this._getInternalData(e).loaded},i.prototype.isPolling=function(){var e=!1;return angular.forEach(this._data,function(t){t.polling.length>0&&(e=!0)}),e},i.prototype.isDataPolling=function(e){return this._getInternalData(e).polling},i.prototype.startPolling=function(e,t){var n=this._getInternalData(t);-1===n.polling.indexOf(e)&&(n.polling.push(e),1===n.polling.length&&this._poll(n))},i.prototype.stopPolling=function(e,n){var r=this._getInternalData(n),i=r.polling.indexOf(e);i>=0&&r.polling.splice(i,1),0===r.polling.length&&angular.isObject(r.nextPromise)&&(t.cancel(r.nextPromise),r.nextPromise=null)},i.prototype._loadData=function(e,t){var i=e.replaceData;return t=t||!1,angular.isUndefined(i)&&(i=function(e,t){e.length=0,e.push.apply(e,t)}),n.callMethod(e.method).then(function(t){return i(e.data,t),e.loaded=!0,e.data},function(e){return t&&r.raiseError(e),e})},i.prototype._pollAgain=function(e,n){var r=this;e.nextPromise=t(function(){r._poll(e)},n)},i.prototype._poll=function(e){var t=this,r=e.isEmpty;if(angular.isUndefined(r)&&(r=function(e){return 0===e.length}),n.isConnected())return this._loadData(e,!1).then(function(n){var i=t._pollTimeout;return r(e.data)&&(i=t._pollEmptyTimeout),t._pollAgain(e,i),n},function(n){console.log(n),t._pollAgain(e,t._pollErrorTimeout)});this._pollAgain(e,this._pollErrorTimeout)},i.prototype.loadItems=function(t){var n=this,r=e.defer(),i=0;angular.isArray(t)?i=t.length:angular.forEach(this._data,function(e){e.requested&&i++});return angular.forEach(this._data,function(e,a){(angular.isArray(t)&&-1!==t.indexOf(a)||!angular.isArray(t)&&e.requested)&&n._loadData(e,!0).then(function(){0==(i-=1)&&r.resolve()})}),r.promise},i.prototype.enableAutoReload=function(){if(!this._autoReload){this._autoReload=!0;var e=this;this._reloadFunc=function(){e.loadItems()},n.registerHandler("open",this._reloadFunc)}},i.prototype.disableAutoReload=function(){this._autoReload&&(n.unregisterHandler("open",this._reloadFunc),this._reloadFunc=null,this._autoReload=!1)},new i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$q","$timeout","RegionConnection","ErrorService"];var i=r;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBakery=function(){return function(e){return new r.Bakery({storage:new r.BakeryStorage(localStorage,{}),visitPage:e})}},t.externalLogin=i,i.$inject=["$window","getBakery"];var r=n(162);function i(e,t){return n.$inject=["$scope","$element"],{restrict:"E",scope:{},template:['<a target="_blank" class="p-button--positive"','    href="{{ loginURL }}"','    title="Login through {{ externalAuthURL }}">',"  Go to login page","</a>",'<div id="login-error" class="p-form-validation__message"','    ng-if="errorMessage">',"  <strong>Error getting login link:</strong><br>","  {{ errorMessage }}","</div>"].join(""),controller:n};function n(n,r){n.errorMessage="",n.loginURL="#",n.externalAuthURL=r.attr("auth-url");var i=t(function(e){n.$apply(function(){n.loginURL=e.Info.VisitURL,n.errorMessage=""})}),a=r.attr("next-path");i.get("/MAAS/accounts/discharge-request/",{Accept:"application/json","Content-Type":"application/json"},function(t,r){200!=r.currentTarget.status?(n.$apply(function(){n.errorMessage=r.currentTarget.responseText}),localStorage.clear()):e.location.replace(a)})}}},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="fabric";var n=this;e.registerNotifier("fabric",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,n.prototype.getName=function(e){if(angular.isObject(e))return angular.isString(e.name)?e.name:this._handler+"-"+e[this._pk]},n.prototype.deleteFabric=function(t){return e.callMethod("fabric.delete",{id:t.id},!0)},n.prototype.create=function(t){return e.callMethod("fabric.create",t)},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(e,n){t.call(this),this._pk="id",this._handler="event",this._nodeId=e,this._factory=n,this._maxDays=1}function r(){this._managers=[];var t=this;e.registerNotifier("event",function(e,n){t.onNotify(e,n)})}return n.prototype=new t,n.prototype._initBatchLoadParameters=function(){return{node_id:this._nodeId,max_days:this._maxDays}},n.prototype.destroy=function(){this._factory.destroyManager(this),this.isLoaded()&&e.callMethod("event.clear",{node_id:this._nodeId})},n.prototype.getMaximumDays=function(){return this._maxDays},n.prototype.loadMaximumDays=function(e){var t=this,n=function(){t._maxDays=e,t.loadItems()};this.isLoading()?this.loadItems().then(function(){n()}):n()},r.prototype._getManager=function(e){var t;for(t=0;t<this._managers.length;t++)if(this._managers[t]._nodeId===e)return this._managers[t];return null},r.prototype.getManager=function(e){var t=this._getManager(e);return angular.isObject(t)?t:(t=new n(e,this),this._managers.push(t),t)},r.prototype.destroyManager=function(e){var t=this._managers.indexOf(e);t>=0&&this._managers.splice(t,1)},r.prototype.onNotify=function(e,t){if("delete"===e)angular.forEach(this._managers,function(n){n.onNotify(e,t)});else if("create"===e||"update"===e){var n=this._getManager(t.node_id);angular.isObject(n)&&n.onNotify(e,t)}},new r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="domain";var n=this;e.registerNotifier("domain",function(e,t){n.onNotify(e,t)})}n.prototype=new t,n.prototype.create=function(t){return e.callMethod("domain.create",t)},n.prototype.deleteDomain=function(t){return e.callMethod("domain.delete",t)},n.prototype.createDNSRecord=function(t){return"A"===t.rrtype||"AAAA"===t.rrtype?(t.ip_addresses=t.rrdata.split(/[ ,]+/),e.callMethod("domain.create_address_record",t)):e.callMethod("domain.create_dnsdata",t)},n.prototype.updateDNSRecord=function(t){return"A"===t.rrtype||"AAAA"===t.rrtype?(t.ip_addresses=t.rrdata.split(/[ ,]+/),e.callMethod("domain.update_address_record",t)):e.callMethod("domain.update_dnsdata",t)},n.prototype.deleteDNSRecord=function(t){return"A"===t.rrtype||"AAAA"===t.rrtype?(t.ip_addresses=t.rrdata.split(/[ ,]+/),e.callMethod("domain.delete_dnsresource",t)):e.callMethod("domain.delete_dnsdata",t)},n.prototype.setDefault=function(t){e.callMethod("domain.set_default",{domain:t.id}).then(function(){r.reloadItems()})},n.prototype.getDefaultDomain=function(){if(0===this._items.length)return null;var e;for(e=0;e<this._items.length;e++)if(!0===this._items[e].is_default)return this._items[e];return this._items[0]},n.prototype.getDomainByName=function(e){var t;if(this._items.length>0)for(t=0;t<this._items.length;t++)if(this._items[t].name===e)return this._items[t];return null};var r=new n;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n){function r(){n.call(this),this._pk="first_seen",this._batchKey="first_seen",this._handler="discovery",this._pollEmptyTimeout=5e3}return r.prototype=new n,r.prototype.removeDevice=function(e){return t.callMethod("discovery.delete_by_mac_and_ip",{ip:e.ip,mac:e.mac_address})},r.prototype.removeDevices=function(n){return e.all(n.map(function(e){return t.callMethod("discovery.delete_by_mac_and_ip",{ip:e.ip,mac:e.mac_address})}))},new r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$q","RegionConnection","PollingManager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="id",this._handler="dhcpsnippet";var n=this;e.registerNotifier("dhcpsnippet",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,n.prototype.create=function(t){return e.callMethod(this._handler+".create",t,!0)},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="system_id",this._handler="device",this._metadataAttributes={owner:null,subnets:null,tags:null,zone:function(e){return e.zone.name}};var n=this;e.registerNotifier("device",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,n.prototype.create=function(t){return e.callMethod("device.create",t)},n.prototype.createInterface=function(t){var n=this;return e.callMethod("device.create_interface",t).then(function(e){return n._replaceItem(e),e})},n.prototype.performAction=function(t,n,r){return angular.isObject(r)||(r={}),e.callMethod("device.action",{system_id:t.system_id,action:n,extra:r})},new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","NodesManager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n){function r(){t.call(this),this._pk="system_id",this._handler="controller";var n=this;e.registerNotifier("controller",function(e,t){n.onNotify(e,t)})}return r.prototype=new t,r.prototype.getServices=function(e){var t=[];return angular.forEach(e.service_ids,function(e){var r=n.getItemFromList(e);angular.isObject(r)&&t.push(r)}),t},r.prototype.checkImageStates=function(t){return e.callMethod(this._handler+".check_images",t)},new r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","NodesManager","ServicesManager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t){function n(){t.call(this),this._pk="name",this._handler="config";var n=this;e.registerNotifier("config",function(e,t){n.onNotify(e,t)})}return n.prototype=new t,new n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["RegionConnection","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r){function i(){this._loaded=!1,this._data={},this._polling=!1,this._nextPromise=null,this._pollTimeout=1e4,this._pollErrorTimeout=500,this._pollEmptyTimeout=3e3}return i.prototype.getData=function(){return this._data},i.prototype.isLoaded=function(){return this._loaded},i.prototype.isPolling=function(){return this._polling},i.prototype.startPolling=function(){return this._polling?this._nextPromise:(this._polling=!0,this._poll())},i.prototype.stopPolling=function(){this._polling=!1,angular.isObject(this._nextPromise)&&(t.cancel(this._nextPromise),this._nextPromise=null)},i.prototype._loadData=function(e){e=e||!1;var t=this;return n.callMethod("bootresource.poll").then(function(e){return angular.copy(angular.fromJson(e),t._data),t._loaded=!0,t._data},function(t){e&&r.raiseError(t)})},i.prototype._pollAgain=function(e){var n=this;return this._nextPromise=t(function(){n._poll()},e),this._nextPromise},i.prototype._poll=function(){var e=this;return n.isConnected()?this._loadData(!1).then(function(t){var n=e._pollTimeout;return angular.isObject(t)&&!t.connection_error&&angular.isArray(t.resources)&&0!==t.resources.length||(n=e._pollEmptyTimeout),e._pollAgain(n),t},function(t){console.log(t),e._pollAgain(e._pollErrorTimeout)}):this._pollAgain(this._pollErrorTimeout)},i.prototype.loadItems=function(){var t=e.defer();return this._loadData(!0).then(function(){t.resolve()}),t.promise},i.prototype.enableAutoReload=function(){},i.prototype.stopImport=function(e){var t=this;return n.callMethod("bootresource.stop_import",e).then(function(e){return angular.copy(angular.fromJson(e),t._data),t._loaded=!0,t._data})},i.prototype.saveUbuntu=function(e){var t=this;return n.callMethod("bootresource.save_ubuntu",e).then(function(e){return angular.copy(angular.fromJson(e),t._data),t._loaded=!0,t._data})},i.prototype.saveUbuntuCore=function(e){var t=this;return n.callMethod("bootresource.save_ubuntu_core",e).then(function(e){return angular.copy(angular.fromJson(e),t._data),t._loaded=!0,t._data})},i.prototype.saveOther=function(e){var t=this;return n.callMethod("bootresource.save_other",e).then(function(e){return angular.copy(angular.fromJson(e),t._data),t._loaded=!0,t._data})},i.prototype.fetch=function(e){return n.callMethod("bootresource.fetch",e)},i.prototype.deleteImage=function(e){var t=this;return n.callMethod("bootresource.delete_image",e).then(function(e){return angular.copy(angular.fromJson(e),t._data),t._loaded=!0,t._data})},new i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$q","$timeout","RegionConnection","ErrorService"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e){var t=/^([a-z\d]|[a-z\d][a-z\d-.]*[a-z\d])*$/i,n=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])*$/,r=/^([0-9A-Fa-f]{2}:){5}([0-9A-Fa-f]{2})$/,i=new RegExp(["^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.","(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.","(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.","(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"].join(""));function a(e,t,n,r){for(var i=0;r>0;){var a=n-r;if(a<0&&(a=0),e[i]>>a!==t[i]>>a)return!1;r-=n,i+=1}return!0}this.validateDomainName=function(e){return!(!angular.isString(e)||0===e.length||e.length>253)&&t.test(e)},this.validateHostname=function(e){return!(!angular.isString(e)||0===e.length||e.length>63)&&n.test(e)},this.validateMAC=function(e){return!!angular.isString(e)&&r.test(e.trim())},this.validateIPv4=function(e){return!(!angular.isString(e)||0===e.length)&&i.test(e)},this.validateIPv6=function(t){if(!angular.isString(t)||0===t.length||-1===t.indexOf(":"))return!1;var n,r=e.ipv6Expand(t),i=e.ipv6ToGroups(r);if(8!==i.length)return!1;for(n=0;n<8;n++)if(isNaN(i[n])||i[n]<0||i[n]>65535)return!1;return!(i[0]<1||65280===i[0]||65152===i[0])},this.validateIP=function(e){return this.validateIPv4(e)||this.validateIPv6(e)},this.validateIPInNetwork=function(t,n){var r=n.split("/"),i=r[0],o=parseInt(r[1],10);return this.validateIPv4(t)&&this.validateIPv4(i)?a(e.ipv4ToOctets(t),e.ipv4ToOctets(i),8,o):!(!this.validateIPv6(t)||!this.validateIPv6(i))&&a(e.ipv6ToGroups(t),e.ipv6ToGroups(i),16,o)},this.validateIPInRange=function(t,n,r,i){if(!this.validateIPInNetwork(t,n))return!1;var a,o,s,c;if(this.validateIPv4(t)&&this.validateIPv4(r)&&this.validateIPv4(i)){for(o=e.ipv4ToOctets(t),s=e.ipv4ToOctets(r),c=e.ipv4ToOctets(i),a=0;a<4;a++)if(o[a]>c[a]||o[a]<s[a])return!1;return!0}if(this.validateIPv6(t)&&this.validateIPv6(r)&&this.validateIPv6(i)){for(o=e.ipv6ToGroups(t),s=e.ipv6ToGroups(r),c=e.ipv6ToGroups(i),a=0;a<8;a++)if(o[a]>c[a]||o[a]<s[a])return!1;return!0}return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["ConverterService"];var i=r;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){var e={_:[]};this.getEmptyFilter=function(){return angular.copy(e)},this.getSplitSearch=function(e){var t=e.split(" "),n=[],r=!1;return angular.forEach(t,function(e,t){if(r)n[n.length-1]+=" "+e,-1!==e.indexOf(")")&&(r=!1);else{n.push(e);var i=e.indexOf("(");-1!==i&&-1===e.indexOf(")",i)&&(r=!0)}}),r?null:n},this.getCurrentFilters=function(e){var t=this.getEmptyFilter();if(0===e.length)return t;var n=this.getSplitSearch(e);return n?(angular.forEach(n,function(e){if(1===(e=e.split(":")).length)-1===t._.indexOf(e[0])&&t._.push(e[0]);else{var n=e.shift(),r=e.join(":");if(0===(r=(r=r.replace("(","")).replace(")","")).length)return;r=r.split(","),angular.isUndefined(t[n])&&(t[n]=[]),angular.forEach(r,function(e){-1===t[n].indexOf(e)&&t[n].push(e)})}}),t):null},this.filtersToString=function(e){var t="";return angular.forEach(e,function(e,n){0!==e.length&&"_"!==n&&(t+=n+":("+e.join(",")+") ")}),e._.length>0&&(t=e._.join(" ")+" "+t),t.trim()},this._getFilterValueIndex=function(e,t,n){var r=e[t];return angular.isUndefined(r)?-1:r.map(function(e){return e.toLowerCase()}).indexOf(n.toLowerCase())},this.isFilterActive=function(e,t,n,r){var i=e[t];return!angular.isUndefined(i)&&(angular.isUndefined(r)&&(r=!1),r&&(n="="+n),-1!==this._getFilterValueIndex(e,t,n))},this.toggleFilter=function(e,t,n,r){angular.isUndefined(e[t])&&(e[t]=[]),r&&(n="="+n);var i=this._getFilterValueIndex(e,t,n);return-1===i?e[t].push(n):e[t].splice(i,1),e};var t={};this.storeFilters=function(e,n){t[e]=n},this.retrieveFilters=function(e){return t[e]}};t.default=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=0,a=1,o=2,s=3,c=4,u=0,l=1,f={DOWN:0,UP:1,RETRY:2},d=function(){function e(t,n,r,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$q=t,this.$rootScope=n,this.$timeout=r,this.$window=i,this.$cookies=a,this.log=o,this.STATE=f,this.callbacks={},this.requests={},this.pingsInFlight=new Set,this.requestId=0,this.url=null,this.websocket=null,this.state=f.DOWN,this.ensureConnectionPromise=null,this.connectionCheckInterval=5e3,this.maxMissedPings=5,this.maxPatience=5,this.error=null,this.defaultConnectDefer=null,this.handlers={open:[],error:[],close:[]},this.notifiers={}}var t,n,d;return e.$inject=["$q","$rootScope","$timeout","$window","$cookies","LogService"],t=e,(n=[{key:"newRequestId",value:function(){return this.requestId+=1,this.requestId}},{key:"registerHandler",value:function(e,t){if(!angular.isDefined(this.handlers[e]))throw new Error("Invalid handler: "+e);if(!angular.isFunction(t))throw new Error("Requires a function to register a handler.");this.handlers[e].push(t)}},{key:"unregisterHandler",value:function(e,t){if(!angular.isDefined(this.handlers[e]))throw new Error("Invalid handler: "+e);var n=this.handlers[e].indexOf(t);n>=0&&this.handlers[e].splice(n,1)}},{key:"registerNotifier",value:function(e,t){if(!angular.isFunction(t))throw new Error("Requires a function to register a notifier.");angular.isUndefined(this.notifiers[e])&&(this.notifiers[e]=[]),this.notifiers[e].push(t)}},{key:"unregisterNotifier",value:function(e,t){if(!angular.isUndefined(this.notifiers[e])){var n=this.notifiers[e].indexOf(t);n>=0&&this.notifiers[e].splice(n,1)}}},{key:"isConnected",value:function(){return this.state===f.UP}},{key:"buildSocket",value:function(e){return new WebSocket(e)}},{key:"send",value:function(e){this.state!==f.UP&&this.log.warn("Sent request while region connection not available:",e),this.websocket.send(angular.toJson(e))}},{key:"ping",value:function(){var e=this.newRequestId(),t={type:s,request_id:e};this.pingsInFlight.add(e),this.send(t)}},{key:"scheduleEnsureConnection",value:function(){this.ensureConnectionPromise&&(this.$timeout.cancel(this.ensureConnectionPromise),this.ensureConnectionPromise=null),this.ensureConnectionPromise=this.$timeout(this.ensureConnection.bind(this),this.connectionCheckInterval)}},{key:"ensureConnection",value:function(){if(this.scheduleEnsureConnection(),this.state===f.UP){var e=this.pingsInFlight.size,t=e+Object.keys(this.requests).length;e>0&&this.log.debug("Still waiting for ping replies: ",this.pingsInFlight),e>=this.maxMissedPings?(this.log.warn("Closed connection: ping timeout."),this.retry()):e>0&&t>=this.maxPatience?(this.log.warn("Closed connection: impatience factor exceeded."),this.retry()):this.ping()}else this.state===f.RETRY&&(this.retry(),this.log.debug("Attempting to reconnect..."),this.connect())}},{key:"connect",value:function(){var e=this;this.url=this._buildUrl(),this.websocket=this.buildSocket(this.url),this.websocket.onopen=function(t){e.state=f.UP,e.pingsInFlight.clear(),e.scheduleEnsureConnection(),angular.forEach(e.handlers.open,function(e){e(t)}),e.log.debug("WebSocket connection established.")},this.websocket.onerror=function(t){e.log.error("WebSocket error: ",t),angular.forEach(e.handlers.error,function(e){e(t)})},this.websocket.onclose=function(t){var n=e.url.split("?")[0];e.log.warn("WebSocket connection closed: "+n),angular.forEach(e.handlers.close,function(e){e(t)}),e.websocket=null,e.retry()},this.websocket.onmessage=function(t){e.onMessage(angular.fromJson(t.data))}}},{key:"retry",value:function(){this.websocket&&(this.websocket.onopen=null,this.websocket.onerror=null,this.websocket.onclose=null,this.websocket.close(),this.websocket=null),this.state=f.RETRY}},{key:"_getProtocol",value:function(){return this.$window.location.protocol}},{key:"_buildUrl",value:function(){var e=this.$window.location.hostname,t=this.$window.location.port,n=this.$window.location.pathname,r="ws";"https:"===this._getProtocol()&&(r="wss");var i=angular.element("base");if(angular.isDefined(i)){var a=i.attr("href");angular.isDefined(a)&&(n=a);var o=i.data("websocket-port");angular.isDefined(o)&&(t=o)}"/"!==n[n.length-1]&&(n+="/");var s,c=r+"://"+e;return angular.isString(t)&&t.length>0&&(c+=":"+t),c+=n+"ws",s=angular.isFunction(this.$cookies.get)?this.$cookies.get("csrftoken"):this.$cookies.csrftoken,angular.isDefined(s)&&(c+="?csrftoken="+encodeURIComponent(s)),c}},{key:"defaultConnect",value:function(){var e,t=this;if(angular.isObject(this.defaultConnectDefer))return this.defaultConnectDefer.promise;if(this.isConnected())return e=this.$q.defer(),this.$timeout(e.resolve),e.promise;e=this.defaultConnectDefer=this.$q.defer();var n=function n(i){t.defaultConnectDefer=null,t.unregisterHandler("open",n),t.unregisterHandler("error",r),t.$rootScope.$apply(e.resolve(i))},r=function r(i){t.defaultConnectDefer=null,t.unregisterHandler("open",n),t.unregisterHandler("error",r),t.$rootScope.$apply(e.reject(i))};return this.registerHandler("open",n),this.registerHandler("error",r),this.connect(),e.promise}},{key:"onMessage",value:function(e){e.type===a?this.onResponse(e):e.type===o?this.onNotify(e):e.type===c&&this.onPingReply(e)}},{key:"onResponse",value:function(e){var t=this.callbacks[e.request_id],n=this.requests[e.request_id];angular.isDefined(t)&&(e.rtype===u?this.$rootScope.$apply(t.resolve(e.result)):e.rtype===l&&(angular.isObject(n)?this.$rootScope.$apply(t.reject({error:e.error,request:n})):this.$rootScope.$apply(t.reject(e.error))),delete this.callbacks[e.request_id],delete this.requests[e.request_id])}},{key:"onNotify",value:function(e){var t=this.notifiers[e.name];angular.isArray(t)&&angular.forEach(t,function(t){t(e.action,e.data)})}},{key:"onPingReply",value:function(e){this.pingsInFlight.delete(e.request_id)}},{key:"callMethod",value:function(e,t,n){var r=this.$q.defer(),a=this.newRequestId(),o={type:i,request_id:a,method:e,params:t};return this.callbacks[a]=r,n&&(this.requests[a]=o),this.send(o),r.promise}}])&&r(t.prototype,n),d&&r(t,d),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return["ubuntu/precise","ubuntu/trusty","ubuntu/xenial","ubuntu/yakkety","ubuntu/zesty","ubuntu/artful"]};t.default=r},function(e,t,n){"use strict";function r(e,t,n){function r(){n.call(this),this._type="poll",this._polling=!1,this._nextPromise=null,this._pollTimeout=1e4,this._pollErrorTimeout=3e3,this._pollEmptyTimeout=3e3}return r.$inject=["$q","$timeout","Manager"],r.prototype=new n,r.prototype.isPolling=function(){return this._polling},r.prototype.startPolling=function(){return this._polling?this._nextPromise:(this._polling=!0,this._poll())},r.prototype.stopPolling=function(){this._polling=!1,angular.isObject(this._nextPromise)&&(t.cancel(this._nextPromise),this._nextPromise=null)},r.prototype._pollAgain=function(e){var n=this;return this._nextPromise=t(function(){n._poll()},e),this._nextPromise},r.prototype._poll=function(){var t=this;return this.reloadItems().then(function(e){var n=t._pollTimeout;return 0===e.length&&(n=t._pollEmptyTimeout),t._pollAgain(n),e},function(n){return t._pollAgain(t._pollErrorTimeout),e.reject(n)})},r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$q","$timeout","Manager"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r){this.loadManager=function(i,a){var o=e.defer(),s=this;return a._scopes.indexOf(i)>-1?(t(function(){o.resolve(a)}),o.promise):(r.defaultConnect().then(function(){if("notify"===a._type)a.isLoaded()?t(function(){a._scopes.push(i),o.resolve(a)}):a.loadItems().then(function(){a._scopes.push(i),o.resolve(a)},function(e){n.raiseError(e)}),a.enableAutoReload(),i.$on("$destroy",function(){s.unloadManager(i,a)});else{if("poll"!==a._type)throw new Error("Unknown manager type: "+a._type);a.isPolling()?t(function(){a._scopes.push(i),o.resolve(a)}):a.startPolling().then(function(){a._scopes.push(i),o.resolve(a)},function(e){n.raiseError(e)}),i.$on("$destroy",function(){s.unloadManager(i,a)})}}),o.promise)},this.loadManagers=function(t,n){var r=e.defer(),i=[],a=this;return angular.forEach(n,function(e){a.loadManager(t,e).then(function(e){i.push(e),i.length===n.length&&r.resolve(n)})}),r.promise},this.unloadManager=function(e,t){var n=t._scopes.indexOf(e);n>-1&&t._scopes.splice(n,1),"poll"===t._type&&0===t._scopes.length&&t.stopPolling()},this.unloadManagers=function(e,t){var n=this;angular.forEach(t,function(t){n.unloadManager(e,t)})},this.tryParsingJSON=function(e){var t;try{t=JSON.parse(e)}catch(t){if(t instanceof SyntaxError)return e;throw t}return t},this.getPrintableString=function(e,t){var n="";return angular.forEach(e,function(r,i){var a=e[i];!0===t&&(n+=i+": "),angular.isString(a)||angular.isNumber(a)?n+=a+"  ":angular.isObject(a)&&angular.forEach(a,function(e){n+=e+"  "}),n=n.trim()+"\n"}),n.trim()},this.parseValidationError=function(e,t){return e=this.tryParsingJSON(e),angular.isObject(e)?this.getPrintableString(e,t):e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$q","$timeout","ErrorService","RegionConnection"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e,t,n,r){a.$inject=["$q","$rootScope","$timeout","RegionConnection"];var i={CREATE:"create",UPDATE:"update",DELETE:"delete"};function a(){this._pk="id",this._batchKey="id",this._batchSize=50,this._name_field="name",this._handler=null,this._items=[],this._type="notify",this._scopes=[],this._loaded=!1,this._isLoading=!1,this._extraLoadDefers=[],this._extraReloadDefers=[],this._actionQueue=[],this._selectedItems=[],this._autoReload=!1,this._activeItem=null,this._metadata={},this._metadataAttributes=[]}return a.prototype._getIndexOfItem=function(e,t){var n,r;for(n=0,r=e.length;n<r;n++)if(e[n][this._pk]===t)return n;return-1},a.prototype._replaceItemInArray=function(e,t){var n=this._getIndexOfItem(e,t[this._pk]);n>=0&&(t.$selected=e[n].$selected,angular.copy(t,e[n]))},a.prototype._removeItemByIdFromArray=function(e,t){var n=this._getIndexOfItem(e,t);n>=0&&e.splice(n,1)},a.prototype._initBatchLoadParameters=function(){return{}},a.prototype._batchLoadItems=function(t,n){var i=this,a=e.defer(),o=this._handler+".list";return function e(){var s=i._initBatchLoadParameters();s.limit=i._batchSize,t.length>0&&(s.start=t[t.length-1][i._batchKey]),r.callMethod(o,s).then(function(r){angular.isFunction(n)&&angular.forEach(r,function(e){n(e)}),t.push.apply(t,r),r.length===i._batchSize?e():a.resolve(t)},a.reject)}(),a.promise},a.prototype._resolveDefers=function(e,t){angular.forEach(e,function(e){e.resolve(t)})},a.prototype._rejectDefers=function(e,t){angular.forEach(e,function(e){e.reject(t)})},a.prototype.getItems=function(){return this._items},a.prototype.clear=function(){this._loaded=!1,this._items.length=0,this._actionQueue.length=0,this._selectedItems.length=0,this._activeItem=null,this._metadata={},this._metadataAttributes.length=0},a.prototype.loadItems=function(){if(this._loaded)return this.reloadItems();if(this._isLoading){var t=e.defer();return this._extraLoadDefers.push(t),t.promise}var n=this;return this._isLoading=!0,this._batchLoadItems(this._items,function(e){e.$selected=!1,n._updateMetadata(e,i.CREATE),n._processItem(e)}).then(function(){return n._loaded=!0,n._isLoading=!1,n.processActions(),n._resolveDefers(n._extraLoadDefers,n._items),n._extraLoadDefers=[],n._items},function(t){return n._rejectDefers(n._extraLoadDefers,t),n._extraLoadDefers=[],e.reject(t)})},a.prototype.reloadItems=function(){if(!this._loaded)return this.loadItems();if(this._isLoading){var t=e.defer();return this._extraReloadDefers.push(t),t.promise}var n=this;return n._isLoading=!0,this._batchLoadItems([]).then(function(e){return function(e){for(var t=n._items.length;t--;){var r=n._items[t],a=n._getIndexOfItem(e,r[n._pk]);if(-1===a)n._updateMetadata(r,i.DELETE),n._items.splice(t,1),n._removeItemByIdFromArray(n._selectedItems,r[n._pk]);else{var o=e[a];n._updateMetadata(o,i.UPDATE),o.$selected=r.$selected,angular.copy(e[a],r),e.splice(a,1)}}angular.forEach(e,function(e){n._items.push(e),n._processItem(e)})}(e),n._isLoading=!1,n.processActions(),angular.isObject(n._activeItem)&&n.setActiveItem(n._activeItem[n._pk]),n._resolveDefers(n._extraReloadDefers,n._items),n._extraReloadDefers=[],n._items},function(t){return n._rejectDefers(n._extraReloadDefers,t),n._extraReloadDefers=[],e.reject(t)})},a.prototype.enableAutoReload=function(){if(!this._autoReload){this._autoReload=!0;var e=this;this._reloadFunc=function(){e.reloadItems()},r.registerHandler("open",this._reloadFunc)}},a.prototype.disableAutoReload=function(){this._autoReload&&(r.unregisterHandler("open",this._reloadFunc),this._reloadFunc=null,this._autoReload=!1)},a.prototype.isLoaded=function(){return this._loaded},a.prototype.isLoading=function(){return this._isLoading},a.prototype._processItem=function(e){},a.prototype._replaceItem=function(e){this._updateMetadata(e,i.UPDATE),this._replaceItemInArray(this._items,e)},a.prototype._removeItem=function(e){var t=this._getIndexOfItem(this._items,e);t>=0&&this._updateMetadata(this._items[t],i.DELETE),this._removeItemByIdFromArray(this._items,e),this._removeItemByIdFromArray(this._selectedItems,e)},a.prototype.getItemFromList=function(e){var t=this._getIndexOfItem(this._items,e);return t>=0?this._items[t]:null},a.prototype.getItem=function(e){var t=this,n=this._handler+".get",i={};return i[this._pk]=e,r.callMethod(n,i).then(function(e){return t._replaceItem(e),e})},a.prototype.createItem=function(e){var t=this,n=this._handler+".create";return delete(e=angular.copy(e)).$selected,r.callMethod(n,e).then(function(e){return t._replaceItem(e),e})},a.prototype.updateItem=function(e){var t=this,n=this._handler+".update";return delete(e=angular.copy(e)).$selected,r.callMethod(n,e).then(function(e){return t._replaceItem(e),e})},a.prototype.deleteItem=function(e){var t=this,n=this._handler+".delete",i={};return i[this._pk]=e[this._pk],r.callMethod(n,i).then(function(){t._removeItem(e[t._pk])})},a.prototype.getActiveItem=function(){return this._activeItem},a.prototype.setActiveItem=function(t){if(!this._loaded)throw new Error("Cannot set active item unless the manager is loaded.");var i=this._getIndexOfItem(this._items,t);if(-1===i){this._activeItem=null;var a=e.defer();return n(function(){a.reject("No item with pk: "+t)}),a.promise}this._activeItem=this._items[i];var o=this,s=this._handler+".set_active",c={};return c[this._pk]=t,r.callMethod(s,c).then(function(e){return o._replaceItem(e),o._activeItem})},a.prototype.clearActiveItem=function(){this._activeItem=null},a.prototype.canProcessActions=function(){return!this._isLoading},a.prototype.onNotify=function(e,n){this._actionQueue.push({action:e,data:n}),this.canProcessActions()&&t.$apply(this.processActions())},a.prototype.processActions=function(){for(;this._actionQueue.length>0;){var e=this._actionQueue.shift();if("create"===e.action)this._getIndexOfItem(this._items,e.data[this._pk])>=0?this._replaceItem(e.data):(e.data.$selected=!1,this._updateMetadata(e.data,i.CREATE),this._items.push(e.data)),this._processItem(e.data);else"update"===e.action?(this._replaceItem(e.data),this._processItem(e.data)):"delete"===e.action&&this._removeItem(e.data)}},a.prototype.getSelectedItems=function(){return this._selectedItems},a.prototype.selectItem=function(e){var t=this._getIndexOfItem(this._items,e);if(-1!==t){var n=this._items[t];n.$selected=!0,-1===(t=this._selectedItems.indexOf(n))&&this._selectedItems.push(n)}else console.log("WARN: selection of "+this._handler+"("+e+") failed because its missing in the items list.")},a.prototype.unselectItem=function(e){var t=this._getIndexOfItem(this._items,e);if(-1!==t){var n=this._items[t];n.$selected=!1,(t=this._selectedItems.indexOf(n))>=0&&this._selectedItems.splice(t,1)}else console.log("WARN: de-selection of "+this._handler+"("+e+") failed because its missing in the nodes list.")},a.prototype.isSelected=function(e){var t=this._getIndexOfItem(this._items,e);return-1===t?(console.log("WARN: unable to determine if "+this._handler+"("+e+") is selected because its missing in the nodes list."),!1):!0===this._items[t].$selected},a.prototype._getMetadataValue=function(e,t){var n;for(n=0;n<e.length;n++)if(e[n].name===t)return e[n];return null},a.prototype._addMetadataValue=function(e,t){var n=this._getMetadataValue(e,t);n?n.count+=1:(n={name:t,count:1},e.push(n))},a.prototype._removeMetadataValue=function(e,t){var n=this._getMetadataValue(e,t);n&&(n.count-=1,n.count<=0&&e.splice(e.indexOf(n),1))},a.prototype._updateMetadataArrayEntry=function(e,t,n,r){var a=this;if(n===i.CREATE)angular.forEach(t,function(t){""!==t&&a._addMetadataValue(e,t)});else if(n===i.DELETE)angular.forEach(t,function(t){a._removeMetadataValue(e,t)});else if(n===i.UPDATE&&angular.isDefined(r)){var o=[],s=angular.copy(r);angular.forEach(t,function(e){var t=s.indexOf(e);-1===t?o.push(e):s.splice(t,1)}),angular.forEach(o,function(t){a._addMetadataValue(e,t)}),angular.forEach(s,function(t){a._removeMetadataValue(e,t)})}},a.prototype._updateMetadataValueEntry=function(e,t,n,r){if(n===i.CREATE){if(""===t)return;this._addMetadataValue(e,t)}else n===i.DELETE?this._removeMetadataValue(e,t):n===i.UPDATE&&angular.isDefined(r)&&r!==t&&(""!==r&&this._removeMetadataValue(e,r),this._updateMetadataEntry(e,t,i.CREATE,r))},a.prototype._updateMetadataEntry=function(e,t,n,r){angular.isArray(t)?this._updateMetadataArrayEntry(e,t,n,r):this._updateMetadataValueEntry(e,t,n,r)},a.prototype.getMetadata=function(){return this._metadata},a.prototype._updateMetadata=function(e,t){var n,r,a=this;t===i.UPDATE&&(r=this._getIndexOfItem(this._items,e[this._pk]))>=0&&(n=this._items[r]),angular.forEach(this._metadataAttributes,function(r,i){var o,s;angular.isUndefined(a._metadata[i])&&(a._metadata[i]=[]),angular.isFunction(r)?(o=r(e),angular.isObject(n)&&(s=r(n))):(o=e[i],angular.isObject(n)&&(s=n[i])),a._updateMetadataEntry(a._metadata[i],o,t,s)})},a.prototype.formatMAASVersionNumber=function(){if(MAAS_config.version){var e=MAAS_config.version.split(" ")[0];if(e)return"0"===e.split(".")[2]?e.split(".")[0]+"."+e.split(".")[1]:e}},a.prototype.getName=function(e){if(angular.isObject(e))return angular.isString(e[this._name_field])?e[this._name_field]:void 0},a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$q","$rootScope","$timeout","RegionConnection"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e){var t=this;t.logging=!0,t.logLevel=5,t.now=function(){return e.performance?e.performance.now():0},t._debug=console.debug,t._log=console.log,t._info=console.info,t._warn=console.warn,t._error=console.error,this.formatMilliseconds=function(e){return parseFloat(e/1e3).toFixed(3)},this.__log=function(e,n){!0===t.logging&&(Array.prototype.unshift.call(n,"["+t.formatMilliseconds(t.now())+"]"),e.apply(console,n))},this.debug=function(){t.logLevel>=5&&t.__log(t._debug,arguments)},this.log=function(){t.logLevel>=4&&t.__log(t._log,arguments)},this.info=function(){t.logLevel>=3&&t.__log(t._info,arguments)},this.warn=function(){t.logLevel>=2&&t.__log(t._warn,arguments)},this.error=function(){t.logLevel>=1&&t.__log(t._error,arguments)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$window"];var i=r;t.default=i},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){this.tryParse=function(e){try{var t=JSON.parse(e);if(t&&"object"===r(t)&&null!==t)return t}catch(e){}return null}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){this._error=null,this.raiseError=function(e){angular.isString(this._error)||(this._error=e)}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){var e=["bytes","kB","MB","GB","TB"];this.bytesToUnits=function(t){angular.isString(t)&&(t=parseInt(t,10));var n,r,i=t;for(n=0;n<e.length;n++){if(r=e[n],Math.abs(i)<1e3||"TB"===r){var a=i.toFixed(1)+" "+r;return"bytes"===r&&(a=i+" "+r),{original:t,converted:i,units:r,string:a}}i/=1e3}},this.unitsToBytes=function(e,t){return angular.isString(e)&&(e=parseFloat(e)),"bytes"===t?Math.floor(e):"kB"===t?Math.floor(1e3*e):"MB"===t?Math.floor(1e6*e):"GB"===t?Math.floor(1e9*e):"TB"===t?Math.floor(1e12*e):void 0},this.roundUnits=function(e,t){return angular.isString(e)&&(e=parseFloat(e)),"bytes"===t?Math.floor(e):"kB"===t?Math.floor(1e3*e)-50:"MB"===t?Math.floor(1e6*e)-5e4:"GB"===t?Math.floor(1e9*e)-5e7:"TB"===t?Math.floor(1e12*e)-5e10:void 0},this.roundByBlockSize=function(e,t){return t*Math.floor(e/t)},this.ipv4ToOctets=function(e){var t=e.split("."),n=[];return angular.forEach(t,function(e){n.push(parseInt(e,10))}),n},this.ipv4ToInteger=function(e){var t=this.ipv4ToOctets(e);return t[0]*Math.pow(256,3)+t[1]*Math.pow(256,2)+256*t[2]+t[3]},this.ipv6Expand=function(e){var t,n=e;if(-1!==n.indexOf("::")){var r=e.split("::"),i=0;for(t=0;t<r.length;t++)i+=r[t].split(":").length;for(n=r[0]+":",t=0;t<8-i;t++)n+="0000:";n+=r[1]}var a=[],o=n.split(":");return angular.forEach(o,function(e){a.push("0000".substr(e.length)+e)}),a.join(":")},this.ipv6ToGroups=function(e){var t=[],n=this.ipv6Expand(e).split(":");return angular.forEach(n,function(e){t.push(parseInt(e,16))}),t}};t.default=r},function(e,t,n){"use strict";function r(e,t,n){var r=this;this.controllers=[],this.statuses={},this.updateStatuses=function(){var e=[];angular.forEach(r.controllers,function(t){e.push({system_id:t})}),n.checkImageStates(e).then(function(t){angular.forEach(e,function(e){var n=t[e.system_id];r.statuses[e.system_id]=n||"Unknown"})})},this.register=function(n){var i=r.controllers.indexOf(n)>=0;if(i||r.controllers.push(n),angular.isDefined(r.runningInterval)){if(i)return;t.cancel(r.runningInterval),r.runningInterval=void 0}angular.isDefined(r.startTimeout)&&e.cancel(r.startTimeout),r.startTimeout=e(function(){r.startTimeout=void 0,r.runningInterval=t(function(){r.updateStatuses()},3e4),r.updateStatuses()},100)},this.unregister=function(n){var i=r.controllers.indexOf(n);i>-1&&r.controllers.splice(i,1),0===r.controllers.length&&(angular.isDefined(r.startTimeout)&&(e.cancel(r.startTimeout),r.startTimeout=void 0),angular.isDefined(r.runningInterval)&&(t.cancel(r.runningInterval),r.runningInterval=void 0))},this.showSpinner=function(e){var t=r.statuses[e];return!angular.isString(t)||"Syncing"===t},this.getImageStatus=function(e){var t=r.statuses[e];return angular.isString(t)?t:"Asking for status..."}}function i(e){return{restrict:"E",scope:{systemId:"="},template:['<i class="p-icon--loading u-animation--spin"','data-ng-if="showSpinner()"></i> ',"{$ getImageStatus() $}"].join(""),link:function(t,n,r){var i,a=!1;i=t.$watch("systemId",function(){angular.isDefined(t.systemId)&&!a&&(e.register(t.systemId),a=!0,i())}),t.showSpinner=function(){return e.showSpinner(t.systemId)},t.getImageStatus=function(){return e.getImageStatus(t.systemId)},t.$on("$destroy",function(){a&&e.unregister(t.systemId)})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerImageStatusService=r,t.maasControllerImageStatus=i,i.$inject=["ControllerImageStatusService"],r.$inject=["$timeout","$interval","ControllersManager"]},function(e,t,n){"use strict";function r(e){this.browser="other";var t=this;angular.forEach([{name:"chrome",regex:/chrome/i},{name:"safari",regex:/safari/i},{name:"firefox",regex:/firefox/i},{name:"ie",regex:/MSIE/}],function(n){n.regex.test(e.navigator.userAgent)&&"other"===t.browser&&(t.browser=n.name)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$window"];var i=r;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return function(e){var t=[];return angular.forEach(e,function(e){0!==e.vid&&t.push(e)}),t}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return function(e){var t=[];if("number"!=typeof e)return t;for(var n=0;n<e;n++)t.push(n);return t}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return function(e,t,n){var r=e.slice();return r.sort(function(e,r){var i=new Date(e[t]),a=new Date(r[t]);return angular.isString(n)&&i.getTime()===a.getTime()?e[n]>r[n]?-1:e[n]<r[n]?1:0:i>a?-1:i<a?1:0}),r}};t.default=r},function(e,t,n){"use strict";function r(e,t){var n=e("filter"),r={cpu:function(e){return e.cpu_count},cores:function(e){return e.cpu_count},ram:function(e){return e.memory},mac:function(e){var t=[];return t.push(e.pxe_mac),t.push.apply(t,e.extra_macs),t},zone:function(e){return e.zone.name},pool:function(e){return e.pool.name},pod:function(e){return void 0===e.pod?void 0:e.pod.name},"pod-id":function(e){return void 0===e.pod?void 0:e.pod.id},power:function(e){return e.power_state},release:function(e){return 6===e.status_code||9===e.status_code?e.osystem+"/"+e.distro_series:""},hostname:function(e){return e.hostname},vlan:function(e){return e.vlan},rack:function(e){return e.observer_hostname},subnet:function(e){return e.subnet_cidr}};function i(e){return e%1==0}function a(e,t,n,r){var a=function(e,t,n){return angular.isNumber(e)?n?i(e)?e===parseInt(t,10):e===parseFloat(t):i(e)?e>=parseInt(t,10):e>=parseFloat(t):angular.isString(e)?n?e.toLowerCase()===t:e.toLowerCase().indexOf(t)>=0:e===t}(e,t,n);return r?!a:a}return function(e,i){if(angular.isUndefined(e)||angular.isUndefined(i)||0===e.length)return e;var o=e,s=t.getCurrentFilters(i);return angular.forEach(s,function(e,t){if("_"===t)angular.forEach(e,function(e){o=n(o,e)});else if("in"===t)angular.forEach(e,function(e){var t=[];angular.forEach(o,function(n){n.$selected&&"selected"===e.toLowerCase()?t.push(n):n.$selected||"!selected"!==e.toLowerCase()||t.push(n)}),o=t});else{var i=r[t],s=[];angular.forEach(o,function(n){var r,o,c;if(angular.isFunction(i)?r=i(n):n.hasOwnProperty(t)&&(r=n[t]),!angular.isUndefined(r))for(o=0;o<e.length;o++){for(var u=e[o].toLowerCase(),l=!1,f=!1;0===u.indexOf("!");)f=!f,u=u.substring(1);for(0===u.indexOf("=")&&(l=!0,u=u.substring(1));0===u.indexOf("!");)f=!f,u=u.substring(1);if(angular.isArray(r)){if(f){var d=!0;for(c=0;c<r.length;c++)if(a(r[c],u,l,!1)){d=!1;break}if(d)return void s.push(n)}else for(c=0;c<r.length;c++)if(a(r[c],u,l,!1))return void s.push(n)}else if(a(r,u,l,f))return void s.push(n)}}),o=s}}),o}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.$inject=["$filter","SearchService"];var i=r;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return function(e){if(!e)return"";switch(e){case"lvm":return"LVM";default:return e}}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes=function(){return function(e){return e>=1e12?Math.round(e/1e3/1e3/1e3/1e3)+" TB":e>=1e9?Math.round(e/1e3/1e3/1e3)+" GB":e>=1e6?Math.round(e/1e3/1e3)+" MB":e>=1e3?Math.round(e/1e3)+" KB":e>0?e+" B":0}},t.convertGigabyteToBytes=function(){return function(e){return e?Math.round(1e3*e*1e3*1e3):0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterByVLAN=function(){return function(e,t){var n,r=[];if(angular.isObject(t))n=t.id;else{if(!angular.isNumber(t))return r;n=t}return angular.forEach(e,function(e){e.vlan===n&&r.push(e)}),r}},t.filterControllersByVLAN=function(){return function(e,t){var n=[];return angular.isObject(t)?(angular.forEach(e,function(e){2!==e.node_type&&4!==e.node_type||n.push(e)}),n):n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterBySubnet=function(){return function(e,t,n){var r,i=[];if(angular.isObject(t))r=t.id;else{if(!angular.isNumber(t))return i;r=t}return angular.isUndefined(n)&&(n="subnet"),angular.forEach(e,function(e){e[n]===r&&i.push(e)}),i}},t.filterBySubnetOrVlan=function(){return function(e,t,n){var r,i=[],a=null;if(angular.isDefined(t)&&null!==t)a="subnet",angular.isObject(t)?r=t.id:angular.isNumber(t)&&(r=t);else{if(!angular.isDefined(n)||null===n)return i;a="vlan",angular.isObject(n)?r=n.id:angular.isNumber(n)&&(r=n)}return angular.forEach(e,function(e){e[a]===r&&i.push(e)}),i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterBySpace=function(){return function(e,t){var n,r=[];if(angular.isObject(t))n=t.id;else{if(!angular.isNumber(t))return r;n=t}return angular.forEach(e,function(e){e.space===n&&r.push(e)}),r}},t.filterByNullSpace=function(){return function(e){var t=[];return angular.forEach(e,function(e){null===e.space&&t.push(e)}),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return function(e,t){var n,r=[];if(angular.isObject(t))n=t.id;else{if(!angular.isNumber(t))return r;n=t}return angular.forEach(e,function(e){e.fabric===n&&r.push(e)}),r}};t.default=r},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,c,u,l,f,d,h){var p=this,g=r("filterByVLAN");function m(){var e=p.vlan,n=p.fabric;angular.isObject(e)&&angular.isObject(n)&&(e.name?p.title=e.name:0===e.vid?p.title="Default VLAN":p.title="VLAN "+e.vid,p.title+=" in "+n.name,t.title=p.title)}function b(){var e=p.vlan;angular.isObject(e)&&(e.primary_rack?p.primaryRack=u.getItemFromList(e.primary_rack):p.primaryRack=null,e.secondary_rack?p.secondaryRack=u.getItemFromList(e.secondary_rack):p.secondaryRack=null)}function v(){var e=p.vlan;if(angular.isObject(e)){var t=[];angular.forEach(e.rack_sids,function(e){var n=u.getItemFromList(e);angular.isObject(n)&&t.push(n)}),p.relatedControllers=t}}function y(){var e=p.vlan;if(angular.isObject(e)){var t=[];angular.forEach(g(p.subnets,e),function(e){var n=s.getItemFromList(e.space);angular.isObject(n)||(n={name:"(undefined)"});var r={subnet:e,space:n};t.push(r)}),p.relatedSubnets=t}}function _(){var e=p.vlan;angular.isObject(e)&&(p.actionOptions.length=0,l.isSuperUser()&&(p.isFabricDefault||p.actionOptions.push(p.DELETE_ACTION)))}function w(e){p.vlan=e,S(),p.loaded=!0}function S(){if(p.loaded){var e=p.vlan;p.fabric=c.getItemFromList(e.fabric),p.isFabricDefault=p.fabric.default_vlan_id===p.vlan.id,m(),b(),v(),y(),_()}}t.title="Loading...",t.page="networks",p.DELETE_ACTION={name:"delete",title:"Delete"},p.ipranges=h.getItems(),p.loaded=!1,p.vlan=null,p.title=null,p.actionOption=null,p.actionOptions=[],p.vlanManager=a,p.vlans=a.getItems(),p.subnets=o.getItems(),p.spaces=s.getItems(),p.fabrics=c.getItems(),p.controllers=u.getItems(),p.actionError=null,p.relatedSubnets=[],p.relatedControllers=[],p.provideDHCPAction={},p.primaryRack=null,p.secondaryRack=null,p.editSummary=!1,p.showDHCPPanel=!1,p.MAASProvidesDHCP=!0,p.provideDHCP=!0,p.relayVLAN=!1,p.filteredRelatedSubnets=[],p.iprangesInVLAN=[],p.selectedSubnet=null,p.suggestedRange=null,p.isProvidingDHCP=!1,p.DHCPError=null,p.isSuperUser=function(){return l.isSuperUser()},p.enterEditSummary=function(){p.editSummary=!0},p.exitEditSummary=function(){p.editSummary=!1},p.getSpaceName=function(){var e=s.getItemFromList(p.vlan.space);return e?e.name:"(undefined)"},p.getActionByName=function(e){var t;for(t=0;t<p.actionOptions.length;t++)if(p.actionOptions[t].name===e)return p.actionOptions[t];return null},p.getDHCPPanelTitle=function(){var e=p.getDHCPStatus();return p.vlan&&p.vlan.external_dhcp?"Configure MAAS-managed DHCP":"Disabled"!==e?"Reconfigure DHCP":"Configure DHCP"},p.setDHCPAction=function(e){"relayVLAN"===e?(p.relayVLAN=!0,p.provideDHCP=!1,p.setSuggestedRange()):(p.relayVLAN=!1,p.provideDHCP=!0,p.setSuggestedRange())},p.toggleMAASProvidesDHCP=function(){p.MAASProvidesDHCP=!p.MAASProvidesDHCP},p.initProvideDHCP=function(e){p.provideDHCPAction={};var t=p.provideDHCPAction;if(t.subnet=null,t.relayVLAN=null,angular.isNumber(p.vlan.relay_vlan)&&(t.relayVLAN=a.getItemFromList(p.vlan.relay_vlan)),angular.isObject(p.primaryRack)?t.primaryRack=p.primaryRack.system_id:p.relatedControllers.length>0&&(t.primaryRack=p.relatedControllers[0].system_id),angular.isObject(p.secondaryRack)?t.secondaryRack=p.secondaryRack.system_id:p.relatedControllers.length>1&&(t.secondaryRack=p.relatedControllers[1].system_id),t.maxIPs=0,t.startIP=null,t.endIP=null,t.gatewayIP="",angular.isObject(p.relatedSubnets)){var n,r;for(p.relatedSubnets.length>0&&angular.isObject(p.relatedSubnets[0].subnet)&&(t.subnet=p.relatedSubnets[0].subnet.id),t.needsDynamicRange=!0,n=0;n<p.relatedSubnets.length;n++){var i=(r=p.relatedSubnets[n].subnet).statistics.suggested_dynamic_range;if(!angular.isObject(i)){t.subnet=r.id,t.needsDynamicRange=!1;break}}for(t.needsGatewayIP=!1,t.subnetMissingGatewayIP=!0,n=0;n<p.relatedSubnets.length;n++)if(null===(r=p.relatedSubnets[n].subnet).gateway_ip||""===r.gateway_ip){t.needsGatewayIP=!0;break}}e||(p.updatePrimaryRack(),p.updateSecondaryRack()),p.updateSubnet(e)},p.actionOptionChanged=function(){"enable_dhcp"===p.actionOption.name?p.initProvideDHCP(!1):"relay_dhcp"===p.actionOption.name&&p.initProvideDHCP(!0),p.actionError=null},p.actionCancel=function(){p.actionOption=null,p.actionError=null},p.updatePrimaryRack=function(){var e,t=p.provideDHCPAction;for(t.primaryRack===t.secondaryRack&&(t.secondaryRack=null),e=0;e<p.relatedControllers.length;e++)if(p.relatedControllers[e].system_id!==t.primaryRack){t.secondaryRack=p.relatedControllers[e].system_id;break}},p.updateSecondaryRack=function(){var e=p.provideDHCPAction;e.primaryRack===e.secondaryRack&&(e.primaryRack=null,e.secondaryRack=null)},p.filterPrimaryRack=function(e){var t=p.provideDHCPAction;return e.system_id!==t.primaryRack},p.updateSubnet=function(e){var t=p.provideDHCPAction,n=o.getItemFromList(t.subnet);if(angular.isObject(n)){var r=null,i=null;angular.isObject(n.statistics)&&(r=n.statistics.suggested_gateway,i=n.statistics.suggested_dynamic_range),angular.isObject(i)&&i.num_addresses>0?(t.maxIPs=i.num_addresses,e?(t.startIP="",t.endIP="",t.startPlaceholder=i.start+"(optional)",t.endPlaceholder=i.end+" (optional)"):(t.startIP=i.start,t.endIP=i.end,t.startPlaceholder=i.start,t.endPlaceholder=i.end)):(t.maxIPs=0,t.startIP="",t.endIP="",t.startPlaceholder="(no available IPs)",t.endPlaceholder="(no available IPs)"),angular.isString(r)?e?(t.gatewayIP="",t.gatewayPlaceholder=r+" (optional)"):(t.gatewayIP=r,t.gatewayPlaceholder=r):(t.gatewayIP="",t.gatewayPlaceholder="")}else t.maxIPs=0,t.startIP=null,t.endIP=null,t.gatewayIP="";angular.isObject(n)?t.subnetMissingGatewayIP=!angular.isString(n.gateway_ip):t.subnetMissingGatewayIP=!1,!1===t.subnetMissingGatewayIP&&(t.gatewayIP=null)},p.actionRetry=function(){p.actionError=null},p.canPerformAction=function(){return p.provideDHCP?p.relatedSubnets.length>0:!p.relayVLAN||angular.isObject(p.provideDHCPAction.relayVLAN)},p.actionGo=function(){p.canPerformAction()&&"delete"===p.actionOption.name&&a.deleteVLAN(p.vlan).then(function(){i.path("/networks"),p.actionOption=null,p.actionError=null},function(e){p.actionError=e.error,p.actionOption=p.DELETE_ACTION})},p.deleteVLAN=function(){p.actionOption=p.DELETE_ACTION},p.isActionError=function(){return null!==p.actionError},p.getFullVLANName=function(e){var t=a.getItemFromList(e),n=c.getItemFromList(t.fabric);return c.getName(n)+"."+a.getName(t)},p.getDHCPStatus=function(){return p.vlan?p.vlan.dhcp_on?"Enabled":p.vlan.relay_vlan?"Relayed via "+p.getFullVLANName(p.vlan.relay_vlan):"Disabled":""},p.getAvailableVLANS=function(){return p.vlans.filter(function(e){return e!==p.vlan&&e.dhcp_on}).length},p.setSuggestedRange=function(){if(p.filteredRelatedSubnets=p.relatedSubnets,p.filteredRelatedSubnets.forEach(function(e){e.subnet.statistics.ranges=e.subnet.statistics.ranges.filter(function(e){return e.num_addresses>1&&"unused"===e.purpose[0]})}),p.iprangesInVLAN=p.ipranges.filter(function(e){return e.vlan===p.vlan.id}),!p.iprangesInVLAN.length){p.selectedSubnet=p.filteredRelatedSubnets[0];var e=p.selectedSubnet.subnet.statistics.ranges[0];p.suggestedRange={type:"dynamic",comment:"Dynamic",start_ip:e.start,end_ip:e.end,subnet:p.selectedSubnet.subnet.id,gateway_ip:p.selectedSubnet.subnet.gateway_ip||p.selectedSubnet.subnet.statistics.suggested_gateway},p.relayVLAN&&(p.suggestedRange.start_ip="",p.suggestedRange.end_ip="",p.suggestedRange.gateway_ip="",p.suggestedRange.startPlaceholder=e.start+" (Optional)",p.suggestedRange.endPlaceholder=e.end+" (Optional)")}},p.enableDHCP=function(){p.isProvidingDHCP=!0,p.DHCPError=null;var e=p.provideDHCPAction,t=[],n={};n.subnet=e.subnet,n.start=e.startIP,n.end=e.endIP,n.gateway=e.gatewayIP,angular.isString(e.primaryRack)&&t.push(e.primaryRack),angular.isString(e.secondaryRack)&&t.push(e.secondaryRack),0!==t.length?a.configureDHCP(p.vlan,t,n).then(function(){p.DHCPError=null,p.closeDHCPPanel()},function(e){p.DHCPError=e.error,p.isProvidingDHCP=!1}):p.DHCPError="A primary rack controller must be specified."},p.relayDHCP=function(){p.isProvidingDHCP=!0,p.DHCPError=null;var e={};angular.isObject(p.suggestedRange)&&(e.subnet=p.suggestedRange.subnet,e.start=p.suggestedRange.start_ip,e.end=p.suggestedRange.end_ip,e.gateway=p.suggestedRange.gateway_ip);var t=p.provideDHCPAction.relayVLAN.id;a.configureDHCP(p.vlan,[],e,t).then(function(){p.closeDHCPPanel()},function(e){p.DHCPError=e.error,p.isProvidingDHCP=!1})},p.disableDHCP=function(){p.isProvidingDHCP=!0,a.disableDHCP(p.vlan).then(function(){p.closeDHCPPanel()},function(e){p.DHCPError=e.error})},p.openDHCPPanel=function(){p.showDHCPPanel=!0,p.initProvideDHCP(!1),p.vlan.relay_vlan&&p.setDHCPAction("relayVLAN"),p.setSuggestedRange()},p.closeDHCPPanel=function(){p.showDHCPPanel=!1,p.suggestedRange=null,p.isProvidingDHCP=!1,p.DHCPError=null,p.MAASProvidesDHCP=!0},p.getDHCPButtonText=function(){if(p.vlan)return p.vlan.dhcp_on&&!p.vlan.relay_vlan?"Reconfigure DHCP":p.vlan.relay_vlan?"Reconfigure DHCP relay":"Enable DHCP"},p.showGatewayCol=function(){return!!p.relatedSubnets.filter(function(e){return!e.subnet.gateway_ip}).length},f.loadManagers(e,[a,o,s,c,u,l]).then(function(){var t=a.getActiveItem(),r=parseInt(n.vlan_id,10);isNaN(r)?d.raiseError("Invalid VLAN identifier."):angular.isObject(t)&&t.id===r?w(t):a.setActiveItem(r).then(function(e){w(e)},function(e){d.raiseError(e)}),e.$watch("vlanDetails.vlan.name",m),e.$watch("vlanDetails.vlan.vid",m),e.$watch("vlanDetails.vlan.fabric",S),e.$watch("vlanDetails.vlan.dhcp_on",_),e.$watch("vlanDetails.vlan.relay_vlan",_),e.$watch("vlanDetails.fabric.name",m),e.$watch("vlanDetails.vlan.primary_rack",b),e.$watch("vlanDetails.vlan.secondary_rack",b),e.$watchCollection("vlanDetails.subnets",y),e.$watchCollection("vlanDetails.spaces",y),e.$watchCollection("vlanDetails.controllers",v)})}Object.defineProperty(t,"__esModule",{value:!0}),t.ignoreSelf=function(){return function(e,t){var n=[];return angular.forEach(e,function(e){e!==t&&n.push(e)}),n}},t.removeNoDHCP=function(){return function(e){var t=[];return angular.forEach(e,function(e){e.dhcp_on&&t.push(e)}),t}},t.VLANDetailsController=r,r.$inject=["$scope","$rootScope","$routeParams","$filter","$location","VLANsManager","SubnetsManager","SpacesManager","FabricsManager","ControllersManager","UsersManager","ManagerHelperService","ErrorService","IPRangesManager"]},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,c,u,l,f,d,h){t.title="Loading...",t.page="networks",e.loaded=!1,e.subnet=null,e.editSummary=!1,e.active_discovery_data=null,e.active_discovery_interval=null,e.subnets=a.getItems(),e.subnetManager=a,e.staticRoutes=l.getItems(),e.staticRoutesManager=l,e.space=null,e.vlans=s.getItems(),e.fabrics=u.getItems(),e.actionError=null,e.actionOption=null,e.actionOptions=[],e.reverse=!1,e.newStaticRoute=null,e.editStaticRoute=null,e.deleteStaticRoute=null,e.MAP_SUBNET_ACTION={name:"map_subnet",title:"Map subnet"},e.DELETE_ACTION={name:"delete",title:"Delete"};var p={0:"Automatic",1:"Static",4:"User reserved",5:"DHCP",6:"Observed"},g={0:"Machine",1:"Device",2:"Rack controller",3:"Region controller",4:"Rack and region controller",5:"Chassis",6:"Storage"};function m(){-1===e.subnet.cidr.split("/")[0].indexOf(":")?e.ipVersion=4:e.ipVersion=6}function b(n){e.subnet=n,e.loaded=!0,function(){var n=e.subnet;n&&n.cidr&&(t.title=n.cidr,n.name&&n.cidr!==n.name&&(t.title+=" ("+n.name+")"))}();var r=function(){e.subnet.fabric=s.getItemFromList(e.subnet.vlan).fabric,e.subnet.fabric_name=u.getItemFromList(n.fabric).name};e.$watch("subnet.fabric",r),e.$watch("subnet.fabric_name",r),e.$watch("subnet.vlan",r),e.$watch("subnet.vlan_name",function(){var t=s.getItemFromList(e.subnet.vlan);e.subnet.vlan_name=s.getName(t)}),e.$watch("subnet.space",function(){e.space=o.getItemFromList(e.subnet.space)}),e.$watch("subnet.cidr",m)}e.ipSort=function(t){return 4===e.ipVersion?h.ipv4ToInteger(t.ip):h.ipv6Expand(t.ip)},e.predicate=e.ipSort,e.getAllocType=function(e){var t=p[e];return angular.isString(t)?t:"Unknown"},e.getSubnetCIDR=function(e){return a.getItemFromList(e).cidr},e.allocTypeSort=function(t){return e.getAllocType(t.alloc_type)},e.getUsageForIP=function(e){if(angular.isObject(e.node_summary)){var t=e.node_summary.is_container,n=e.node_summary.node_type;if(1===n&&!0===t)return"Container";var r=g[n];return angular.isString(r)?r:"Unknown"}return angular.isObject(e.bmcs)?"BMC":angular.isObject(e.dns_records)?"DNS":"Unknown"},e.nodeTypeSort=function(t){return e.getUsageForIP(t)},e.ownerSort=function(e){var t=e.user;return angular.isString(t)&&t.length>0?t:"MAAS"},e.sortIPTable=function(t){e.predicate=t,e.reverse=!e.reverse},e.getVLANName=function(e){return s.getName(e)},e.isSuperUser=function(){return c.isSuperUser()},e.actionRetry=function(){e.actionError=null},e.actionGo=function(){"map_subnet"===e.actionOption.name?a.scanSubnet(e.subnet).then(function(t){t&&0===t.scan_started_on.length?e.actionError=f.parseValidationError(t.result):(e.actionOption=null,e.actionError=null)},function(t){e.actionError=f.parseValidationError(t)}):"delete"===e.actionOption.name&&a.deleteSubnet(e.subnet).then(function(t){e.actionOption=null,e.actionError=null,r.path("/networks")},function(t){e.actionError=f.parseValidationError(t)})},e.actionChanged=function(){e.actionError=null},e.cancelAction=function(){e.actionOption=null,e.actionError=null},e.updateActions=function(){c.isSuperUser()?e.actionOptions=[e.MAP_SUBNET_ACTION,e.DELETE_ACTION]:e.actionOptions=[]},e.enterEditSummary=function(){e.editSummary=!0},e.exitEditSummary=function(){e.editSummary=!1},e.subnetPreSave=function(e,t){return-1!==t.indexOf("fabric")&&(e.vlan=u.getItemFromList(e.fabric).default_vlan_id),e},e.addStaticRoute=function(){e.editStaticRoute=null,e.deleteStaticRoute=null,e.newStaticRoute={source:e.subnet.id,gateway_ip:"",destination:null,metric:0}},e.cancelAddStaticRoute=function(){e.newStaticRoute=null},e.isStaticRouteInEditMode=function(t){return e.editStaticRoute===t},e.staticRouteToggleEditMode=function(t){e.newStaticRoute=null,e.deleteStaticRoute=null,e.isStaticRouteInEditMode(t)?e.editStaticRoute=null:e.editStaticRoute=t},e.isStaticRouteInDeleteMode=function(t){return e.deleteStaticRoute===t},e.staticRouteEnterDeleteMode=function(t){e.newStaticRoute=null,e.editStaticRoute=null,e.deleteStaticRoute=t},e.staticRouteCancelDelete=function(){e.deleteStaticRoute=null},e.staticRouteConfirmDelete=function(){l.deleteItem(e.deleteStaticRoute).then(function(){e.deleteStaticRoute=null})},f.loadManagers(e,[i,a,o,s,c,u,l]).then(function(){e.updateActions(),e.active_discovery_data=i.getItemFromList("active_discovery_interval"),angular.forEach(e.active_discovery_data.choices,function(t){t[0]===e.active_discovery_data.value&&(e.active_discovery_interval=t[1])});var t=a.getActiveItem(),r=parseInt(n.subnet_id,10);isNaN(r)?d.raiseError("Invalid subnet identifier."):angular.isObject(t)&&t.id===r?b(t):a.setActiveItem(r).then(function(e){b(e)},function(e){d.raiseError(e)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.filterSource=function(){return function(e,t){var n=[];return angular.forEach(e,function(e){e.id!==t.id&&e.version===t.version&&n.push(e)}),n}},t.SubnetDetailsController=r,r.$inject=["$scope","$rootScope","$routeParams","$location","ConfigsManager","SubnetsManager","SpacesManager","VLANsManager","UsersManager","FabricsManager","StaticRoutesManager","ManagerHelperService","ErrorService","ConverterService"]},function(e,t,n){"use strict";function r(e,t,n,r){var i=4194304,a={NONE:null,SINGLE:"single",MUTLI:"multi",UNMOUNT:"unmount",UNFORMAT:"unformat",EDIT:"edit",DELETE:"delete",FORMAT_AND_MOUNT:"format-mount",PARTITION:"partition",BCACHE:"bcache",RAID:"raid",VOLUME_GROUP:"volume-group",LOGICAL_VOLUME:"logical-volume"},o=[{level:"raid-0",title:"RAID 0",min_disks:2,allows_spares:!1,calculateSize:function(e,t){return e*t}},{level:"raid-1",title:"RAID 1",min_disks:2,allows_spares:!0,calculateSize:function(e,t){return e}},{level:"raid-5",title:"RAID 5",min_disks:3,allows_spares:!0,calculateSize:function(e,t){return e*(t-1)}},{level:"raid-6",title:"RAID 6",min_disks:4,allows_spares:!0,calculateSize:function(e,t){return e*(t-2)}},{level:"raid-10",title:"RAID 10",min_disks:3,allows_spares:!0,calculateSize:function(e,t){return e*t/2}}];function s(e){return angular.isObject(e)&&(t=e.filesystem,angular.isObject(t)&&angular.isString(t.mount_point)&&""!==t.mount_point);var t}function c(e){return angular.isObject(e.filesystem)&&angular.isString(e.filesystem.fstype)&&""!==e.filesystem.fstype&&(!1===angular.isString(e.filesystem.mount_point)||""===e.filesystem.mount_point)?e.filesystem.fstype:null}function u(e){return"cache-set"===e.type||(angular.isObject(e.filesystem)?!(!e.filesystem.is_format_fstype||!angular.isString(e.filesystem.mount_point)||""===e.filesystem.mount_point)||!e.filesystem.is_format_fstype:e.available_size<i)}function l(e){var t=[];return angular.forEach(e.tags,function(e){t.push({text:e})}),t}function f(e){if("cache-set"===e.type)return"cache-set-"+e.cache_set_id;var t=e.type+"-"+e.block_id;return angular.isNumber(e.partition_id)&&(t+="-"+e.partition_id),t}function d(){var t,n,r;angular.isArray(e.node.disks)?(e.has_disks=e.node.disks.length>0,r=[],angular.forEach(e.node.disks,function(e){if(s(e)){var t={type:"filesystem",name:e.name,size_human:e.size_human,fstype:e.filesystem.fstype,mount_point:e.filesystem.mount_point,mount_options:e.filesystem.mount_options,block_id:e.id,partition_id:null,filesystem_id:e.filesystem.id,original_type:e.type,original:e};"virtual"===e.type&&(e.parent_type=e.parent.type),r.push(t)}angular.forEach(e.partitions,function(t){s(t)&&r.push({type:"filesystem",name:t.name,size_human:t.size_human,fstype:t.filesystem.fstype,mount_point:t.filesystem.mount_point,mount_options:t.filesystem.mount_options,block_id:e.id,partition_id:t.id,filesystem_id:t.filesystem.id,original_type:"partition",original:t})})}),angular.forEach(e.node.special_filesystems,function(e){r.push({type:"filesystem",name:"",size_human:"",fstype:e.fstype,mount_point:e.mount_point,mount_options:e.mount_options,block_id:null,partition_id:null,original_type:"special"})}),angular.forEach(r,function(t){var n=f(t),r=e.filesystemsMap[n];angular.isObject(r)?t.$selected=r.$selected:t.$selected=!1}),e.filesystems=r,e.filesystemsMap={},angular.forEach(r,function(t){e.filesystemsMap[f(t)]=t}),e.updateFilesystemSelection(!1),n=[],angular.forEach(e.node.disks,function(e){"cache-set"===e.type&&n.push({type:"cache-set",name:e.name,size_human:e.size_human,cache_set_id:e.id,used_by:e.used_for})}),angular.forEach(n,function(t){var n=f(t),r=e.cachesetsMap[n];angular.isObject(r)?t.$selected=r.$selected:t.$selected=!1}),e.cachesets=n,e.cachesetsMap={},angular.forEach(n,function(t){e.cachesetsMap[f(t)]=t}),e.updateCacheSetsSelection(!1),function(){var t=[];if(angular.forEach(e.node.disks,function(e){if(!u(e)){var n=!1;angular.isArray(e.partitions)&&e.partitions.length>0&&(n=!0);var r={name:e.name,size_human:e.size_human,available_size_human:e.available_size_human,used_size_human:e.used_size_human,type:e.type,model:e.model,serial:e.serial,tags:l(e),fstype:c(e),mount_point:null,mount_options:null,block_id:e.id,partition_id:null,has_partitions:n,is_boot:e.is_boot,original:e,test_status:e.test_status,firmware_version:e.firmware_version};"virtual"===e.type&&(r.parent_type=e.parent.type),t.push(r)}angular.forEach(e.partitions,function(n){u(n)||t.push({name:n.name,size_human:n.size_human,available_size_human:n.available_size_human,used_size_human:n.used_size_human,type:"partition",model:"",serial:"",tags:[],fstype:c(n),mount_point:null,mount_options:null,block_id:e.id,partition_id:n.id,has_partitions:!1,is_boot:!1,original:n})})}),angular.forEach(t,function(t){var n=f(t),r=e.availableMap[n];angular.isObject(r)?(t.$selected=r.$selected,t.$options=r.$options):(t.$selected=!1,t.$options={})}),e.available=t,e.availableMap={},angular.forEach(t,function(t){e.availableMap[f(t)]=t}),angular.isObject(e.availableNew))if(angular.isObject(e.availableNew.device)){var n=f(e.availableNew.device);e.availableNew.device=e.availableMap[n]}else if(angular.isArray(e.availableNew.devices)){var r=[];angular.forEach(e.availableNew.devices,function(t){var n=f(t),i=e.availableMap[n];angular.isObject(i)&&r.push(i)}),e.availableNew.devices=r}e.updateAvailableSelection(!1)}(),t=[],angular.forEach(e.node.disks,function(e){if(u(e)&&"cache-set"!==e.type){var n=!1;angular.isArray(e.partitions)&&e.partitions.length>0&&(n=!0);var r={name:e.name,type:e.type,model:e.model,serial:e.serial,tags:l(e),used_for:e.used_for,is_boot:e.is_boot,has_partitions:n,test_status:e.test_status,firmware_version:e.firmware_version};"virtual"===e.type&&(r.parent_type=e.parent.type),t.push(r)}angular.forEach(e.partitions,function(e){u(e)&&"cache-set"!==e.type&&t.push({name:e.name,type:"partition",model:"",serial:"",tags:[],used_for:e.used_for,is_boot:!1})})}),e.used=t):(e.has_disks=!1,e.filesystems=[],e.filesystemsMap={},e.filesystemMode=a.NONE,e.filesystemAllSelected=!1,e.cachesets=[],e.cachesetsMap={},e.cachesetsMode=a.NONE,e.cachesetsAllSelected=!1,e.available=[],e.availableMap={},e.availableMode=a.NONE,e.availableAllSelected=!1,e.availableNew={},e.used=[])}function h(e){angular.forEach(e,function(e){e.$selected=!1})}function p(e){return e.charAt(0).toUpperCase()+e.slice(1)}function g(e,t){var n=new RegExp("^"+e+"([0-9]+)$").exec(t);if(angular.isArray(n)&&2===n.length)return parseInt(n[1],10)}function m(t){var n=-1;return angular.forEach(e.node.disks,function(e){var r=g(t,e.name);angular.isNumber(r)&&(n=Math.max(n,r)),angular.forEach(e.partitions,function(e){r=g(t,e.name),angular.isNumber(r)&&(n=Math.max(n,r))})}),t+(n+1)}function b(t,n){if(!angular.isArray(e.node.disks))return!1;var r,i;for(r=0;r<e.node.disks.length;r++){var a=e.node.disks[r];if(a.name===t&&(!angular.isObject(n)||"partition"===n.type||n.block_id!==a.id))return!0;if(angular.isArray(a.partitions))for(i=0;i<a.partitions.length;i++){var o=a.partitions[i];if(o.name===t&&(!angular.isObject(n)||"partition"!==n.type||n.partition_id!==o.id))return!0}}return!1}function v(e){return"virtual"===e.type&&"lvm-vg"===e.parent_type}e.tableInfo={column:"name"},e.has_disks=!1,e.filesystems=[],e.filesystemsMap={},e.filesystemMode=a.NONE,e.filesystemAllSelected=!1,e.cachesets=[],e.cachesetsMap={},e.cachesetsMode=a.NONE,e.cachesetsAllSelected=!1,e.available=[],e.availableMap={},e.availableMode=a.NONE,e.availableAllSelected=!1,e.availableNew={},e.newPartition={},e.nodeManager=t,e.used=[],e.showMembers=[],e.nodeLoaded=function(){e.$watch("node.disks",d)},e.isBootDiskDisabled=function(t,n){return!e.canEdit()||(!(!angular.isObject(e.node)||-1!==["Ready","Allocated"].indexOf(e.node.status))||("physical"!==t.type||"used"===n&&!t.has_partitions))},e.setAsBootDisk=function(n){n.is_boot||e.isBootDiskDisabled(n)||t.setBootDisk(e.node,n.block_id)},e.getSelectedFilesystems=function(){var t=[];return angular.forEach(e.filesystems,function(e){e.$selected&&t.push(e)}),t},e.updateFilesystemSelection=function(t){angular.isUndefined(t)&&(t=!1);var n=e.getSelectedFilesystems();0===n.length?e.filesystemMode=a.NONE:1===n.length&&t?e.filesystemMode=a.SINGLE:t&&(e.filesystemMode=a.MUTLI),0===e.filesystems.length?e.filesystemAllSelected=!1:n.length===e.filesystems.length?e.filesystemAllSelected=!0:e.filesystemAllSelected=!1},e.toggleFilesystemSelect=function(t){t.$selected=!t.$selected,e.updateFilesystemSelection(!0)},e.toggleFilesystemAllSelect=function(){angular.forEach(e.filesystems,function(t){e.filesystemAllSelected?t.$selected=!1:t.$selected=!0}),e.updateFilesystemSelection(!0)},e.isFilesystemsDisabled=function(){return e.filesystemMode!==a.NONE&&e.filesystemMode!==a.SINGLE&&e.filesystemMode!==a.MUTLI||e.isAllStorageDisabled()},e.filesystemCancel=function(){h(e.filesystems),e.updateFilesystemSelection(!0)},e.filesystemUnmount=function(){e.filesystemMode=a.UNMOUNT},e.quickFilesystemUnmount=function(t){h(e.filesystems),t.$selected=!0,e.updateFilesystemSelection(!0),e.filesystemUnmount()},e.filesystemConfirmUnmount=function(n){t.updateFilesystem(e.node,n.block_id,n.partition_id,n.fstype,null,null);var r=e.filesystems.indexOf(n);e.filesystems.splice(r,1),e.updateFilesystemSelection()},e.filesystemDelete=function(){e.filesystemMode=a.DELETE},e.quickFilesystemDelete=function(t){h(e.filesystems),t.$selected=!0,e.updateFilesystemSelection(!0),e.filesystemDelete()},e.filesystemConfirmDelete=function(n){"special"===n.original_type?t.unmountSpecialFilesystem(e.node,n.mount_point):"partition"===n.original_type?t.deletePartition(e.node,n.original.id):t.deleteFilesystem(e.node,n.block_id,n.partition_id,n.filesystem_id);var r=e.filesystems.indexOf(n);e.filesystems.splice(r,1),e.updateFilesystemSelection()},e.hasUnmountedFilesystem=function(e){return!(!angular.isString(e.fstype)||""===e.fstype||angular.isString(e.mount_point)&&""!==e.mount_point)},e.showFreeSpace=function(e){return"lvm-vg"===e.type||("physical"===e.type||"virtual"===e.type)&&e.has_partitions},e.getDeviceType=function(e){return angular.isUndefined(e)?"":"virtual"===e.type?"lvm-vg"===e.parent_type?"Logical volume":0===e.parent_type.indexOf("raid-")?"RAID "+e.parent_type.split("-")[1]:p(e.parent_type):"lvm-vg"===e.type?"Volume group":p(e.type)},e.getSelectedAvailable=function(){var t=[];return angular.forEach(e.available,function(e){e.$selected&&t.push(e)}),t},e.updateAvailableSelection=function(t){angular.isUndefined(t)&&(t=!1);var n=e.getSelectedAvailable();0===n.length?e.availableMode=a.NONE:1===n.length&&t?e.availableMode=a.SINGLE:t&&(e.availableMode=a.MUTLI),0===e.available.length?e.availableAllSelected=!1:n.length===e.available.length?e.availableAllSelected=!0:e.availableAllSelected=!1},e.toggleAvailableSelect=function(t){t.$selected=!t.$selected,e.updateAvailableSelection(!0)},e.toggleAvailableAllSelect=function(){angular.forEach(e.available,function(t){e.availableAllSelected?t.$selected=!1:t.$selected=!0}),e.updateAvailableSelection(!0)},e.isAvailableDisabled=function(){return e.availableMode!==a.NONE&&e.availableMode!==a.SINGLE&&e.availableMode!==a.MUTLI||e.isAllStorageDisabled()},e.canFormatAndMount=function(t){return!e.isAllStorageDisabled()&&("lvm-vg"!==t.type&&!t.has_partitions&&("physical"!==t.type||!t.original.is_boot))},e.getPartitionButtonText=function(e){return e.has_partitions?"Add partition":"Partition"},e.availablePartitionSpace=function(t){var r=0;return angular.isString(t.original.partition_table_type)&&""!==t.original.partition_table_type||(r=5242880,0===e.node.architecture.indexOf("ppc64el")&&(r+=8388608)),n.roundByBlockSize(t.original.available_size-r,4194304)},e.canAddPartition=function(t){return!(!e.canEdit()||e.isAllStorageDisabled())&&("partition"!==t.type&&"lvm-vg"!==t.type&&(("virtual"!==t.type||"lvm-vg"!==t.parent_type&&"bcache"!==t.parent_type)&&((!angular.isString(t.fstype)||""===t.fstype)&&e.availablePartitionSpace(t)-i>=0)))},e.isNameInvalid=function(e){return""!==e.name&&!!b(e.name,e)},e.nameHasChanged=function(e){if(v(e)){var t=e.original.name.split("-")[0]+"-";0!==e.name.indexOf(t)&&(e.name=t)}},e.availableCancel=function(t){e.updateAvailableSelection(!0),e.availableNew={}},e.usesMountPoint=function(e){return angular.isString(e)&&"swap"!==e},e.usesStorage=function(e){return angular.isString(e)&&"tmpfs"!==e&&"ramfs"!==e},e.isMountPointInvalid=function(e){return!angular.isUndefined(e)&&""!==e&&("none"!==e&&"/"!==e[0])},e.canDelete=function(t){return!(!e.canEdit()||e.isAllStorageDisabled())&&("lvm-vg"===t.type?0===t.original.used_size:!t.has_partitions)},e.availableDelete=function(){e.availableMode=a.DELETE},e.availableQuickDelete=function(t){h(e.available),t.$selected=!0,e.updateAvailableSelection(!0),e.availableDelete()},e.canEdit=function(t){return!(!e.$parent.canEdit()||e.isAllStorageDisabled())},e.availableEdit=function(t){e.availableMode=a.EDIT,"lvm-vg"===t.type?t.$options={editingTags:!1,editingFilesystem:!1}:"partition"===t.type?t.$options={editingTags:!1,editingFilesystem:!0,fstype:t.fstype}:(t.$options={editingFilesystem:!0,editingTags:!0,tags:angular.copy(t.tags),fstype:t.fstype},e.canFormatAndMount(t)||(t.$options.editingFilesystem=!1))},e.availableQuickEdit=function(t){h(e.available),t.$selected=!0,e.updateAvailableSelection(!0),e.availableEdit(t)},e.availableConfirmEdit=function(n){var r={name:n.name};if(!e.isNameInvalid(n)&&!e.isMountPointInvalid(n.$options.mountPoint)){if(""===n.name&&(n.name=n.original.name),v(n)){var i=n.original.name.split("-")[0]+"-";r.name=n.name.slice(i.length)}if(angular.isDefined(n.$options.fstype)&&(r.fstype=n.$options.fstype,r.mount_point=n.$options.mountPoint||"",r.mount_options=n.$options.mountOptions||""),angular.isArray(n.$options.tags)&&(r.tags=n.$options.tags.map(function(e){return e.text})),"partition"===n.type?t.updateFilesystem(e.node,n.block_id,n.partition_id,r.fstype,r.mount_point,r.mount_options,r.tags):t.updateDisk(e.node,n.block_id,r),n.fstype=n.$options.fstype,n.mount_point=n.$options.mountPoint,n.mount_options=n.$options.mountOptions,n.tags=n.$options.tags,n.$options={},angular.isString(n.mount_point)&&""!==n.mount_point){e.filesystems.push({name:n.name,size_human:n.size_human,fstype:n.fstype,mount_point:n.mount_point,mount_options:n.mount_options,block_id:n.block_id,partition_id:n.partition_id});var a=e.available.indexOf(n);e.available.splice(a,1)}n.$selected=!1,e.updateAvailableSelection(!0)}},e.getRemoveTypeText=function(e){if("filesystem"===e.type){if(!angular.isObject(e.original))return"special filesystem";e=e.original}return"physical"===e.type?"physical disk":"partition"===e.type?"partition":"lvm-vg"===e.type?"volume group":"virtual"===e.type?"lvm-vg"===e.parent_type?"logical volume":0===e.parent_type.indexOf("raid-")?"RAID "+e.parent_type.split("-")[1]+" disk":e.parent_type+" disk":void 0},e.availableConfirmDelete=function(n){"lvm-vg"===n.type?t.deleteVolumeGroup(e.node,n.block_id):"partition"===n.type?t.deletePartition(e.node,n.partition_id):t.deleteDisk(e.node,n.block_id);var r=e.available.indexOf(n);e.available.splice(r,1),e.updateAvailableSelection(!0)},e.availablePartition=function(t){e.availableMode=a.PARTITION;var n=t.available_size_human.split(" ");t.$options={size:n[0],sizeUnits:n[1],fstype:null,mountPoint:"",mountOptions:""}},e.availableQuickPartition=function(t){h(e.available),t.$selected=!0,e.updateAvailableSelection(!0),e.availablePartition(t)},e.getAddPartitionName=function(t){var n,r=t.original.partitions;return n=angular.isArray(r)?r.length:0,"mbr"===t.original.partition_table_type&&n>2?t.name+"-part"+(n+2):0===e.node.architecture.indexOf("ppc64el")&&t.original.is_boot?t.name+"-part"+(n+2):t.name+"-part"+(n+1)},e.isAddPartitionSizeInvalid=function(t){var r=t.$options.size;if(e.newPartition.$maasForm&&e.newPartition.$maasForm.getValue("size")&&(r=e.newPartition.$maasForm.getValue("size")),""!==r&&/^-?\d+\.?\d*$/.test(r)){var a=n.unitsToBytes(r,t.$options.sizeUnits);return a<i||a>t.original.available_size&&n.roundUnits(r,t.$options.sizeUnits)>t.original.available_size}return!0},e.availableConfirmPartition=function(t){var r=e.newPartition.$maasForm,i=r.getValue("size"),a=r.getValue("mount_point"),o=r.getValue("mount_options");if(!e.isAddPartitionSizeInvalid(t)&&!e.isMountPointInvalid(a)){var s=n.unitsToBytes(i,t.$options.sizeUnits),c=t.original.available_size_human.split(" ");i===c[0]&&t.$options.sizeUnits===c[1]&&(s=t.original.available_size);var u=!1,l=e.availablePartitionSpace(t);s>=l&&(s=l,u=!0);var f={};if(angular.isString(t.$options.fstype)&&""!==t.$options.fstype&&(f.fstype=t.$options.fstype,""!==a&&(f.mount_point=a,f.mount_options=o)),e.newPartition.system_id=e.node.system_id,e.newPartition.block_id=t.block_id,e.newPartition.partition_size=s,e.newPartition.params=f,u){var d=e.available.indexOf(t);e.available.splice(d,1)}e.updateAvailableSelection(!0)}},e.getSelectedCacheSets=function(){var t=[];return angular.forEach(e.cachesets,function(e){e.$selected&&t.push(e)}),t},e.updateCacheSetsSelection=function(t){angular.isUndefined(t)&&(t=!1);var n=e.getSelectedCacheSets();0===n.length?e.cachesetsMode=a.NONE:1===n.length&&t?e.cachesetsMode=a.SINGLE:t&&(e.cachesetsMode=a.MUTLI),0===e.cachesets.length?e.cachesetsAllSelected=!1:n.length===e.cachesets.length?e.cachesetsAllSelected=!0:e.cachesetsAllSelected=!1},e.toggleCacheSetSelect=function(t){t.$selected=!t.$selected,e.updateCacheSetsSelection(!0)},e.toggleCacheSetAllSelect=function(){angular.forEach(e.cachesets,function(t){e.cachesetsAllSelected?t.$selected=!1:t.$selected=!0}),e.updateCacheSetsSelection(!0)},e.isCacheSetsDisabled=function(){return e.isAllStorageDisabled()&&!e.canEdit()||e.cachesetsMode!==a.NONE&&e.cachesetsMode!==a.SINGLE&&e.cachesetsMode!==a.MUTLI},e.cacheSetCancel=function(){h(e.cachesets),e.updateCacheSetsSelection(!0)},e.canDeleteCacheSet=function(t){return""===t.used_by&&!e.isAllStorageDisabled()&&e.canEdit()},e.cacheSetDelete=function(){e.cachesetsMode=a.DELETE},e.quickCacheSetDelete=function(t){h(e.cachesets),t.$selected=!0,e.updateCacheSetsSelection(!0),e.cacheSetDelete()},e.cacheSetConfirmDelete=function(n){t.deleteCacheSet(e.node,n.cache_set_id);var r=e.cachesets.indexOf(n);e.cachesets.splice(r,1),e.updateCacheSetsSelection()},e.canCreateCacheSet=function(){if(e.isAvailableDisabled()||!e.canEdit())return!1;var t=e.getSelectedAvailable();return 1===t.length&&(!t[0].has_partitions&&!e.hasUnmountedFilesystem(t[0])&&"lvm-vg"!==t[0].type)},e.createCacheSet=function(){if(e.canCreateCacheSet()){var n=e.getSelectedAvailable()[0];t.createCacheSet(e.node,n.block_id,n.partition_id);var r=e.available.indexOf(n);e.available.splice(r,1)}},e.getCannotCreateBcacheMsg=function(){if(0===e.cachesets.length)return"Create at least one cache set to create bcache";var t=e.getSelectedAvailable();return 1===t.length?e.hasUnmountedFilesystem(t[0])?"Device is formatted; unformat the device to create bcache":"lvm-vg"===t[0].type?"Cannot use a logical volume as a backing device for bcache.":t[0].has_partitions?"Device has already been partitioned; create a new partition to use as the bcache backing device":null:"Select only one available device to create bcache"},e.canCreateBcache=function(){return!(e.isAvailableDisabled()||!e.canEdit())&&null===e.getCannotCreateBcacheMsg()},e.createBcache=function(){e.canCreateBcache()&&(e.availableMode=a.BCACHE,e.availableNew={name:m("bcache"),device:e.getSelectedAvailable()[0],cacheset:e.cachesets[0],cacheMode:"writeback",fstype:null,mountPoint:"",mountOptions:"",tags:[]})},e.fstypeChanged=function(t){null===t.fstype?(t.mountPoint="",t.mountOptions=""):e.usesMountPoint(t.fstype)?"none"===t.mountPoint&&(t.mountPoint=""):t.mountPoint="none"},e.isNewDiskNameInvalid=function(){if(!angular.isObject(e.node)||!angular.isArray(e.node.disks))return!0;if(""===e.availableNew.name)return!0;var t,n;for(t=0;t<e.node.disks.length;t++){var r=e.node.disks[t];if(e.availableNew.name===r.name)return!0;if(angular.isArray(r.partitions))for(n=0;n<r.partitions.length;n++){var i=r.partitions[n];if(e.availableNew.name===i.name)return!0}}return!1},e.createBcacheCanSave=function(){return!e.isNewDiskNameInvalid()&&!e.isMountPointInvalid(e.availableNew.mountPoint)},e.availableConfirmCreateBcache=function(){if(e.createBcacheCanSave()){var n={name:e.availableNew.name,cache_set:e.availableNew.cacheset.cache_set_id,cache_mode:e.availableNew.cacheMode};"partition"===e.availableNew.device.type?n.partition_id=e.availableNew.device.partition_id:n.block_id=e.availableNew.device.block_id,angular.isString(e.availableNew.fstype)&&""!==e.availableNew.fstype&&(n.fstype=e.availableNew.fstype,""!==e.availableNew.mountPoint&&(n.mount_point=e.availableNew.mountPoint,n.mount_options=e.availableNew.mountOptions)),angular.isArray(e.availableNew.tags)&&e.availableNew.tags.length>0&&(n.tags=e.availableNew.tags.map(function(e){return e.text})),t.createBcache(e.node,n);var r=e.available.indexOf(e.availableNew.device);e.available.splice(r,1),e.availableNew={},e.updateAvailableSelection(!0)}},e.canCreateRAID=function(){if(e.isAvailableDisabled()||!e.canEdit())return!1;var t=e.getSelectedAvailable();if(t.length>1){var n;for(n=0;n<t.length;n++){if(e.hasUnmountedFilesystem(t[n]))return!1;if("lvm-vg"===t[n].type)return!1}return!0}return!1},e.createRAID=function(){e.canCreateRAID()&&(e.availableMode=a.RAID,e.availableNew={name:m("md"),devices:e.getSelectedAvailable(),mode:null,spares:[],fstype:null,mountPoint:"",mountOptions:"",tags:[]},e.availableNew.mode=e.getAvailableRAIDModes()[0])},e.getAvailableRAIDModes=function(){if(!angular.isObject(e.availableNew)||!angular.isArray(e.availableNew.devices))return[];var t=[];return angular.forEach(o,function(n){e.availableNew.devices.length>=n.min_disks&&t.push(n)}),t},e.getTotalNumberOfAvailableSpares=function(){var t=e.availableNew.mode;if(angular.isUndefined(t)||!t.allows_spares)return 0;var n=e.availableNew.devices.length-t.min_disks;return n<0&&(n=0),n},e.getNumberOfRemainingSpares=function(){var t=e.getTotalNumberOfAvailableSpares();return t<=0?0:t-e.availableNew.spares.length},e.showSparesColumn=function(){return e.getTotalNumberOfAvailableSpares()>0},e.RAIDModeChanged=function(){e.availableNew.spares=[]},e.isActiveRAIDMember=function(t){return!angular.isArray(e.availableNew.spares)||-1===e.availableNew.spares.indexOf(f(t))},e.isSpareRAIDMember=function(t){return!e.isActiveRAIDMember(t)},e.setAsActiveRAIDMember=function(t){var n=e.availableNew.spares.indexOf(f(t));n>-1&&e.availableNew.spares.splice(n,1)},e.setAsSpareRAIDMember=function(t){var n=f(t);-1===e.availableNew.spares.indexOf(n)&&e.availableNew.spares.push(n)},e.getNewRAIDSize=function(){if(angular.isUndefined(e.availableNew.mode))return"";var t=e.availableNew.mode.calculateSize;if(!angular.isFunction(t))return"";var r=e.availableNew.devices.length-e.availableNew.spares.length,i=Number.MAX_VALUE;angular.forEach(e.availableNew.devices,function(e){var t=e.original.available_size||e.original.size;i=Math.min(i,t)});var a=t(i,r);return n.bytesToUnits(a).string},e.createRAIDCanSave=function(){return!e.isNewDiskNameInvalid()&&!e.isMountPointInvalid(e.availableNew.mountPoint)},e.availableConfirmCreateRAID=function(){if(e.createRAIDCanSave()){var n={name:e.availableNew.name,level:e.availableNew.mode.level,block_devices:[],partitions:[],spare_devices:[],spare_partitions:[]};angular.forEach(e.availableNew.devices,function(t){e.isActiveRAIDMember(t)?"partition"===t.type?n.partitions.push(t.partition_id):n.block_devices.push(t.block_id):"partition"===t.type?n.spare_partitions.push(t.partition_id):n.spare_devices.push(t.block_id)}),angular.isString(e.availableNew.fstype)&&""!==e.availableNew.fstype&&(n.fstype=e.availableNew.fstype,""!==e.availableNew.mountPoint&&(n.mount_point=e.availableNew.mountPoint,n.mount_options=e.availableNew.mountOptions)),angular.isArray(e.availableNew.tags)&&e.availableNew.tags.length>0&&(n.tags=e.availableNew.tags.map(function(e){return e.text})),t.createRAID(e.node,n),angular.forEach(e.availableNew.devices,function(t){var n=e.available.indexOf(e.availableNew.device);e.available.splice(n,1)}),e.availableNew={},e.updateAvailableSelection(!0)}},e.canCreateVolumeGroup=function(){if(e.isAvailableDisabled()||!e.canEdit())return!1;var t=e.getSelectedAvailable();if(t.length>0){var n;for(n=0;n<t.length;n++){if(t[n].has_partitions)return!1;if(e.hasUnmountedFilesystem(t[n]))return!1;if("lvm-vg"===t[n].type)return!1}return!0}return!1},e.createVolumeGroup=function(){e.canCreateVolumeGroup()&&(e.availableMode=a.VOLUME_GROUP,e.availableNew={name:m("vg"),devices:e.getSelectedAvailable()})},e.getNewVolumeGroupSize=function(){var t=0;return angular.forEach(e.availableNew.devices,function(e){t+=e.original.available_size||e.original.size}),n.bytesToUnits(t).string},e.createVolumeGroupCanSave=function(){return!e.isNewDiskNameInvalid()},e.availableConfirmCreateVolumeGroup=function(){if(e.createVolumeGroupCanSave()){var n={name:e.availableNew.name,block_devices:[],partitions:[]};angular.forEach(e.availableNew.devices,function(e){"partition"===e.type?n.partitions.push(e.partition_id):n.block_devices.push(e.block_id)}),t.createVolumeGroup(e.node,n),angular.forEach(e.availableNew.devices,function(t){var n=e.available.indexOf(e.availableNew.device);e.available.splice(n,1)}),e.availableNew={},e.updateAvailableSelection(!0)}},e.canAddLogicalVolume=function(e){return"lvm-vg"===e.type&&!(e.original.available_size<i)},e.availableLogicalVolume=function(t){e.availableMode=a.LOGICAL_VOLUME,t.$selected=!0;var n=t.available_size_human.split(" "),r=t.name+"-lv";t.$options={name:m(r),size:n[0],sizeUnits:n[1],fstype:null,tags:[]}},e.isLogicalVolumeNameInvalid=function(e){return!!angular.isString(e.$options.name)&&(0!==e.$options.name.indexOf(e.name+"-")||e.$options.name.length<=e.name.length+1||b(e.$options.name))},e.newLogicalVolumeNameChanged=function(e){angular.isString(e.$options.name)&&(0!==e.$options.name.indexOf(e.name+"-")&&(e.$options.name=e.name+"-"))},e.isAddLogicalVolumeSizeInvalid=function(t){return e.isAddPartitionSizeInvalid(t)},e.availableConfirmLogicalVolume=function(r){if(!(e.isLogicalVolumeNameInvalid(r)||e.isAddLogicalVolumeSizeInvalid(r)||e.isMountPointInvalid(r.$options.mountPoint))){var i=n.unitsToBytes(r.$options.size,r.$options.sizeUnits),a=r.original.available_size_human.split(" ");r.$options.size===a[0]&&r.$options.sizeUnits===a[1]&&(i=r.original.available_size),i>r.original.available_size&&(i=r.original.available_size);var o=!1;i===r.original.available_size&&(o=!0);var s=r.$options.name.slice(r.name.length+1),c={};if(angular.isString(r.$options.fstype)&&""!==r.$options.fstype&&(c.fstype=r.$options.fstype,""!==r.$options.mountPoint&&(c.mount_point=r.$options.mountPoint,c.mount_options=r.$options.mountOptions)),angular.isArray(r.$options.tags)&&r.$options.tags.length>0&&(c.tags=r.$options.tags.map(function(e){return e.text})),t.createLogicalVolume(e.node,r.block_id,s,i,c),o){var u=e.available.indexOf(r);e.available.splice(u,1)}e.updateAvailableSelection(!0)}},e.isAllStorageDisabled=function(){var t=r.getAuthUser();return!angular.isObject(t)||!angular.isObject(e.node)||!t.is_superuser&&t.username!==e.node.owner||!(!angular.isObject(e.node)||-1!==["Ready","Allocated"].indexOf(e.node.status))},e.hasStorageLayoutIssues=function(){return!(!angular.isObject(e.node)||!angular.isArray(e.node.storage_layout_issues))&&e.node.storage_layout_issues.length>0},e.$parent.controllerLoaded("storageController",e)}Object.defineProperty(t,"__esModule",{value:!0}),t.removeAvailableByNew=function(){return function(e,t){if(!angular.isObject(t)||!angular.isObject(t.device)&&!angular.isArray(t.devices))return e;var n=[],r=!0;return angular.isArray(t.devices)&&(r=!1),angular.forEach(e,function(e){if(r)e!==t.device&&n.push(e);else{var i,a=!1;for(i=0;i<t.devices.length;i++)if(e===t.devices[i]){a=!0;break}a||n.push(e)}}),n}},t.NodeStorageController=r,r.$inject=["$scope","MachinesManager","ConverterService","UsersManager"]},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,c,u,l,f){var d={PHYSICAL:"physical",BOND:"bond",BRIDGE:"bridge",VLAN:"vlan",ALIAS:"alias"},h={physical:"Physical",bond:"Bond",bridge:"Bridge",vlan:"VLAN",alias:"Alias"},p={AUTO:"auto",STATIC:"static",DHCP:"dhcp",LINK_UP:"link_up"},g={auto:"Auto assign",static:"Static assign",dhcp:"DHCP",link_up:"Unconfigured"},m={NONE:null,SINGLE:"single",MULTI:"multi",DELETE:"delete",ADD:"add",CREATE_BOND:"create-bond",CREATE_BRIDGE:"create-bridge",CREATE_PHYSICAL:"create-physical",EDIT:"edit"},b="dynamic",v="external",y="static";function _(){e.loaded=e.nodeHasLoaded&&e.managersHaveLoaded,e.loaded&&w()}function w(){e.originalInterfaces={},angular.forEach(e.node.interfaces,function(t){e.originalInterfaces[t.id]=t});var o=[],s=[],c={};if(angular.forEach(e.node.interfaces,function(u){if(1===u.children.length){var l=e.originalInterfaces[u.children[0]];if(l.type===d.BOND||l.type===d.BRIDGE)return void(angular.isObject(e.editInterface)&&e.editInterface.id===u.id&&(e.editInterface=null,e.selectedMode=m.NONE))}var f,h;if(u.type!==d.BOND&&u.type!==d.BRIDGE||(u.members=[],angular.forEach(u.parents,function(t){u.members.push(angular.copy(e.originalInterfaces[t]))})),angular.isArray(u.tags)&&u.tags.length>0&&!angular.isString(u.tags[0].text)&&(u.tags=(f=u.tags,h=[],angular.forEach(f,function(e){h.push({text:e})}),h)),u.vlan=r.getItemFromList(u.vlan_id),angular.isObject(u.vlan)&&(u.fabric=n.getItemFromList(u.vlan.fabric),e.$parent.isController)){if(!Object.prototype.hasOwnProperty.call(c,u.vlan.id)){c[u.vlan.id]=!0;var g={fabric:u.fabric,vlan:u.vlan,subnets:t("filter")(e.subnets,{vlan:u.vlan.id},!0),primary_rack:null,secondary_rack:null,sort_key:u.fabric.name+"|"+e.getVLANText(u.vlan)};u.vlan.primary_rack&&(g.primary_rack=a.getItemFromList(u.vlan.primary_rack)),u.vlan.secondary_rack&&(g.secondary_rack=a.getItemFromList(u.vlan.secondary_rack)),s.push(g)}s.sort(function(e,t){return e.sort_key.localeCompare(t.sort_key)})}if(0===u.links.length)u.link_id=-1,u.subnet=null,u.mode=p.LINK_UP,u.ip_address="",o.push(u);else{var b=0;angular.forEach(u.links,function(e){var t=angular.copy(u);t.link_id=e.id,t.subnet=i.getItemFromList(e.subnet_id),t.mode=e.mode,t.ip_address=e.ip_address,angular.isUndefined(t.ip_address)&&(t.ip_address=""),t.vlan=u.vlan,t.fabric=u.fabric,b>0&&(t.type=d.ALIAS,t.name+=":"+b),b++,o.push(t)})}}),e.interfaces=o,e.vlanTable=s,e.interfaceLinksMap={},angular.forEach(e.interfaces,function(t){var n=e.interfaceLinksMap[t.id];angular.isUndefined(n)&&(n={},e.interfaceLinksMap[t.id]=n),n[t.link_id]=t}),angular.isObject(e.editInterface)){var u=e.interfaceLinksMap[e.editInterface.id];if(angular.isUndefined(u))e.editInterface=null,e.selectedMode=m.NONE;else{var l=u[e.editInterface.link_id];angular.isUndefined(l)&&(e.editInterface=null,e.selectedMode=m.NONE)}}!function(){if(angular.isObject(e.newInterface.parent)){var t=e.newInterface.parent.id,n=e.newInterface.parent.link_id,r=e.interfaceLinksMap[t];if(angular.isObject(r)){var i=r[n];if(angular.isObject(i)){e.newInterface.parent=i;var a=e.newInterface.type,o=a===d.ALIAS,s=a===d.VLAN,c=e.canAddAlias(i),u=e.canAddVLAN(i);return void(c||u?o&&!c&&u?(e.newInterface.type="vlan",e.addTypeChanged()):s&&!u&&c&&(e.newInterface.type="alias",e.addTypeChanged()):(e.newInterface={},M()))}}e.newInterface={},M()}}()}function S(t,n){var r=e.originalInterfaces[t];if(angular.isObject(r)){var i,a=null;for(i=0;i<r.links.length&&(a=r.links[i]).id!==n;i++);return a}return null}function M(){e.selectedMode!==m.SINGLE&&e.selectedMode!==m.ADD&&e.selectedMode!==m.DELETE||(e.selectedMode=m.NONE)}function E(e){return r.getItemFromList(e.default_vlan_id)}function A(n,r){var i=t("removeDefaultVLAN")(e.vlans);return i=t("filterByFabric")(i,n.fabric),i=t("filterByUnusedForInterface")(i,n,e.originalInterfaces),angular.isUndefined(r)&&(r=[]),angular.forEach(r,function(e){var t;for(t=0;t<i.length;t++)if(i[t].id===e.id){i.splice(t,1);break}}),i}function k(){var t=[];return angular.forEach(e.selectedInterfaces,function(n){var r=n.split("/"),i=e.interfaceLinksMap[r[0]];if(angular.isObject(i)){var a=i[r[1]];angular.isObject(a)&&t.push(a)}}),t}function I(t){var n=0;return angular.forEach(e.originalInterfaces,function(e){e.name===t+n&&n++}),t+n}e.ipAssignments=[{name:v,text:"External"},{name:b,text:"Dynamic"},{name:y,text:"Static"}],e.loaded=!1,e.nodeHasLoaded=!1,e.managersHaveLoaded=!1,e.tableInfo={column:"name"},e.fabrics=n.getItems(),e.vlans=r.getItems(),e.subnets=i.getItems(),e.interfaces=[],e.interfaceLinksMap={},e.interfaceErrorsByLinkId={},e.originalInterfaces={},e.selectedInterfaces=[],e.selectedMode=null,e.newInterface={},e.newBondInterface={},e.newBridgeInterface={},e.editInterface=null,e.bondOptions=o.getData("bond_options"),e.createBondError=null,e.newInterfaceLinkMonitoring=null,e.editInterfaceLinkMonitoring=null,e.isSaving=!1,e.modes=[{mode:p.AUTO,text:g[p.AUTO]},{mode:p.STATIC,text:g[p.STATIC]},{mode:p.DHCP,text:g[p.DHCP]},{mode:p.LINK_UP,text:g[p.LINK_UP]}],e.isBond=function(e){return"bond"===e.type},e.nodeLoaded=function(){e.$watch("node.interfaces",w),e.$parent.isController&&e.$watch("subnets",w,!0),e.nodeHasLoaded=!0,_()},e.isLimitedEditingAllowed=function(t){return!!e.canEdit()&&(!e.$parent.isController&&!e.$parent.isDevice&&(angular.isObject(e.node)&&"Deployed"===e.node.status&&"vlan"!==t.type))},e.isAllNetworkingDisabled=function(){return!e.canEdit()&&!e.$parent.isDevice||!e.$parent.isController&&!e.$parent.isDevice&&!(!angular.isObject(e.node)||-1!==["New","Ready","Allocated","Broken"].indexOf(e.node.status))},e.isBootInterface=function(e){if(!angular.isObject(e))return!1;if(e.is_boot&&e.type!==d.ALIAS)return!0;var t;if(e.type===d.BOND||e.type===d.BRIDGE)for(t=0;t<e.members.length;t++)if(e.members[t].is_boot)return!0;return!1},e.getInterfaceTypeText=function(e){var t=h[e.type];return angular.isDefined(t)?t:e.type},e.getLinkModeText=function(e){var t=g[e.mode];return angular.isDefined(t)?t:e.mode},e.getVLANText=function(e){return angular.isObject(e)?0===e.vid?"untagged":angular.isString(e.name)&&e.name.length>0?e.vid+" ("+e.name+")":e.vid:""},e.getSubnetText=function(e){return angular.isObject(e)?angular.isString(e.name)&&e.name.length>0&&e.cidr!==e.name?e.cidr+" ("+e.name+")":e.cidr:"Unconfigured"},e.getSubnet=function(e){return i.getItemFromList(e)},e.showEditButton=function(n,r){return"bond"===n.type&&(r=t("filterEditInterface")(r,e.editInterface),!(n.members.length<=2&&!r.length))},e.showCreateEditButton=function(){return!!(t("filterSelectedInterfaces")(e.interfaces,e.selectedInterfaces,e.newBondInterface).length||e.selectedInterfaces.length>2)},e.isInterfaceNameInvalid=function(t){if(!angular.isObject(t)||!t.hasOwnProperty("name")||0===t.name.length)return!0;var n;if(angular.isArray(e.node.interfaces))for(n=0;n<e.node.interfaces.length;n++){var r=e.node.interfaces[n];if(r.name===t.name&&r.id!==t.id)return!0}return!1},e.isLinkModeDisabled=function(e){return angular.isFunction(e.getValue)?!angular.isObject(e.getValue("subnet")):!angular.isObject(e.subnet)},e.getInterfaceError=function(t){return angular.isDefined(t.link_id)&&t.link_id>=0?e.interfaceErrorsByLinkId[t.link_id]:null},e.isIPAddressInvalid=function(e){return!(!angular.isString(e.ip_address)||"static"!==e.mode)&&(!u.validateIP(e.ip_address)||!u.validateIPInNetwork(e.ip_address,e.subnet.cidr))},e.getUniqueKey=function(e){return e.id+"/"+e.link_id},e.toggleInterfaceSelect=function(t){var n,r,i=e.getUniqueKey(t),a=e.selectedInterfaces.indexOf(i);function o(){return a>-1}if(o()?(n=a,e.selectedInterfaces.splice(n,1)):e.selectedInterfaces.push(i),e.newBondInterface&&e.newBondInterface.parents){var s=e.newBondInterface.parents,c=(r=t,s.filter(function(e){return(angular.isObject(e)?e.id:e)!==r.id}));o()?(e.newBondInterface.parents=c,e.newBondInterface.primary=c[0],e.newBondInterface.mac_address=c[0].mac_address,function(e,t){return t.filter(function(t){return(angular.isObject(t)?t.id:t)===e.id})}(t,e.interfaces)||e.interfaces.push(t)):e.newBondInterface.parents.push(t)}e.selectedInterfaces.length>1?e.selectedMode!==m.BOND&&(e.isShowingCreateBond()||(e.selectedMode=m.MULTI)):1===e.selectedInterfaces.length?e.isShowingCreateBond()||(e.selectedMode=m.SINGLE):e.isShowingCreateBond()||(e.selectedMode=m.NONE)},e.toggleEditInterfaceSelect=function(t){var n=e.getUniqueKey(t),r=e.selectedInterfaces.indexOf(n);if(-1===r){e.selectedInterfaces.push(n),e.editInterface.members.find(function(e){return e.id===t.id})||e.editInterface.members.push(t),e.editInterface.parents.find(function(e){return e===t.id})||e.editInterface.parents.push(t.id);var i=e.interfaces.find(function(e){return e.id===t.id}),a=e.interfaces.indexOf(i);-1!==a&&e.interfaces.splice(a,1)}else{e.selectedInterfaces.splice(r,1),e.interfaces.find(function(e){return e.id===t.id})||(t.fabric=e.editInterface.fabric,t.vlan=e.editInterface.vlan,e.interfaces.push(t));var o=e.editInterface.members.find(function(e){return e.id===t.id}),s=e.editInterface.members.indexOf(o);-1!==s&&e.editInterface.members.splice(s,1);var c=e.editInterface.parents.indexOf(t.id);-1!==c&&e.editInterface.parents.splice(c,1);var u=e.editInterface.members[0];e.editInterface.primary.id===t.id&&(e.editInterface.primary=u),e.editInterface.mac_address===t.mac_address&&u&&(e.editInterface.mac_address=u.mac_address)}},e.isInterfaceSelected=function(t){return e.selectedInterfaces.indexOf(e.getUniqueKey(t))>-1},e.cannotEditInterface=function(t){return e.selectedMode!==m.NONE&&(e.selectedMode===m.MULTI||!e.isInterfaceSelected(t))},e.isEditing=function(t){return e.selectedMode===m.EDIT&&e.editInterface.id===t.id},e.edit=function(t){e.isShowingInterfaces=!1,e.selectedInterfaces=[e.getUniqueKey(t)],e.selectedMode=m.EDIT,e.$parent.isDevice?(e.editInterface={id:t.id,name:t.name,mac_address:t.mac_address,tags:t.tags.map(function(e){return e.text}),subnet:t.subnet,ip_address:t.ip_address,ip_assignment:t.ip_assignment,link_id:t.link_id,type:t.type,bridge_fd:t.params.bridge_fd,bridge_stp:t.params.bridge_stp,bond_mode:t.params.bond_mode,xmitHashPolicy:t.params.bond_xmit_hash_policy,lacpRate:t.params.bond_lacp_rate,bond_downdelay:t.params.bond_downdelay,bond_updelay:t.params.bond_updelay,bond_miimon:t.params.bond_miimon},angular.isDefined(t.subnet)&&null!==t.subnet?e.editInterface.defaultSubnet=t.subnet:e.editInterface.defaultSubnet=e.subnets[0]):(e.editInterface={id:t.id,name:t.name,mac_address:t.mac_address,tags:t.tags.map(function(e){return e.text}),fabric:t.fabric,vlan:t.vlan,subnet:t.subnet,mode:t.mode,ip_address:t.ip_address,link_id:t.link_id,type:t.type,bridge_fd:t.params.bridge_fd,bridge_stp:t.params.bridge_stp,bond_mode:t.params.bond_mode,xmitHashPolicy:t.params.bond_xmit_hash_policy,lacpRate:t.params.bond_lacp_rate,bond_downdelay:t.params.bond_downdelay,bond_updelay:t.params.bond_updelay,bond_miimon:t.params.bond_miimon},e.editInterface.parents=t.parents,e.editInterface.members=t.members,t.members&&t.members.length?e.editInterface.primary=t.members[0]:e.editInterface.primary=null,t.members&&t.members.forEach(function(t){e.selectedInterfaces.push(e.getUniqueKey(t))}))},e.fabricChanged=function(t){null!==t.fabric?t.vlan=E(t.fabric):t.vlan=null,e.vlanChanged(t)},e.fabricChangedForm=function(t,n,r){var i;i=null!==n?E(n):null,r.updateValue("vlan",i),e.vlanChangedForm("vlan",i,r)},e.vlanChanged=function(t){t.subnet=null,e.subnetChanged(t)},e.vlanChangedForm=function(t,n,r){r.updateValue("subnet",null),e.subnetChangedForm("subnet",null,r)},e.subnetChanged=function(t){angular.isObject(t.subnet)||(t.mode=p.LINK_UP),e.$parent.isDevice&&(t.ip_address=null),e.modeChanged(t)},e.subnetChangedForm=function(t,n,r){angular.isObject(n)||r.updateValue("mode",p.LINK_UP);var i=r.getValue("mode");r.updateValue("ip_address",null),e.modeChangedForm("mode",i,r)},e.modeChanged=function(e){if(e.ip_address="","static"===e.mode){var t=S(e.id,e.link_id);angular.isObject(t)&&e.subnet.id===t.subnet_id?e.ip_address=t.ip_address:e.ip_address=e.subnet.statistics.first_address}},e.updateVLAN=function(n){var r=t("filterVLANNotOnFabric")(e.vlans,n.fabric.vlan_ids);n.vlan=r[0]},e.modeChangedForm=function(e,t,n){if(n.updateValue("ip_address",""),"static"===t){var r=S(n.getValue("id"),n.getValue("link_id"));angular.isObject(r)&&n.getValue("subnet").id===r.subnet_id&&n.updateValue("ip_address",r.ip_address)}},e.editCancel=function(){e.isShowingInterfaces=!1,e.selectedInterfaces=[],e.selectedMode=m.NONE,e.editInterface=null,w()},e.preProcessInterface=function(t){var n=angular.copy(t);return e.isSaving=!0,delete n.id,n.system_id=e.node.system_id,n.interface_id=t.id,angular.isDefined(t.fabric)&&null!==t.fabric?n.fabric=t.fabric.id:n.fabric=null,angular.isDefined(t.vlan)&&null!==t.vlan?n.vlan=t.vlan.id:n.vlan=null,angular.isDefined(t.subnet)&&null!==t.subnet?n.subnet=n.subnet.id:delete n.subnet,angular.isUndefined(t.bridge_stp)&&null===t.bridge_stp&&(n.bridge_stp=null),angular.isUndefined(t.bridge_fd)&&null===t.bridge_fd&&(n.bridge_fd=null),angular.isUndefined(t.bond_mode)&&null===t.bond_mode&&(n.bond_mode=null),angular.isDefined(t.link_id)&&t.link_id>=0?(n.link_id=t.link_id,delete e.interfaceErrorsByLinkId[t.link_id]):delete n.link_id,(t.mode===p.STATIC||t.ip_assignment!==b)&&angular.isString(t.ip_address)&&t.ip_address.length>0?n.ip_address=t.ip_address:delete n.ip_address,n},e.saveInterface=function(t){var n;return n=e.$parent.isDevice?{name:t.name,mac_address:t.mac_address,ip_assignment:t.ip_assignment,ip_address:t.ip_address}:{name:t.name,mac_address:t.mac_address,mode:t.mode,tags:t.tags.map(function(e){return e.text})},angular.isDefined(t.fabric)&&null!==t.fabric?n.fabric=t.fabric.id:n.fabric=null,angular.isDefined(t.vlan)&&null!==t.vlan?n.vlan=t.vlan.id:n.vlan=null,angular.isDefined(t.subnet)&&null!==t.subnet?n.subnet=t.subnet.id:n.subnet=null,angular.isDefined(t.link_id)&&t.link_id>=0&&(n.link_id=t.link_id,delete e.interfaceErrorsByLinkId[t.link_id]),angular.isString(t.ip_address)&&t.ip_address.length>0&&(n.ip_address=t.ip_address),e.$parent.nodesManager.updateInterface(e.node,t.id,n).then(null,function(e){f.error(e),w()})},e.saveInterfaceLink=function(t){var n={mode:t.mode};return e.$parent.isDevice&&(n.ip_assignment=t.ip_assignment),angular.isObject(t.subnet)&&(n.subnet=t.subnet.id),angular.isDefined(t.link_id)&&t.link_id>=0&&(n.link_id=t.link_id,delete e.interfaceErrorsByLinkId[t.link_id]),t.mode===p.STATIC&&angular.isString(t.ip_address)&&t.ip_address.length>0&&(n.ip_address=t.ip_address),e.$parent.nodesManager.linkSubnet(e.node,t.id,n).then(null,function(n){throw f.info(n),angular.isDefined(t.link_id)&&t.link_id>=0&&(e.interfaceErrorsByLinkId[t.link_id]=n),w(),n})},e.editSave=function(t){return e.isSaving=!1,e.editCancel(),t},e.isShowingDeleteConfirm=function(){return e.selectedMode===m.DELETE},e.isShowingAdd=function(){return e.selectedMode===m.ADD},e.canAddAliasOrVLAN=function(t){return!e.$parent.isController&&(!e.isAllNetworkingDisabled()&&(e.canAddAlias(t)||e.canAddVLAN(t)))},e.canAddAlias=function(e){return!!angular.isObject(e)&&(e.type!==d.ALIAS&&(0!==e.links.length&&e.links[0].mode!==p.LINK_UP))},e.canAddVLAN=function(e){return!!angular.isObject(e)&&(e.type!==d.ALIAS&&e.type!==d.VLAN&&A(e).length>0)},e.canAddAnotherVLAN=function(t){return!!e.canAddVLAN(t)&&A(t).length>1},e.getRemoveTypeText=function(e){return e.type===d.PHYSICAL?"interface":e.type===d.VLAN?"VLAN":e.type},e.canBeRemoved=function(){return!e.$parent.isController&&!e.isAllNetworkingDisabled()},e.remove=function(){e.selectedMode=m.DELETE},e.quickRemove=function(t){e.selectedInterfaces=[e.getUniqueKey(t)],e.remove()},e.cancel=function(){e.isShowingInterfaces=!1,e.newInterface={},e.newBondInterface={},e.newBridgeInterface={},e.clearCreateBondError(),e.selectedMode===m.CREATE_BOND?e.selectedMode=m.MULTI:e.selectedMode===m.CREATE_PHYSICAL?e.selectedMode=m.NONE:e.selectedMode=m.SINGLE},e.confirmRemove=function(t){e.selectedMode=m.NONE,e.selectedInterfaces=[],t.type!==d.ALIAS?e.$parent.nodesManager.deleteInterface(e.node,t.id):e.$parent.nodesManager.unlinkSubnet(e.node,t.id,t.link_id);var n=e.interfaces.indexOf(t);n>-1&&e.interfaces.splice(n,1)},e.add=function(n,r){var i=[];angular.isObject(e.newInterface.vlan)&&i.push(e.newInterface.vlan);var a=A(r,i),o=null;a.length>0&&(o=a[0]);var s=null,c=p.LINK_UP;n===d.ALIAS&&(o=r.vlan,s=t("filter")(e.subnets,{vlan:o.id},!0)[0],c=p.AUTO),e.newInterface={type:n,vlan:o,subnet:s,mode:c,parent:r,tags:[]},e.selectedMode=m.ADD},e.quickAdd=function(t){e.selectedInterfaces=[e.getUniqueKey(t)];var n="alias";e.canAddAlias(t)||(n="vlan"),e.add(n,t)},e.getAddName=function(){if(e.newInterface.type===d.ALIAS){var t=e.newInterface.parent.links.length;return e.newInterface.parent.name+":"+t}if(e.newInterface.type===d.VLAN)return e.newInterface.parent.name+"."+e.newInterface.vlan.vid},e.addTypeChanged=function(){if(e.newInterface.type===d.ALIAS)e.newInterface.vlan=e.newInterface.parent.vlan,e.newInterface.subnet=t("filter")(e.subnets,{vlan:e.newInterface.vlan.id},!0)[0],e.newInterface.mode=p.AUTO;else if(e.newInterface.type===d.VLAN){var n=A(e.newInterface.parent);e.newInterface.vlan=null,n.length>0&&(e.newInterface.vlan=n[0]),e.newInterface.subnet=null,e.newInterface.mode=p.LINK_UP}},e.addInterface=function(t){var n;if(e.$parent.isDevice)n={id:e.newInterface.parent.id,tags:e.newInterface.tags.map(function(e){return e.text}),ip_assignment:e.newInterface.ip_assignment,subnet:e.newInterface.subnet,ip_address:e.newInterface.ip_address},e.saveInterfaceLink(n);else if(e.newInterface.type===d.ALIAS)n={id:e.newInterface.parent.id,mode:e.newInterface.mode,subnet:e.newInterface.subnet,ip_address:e.newInterface.ip_address},e.saveInterfaceLink(n);else if(e.newInterface.type===d.VLAN){var r={parent:e.newInterface.parent.id,vlan:e.newInterface.vlan.id,mode:e.newInterface.mode,tags:e.newInterface.tags.map(function(e){return e.text})};angular.isObject(e.newInterface.subnet)&&(r.subnet=e.newInterface.subnet.id,r.ip_address=e.newInterface.ip_address),e.$parent.nodesManager.createVLANInterface(e.node,r).then(null,function(e){f.error(e)})}angular.isString(t)?e.add(t,e.newInterface.parent):(e.selectedMode=m.NONE,e.selectedInterfaces=[],e.newInterface={})},e.isDisabled=function(){return!!e.isAllNetworkingDisabled()||e.selectedMode!==m.NONE&&e.selectedMode!==m.SINGLE&&e.selectedMode!==m.MULTI},e.canCreateBond=function(){if(e.selectedMode!==m.MULTI)return!1;var t,n,r=k();for(t=0;t<r.length;t++){var i=r[t];if(i.type===d.ALIAS||i.type===d.BOND)return!1;if(angular.isObject(n)){if(n!==i.vlan)return!1}else n=i.vlan}return!0},e.isShowingCreateBond=function(){return e.selectedMode===m.CREATE_BOND},e.showCreateBond=function(){if(e.clearCreateBondError(),e.selectedMode===m.MULTI&&e.canCreateBond()){e.selectedMode=m.CREATE_BOND;var t=k(),n=t[0],r="",i="",a={},o="";n&&n.mac_address&&(r=n.mac_address),n&&n.fabric&&(i=n.fabric),n&&n.vlan&&(a=n.vlan),n&&n.subnet&&(o=n.subnet),e.newBondInterface={name:I("bond"),tags:[],parents:t,primary:n,mac_address:r,fabric:i,vlan:a,subnet:o,bond_mode:"active-backup",lacpRate:"fast",xmitHashPolicy:"layer2",bond_updelay:0,bond_downdelay:0,bond_miimon:100}}},e.hasBootInterface=function(e){if(!angular.isArray(e.parents))return!1;var t;for(t=0;t<e.parents.length;t++)if(e.parents[t].is_boot)return!0;return!1},e.getInterfacePlaceholderMACAddress=function(e){return angular.isObject(e.primary)?e.primary.mac_address:""},e.isMACAddressInvalid=function(e,t){return angular.isUndefined(t)&&(t=!1),angular.isString(e)&&""!==e?!u.validateMAC(e):t},e.showLACPRate=function(){return e.editInterface?"802.3ad"===e.editInterface.bond_mode:"802.3ad"===e.newBondInterface.bond_mode},e.modeAndPolicyCompliant=function(){return e.editInterface?"802.3ad"===e.editInterface.bond_mode&&("layer3+4"===e.editInterface.xmitHashPolicy||"encap3+4"===e.editInterface.xmitHashPolicy):"802.3ad"===e.newBondInterface.bond_mode&&("layer3+4"===e.newBondInterface.xmitHashPolicy||"encap3+4"===e.newBondInterface.xmitHashPolicy)},e.showXMITHashPolicy=function(){return e.editInterface?"balance-xor"===e.editInterface.bond_mode||"802.3ad"===e.editInterface.bond_mode||"balance-tlb"===e.editInterface.bond_mode:"balance-xor"===e.newBondInterface.bond_mode||"802.3ad"===e.newBondInterface.bond_mode||"balance-tlb"===e.newBondInterface.bond_mode},e.cannotAddBond=function(){return e.isInterfaceNameInvalid(e.newBondInterface)||e.isMACAddressInvalid(e.newBondInterface.mac_address)},e.cannotEditBond=function(t){return e.isInterfaceNameInvalid(t)&&e.isIPAddressInvalid(t)&&e.isMACAddressInvalid(t.mac_address,!0)},e.addBond=function(){if(!e.cannotAddBond()){e.isSaving=!0;var t=e.newBondInterface.parents.map(function(e){return e.id}),n=e.newBondInterface.mac_address;""===n&&(n=e.newBondInterface.primary.mac_address);var r,i=e.newBondInterface.vlan;r=angular.isObject(i)?i.id:angular.isObject(e.newBondInterface.primary.vlan)?(i=e.newBondInterface.primary.vlan).id:null;var a,o=e.newBondInterface.subnet;a=angular.isObject(o)?o.id:null;var s={name:e.newBondInterface.name,mac_address:n,tags:e.newBondInterface.tags.map(function(e){return e.text}),parents:t,bond_mode:e.newBondInterface.bond_mode,bond_lacp_rate:e.newBondInterface.lacpRate,bond_xmit_hash_policy:e.newBondInterface.xmitHashPolicy,vlan:r,subnet:a,mode:e.newBondInterface.mode,ip_address:e.newBondInterface.ip_address,bond_miimon:e.newBondInterface.bond_miimon,bond_updelay:e.newBondInterface.bond_updelay,bond_downdelay:e.newBondInterface.bond_downdelay};e.$parent.nodesManager.createBondInterface(e.node,s).then(function(){var t=e.newBondInterface.parents;angular.forEach(t,function(t){var n=e.interfaces.indexOf(t);n>-1&&e.interfaces.splice(n,1)}),e.isSaving=!1}).catch(function(t){var n=angular.fromJson(t);e.createBondError=n[Object.keys(n)[0]][0],e.isSaving=!1}),e.newBondInterface={},e.selectedInterfaces=[],e.selectedMode=m.NONE}},e.clearCreateBondError=function(){e.createBondError=null},e.canCreateBridge=function(){if(e.selectedMode!==m.SINGLE)return!1;var t=k()[0];return t.type!==d.ALIAS&&t.type!==d.BRIDGE},e.isShowingCreateBridge=function(){return e.selectedMode===m.CREATE_BRIDGE},e.isShowingEdit=function(){return e.selectedMode===m.EDIT},e.toggleInterfaces=function(){e.isShowingInterfaces=!e.isShowingInterfaces},e.isCorrectInterfaceType=function(e,t){var n=t.map(function(e){return e.id}),r=t[0].type,i=t[0].fabric;return e.type===r&&e.fabric===i&&!n.includes(e.id)},e.showCreateBridge=function(){if(e.selectedMode===m.SINGLE&&e.canCreateBridge()){e.selectedMode=m.CREATE_BRIDGE;var t=k(),n=t[0],r="",i="",a={};n&&n.mac_address&&(r=n.mac_address),n&&n.fabric&&(i=n.fabric),n&&n.vlan&&(a=n.vlan),e.newBridgeInterface={name:I("br"),tags:[],parents:t,primary:n,mac_address:r,fabric:i,vlan:a,bridge_stp:!1,bridge_fd:15}}},e.cannotAddBridge=function(){return e.isInterfaceNameInvalid(e.newBridgeInterface)||e.isMACAddressInvalid(e.newBridgeInterface.mac_address)},e.addBridge=function(){if(!e.cannotAddBridge()){var t=[e.newBridgeInterface.primary.id],n=e.newBridgeInterface.mac_address;""===n&&(n=e.newBridgeInterface.primary.mac_address);var r,i=e.newBridgeInterface.vlan;r=angular.isObject(i)?i.id:angular.isObject(e.newBridgeInterface.primary.vlan)?(i=e.newBridgeInterface.primary.vlan).id:null;var a,o=e.newBridgeInterface.subnet;a=angular.isObject(o)?o.id:null;var s={name:e.newBridgeInterface.name,mac_address:n,tags:e.newBridgeInterface.tags.map(function(e){return e.text}),parents:t,bridge_stp:e.newBridgeInterface.bridge_stp,bridge_fd:e.newBridgeInterface.bridge_fd,vlan:r,subnet:a,mode:e.newBridgeInterface.mode,ip_address:e.newBridgeInterface.ip_address};e.$parent.nodesManager.createBridgeInterface(e.node,s).then(null,function(e){f.error(e)});var c=e.interfaces.indexOf(e.newBridgeInterface.primary);c>-1&&e.interfaces.splice(c,1),e.newBridgeInterface={},e.selectedInterfaces=[],e.selectedMode=m.NONE}},e.isShowingCreatePhysical=function(){return e.selectedMode===m.CREATE_PHYSICAL},e.showCreatePhysical=function(){e.selectedMode===m.NONE&&(e.selectedMode=m.CREATE_PHYSICAL,e.$parent.isDevice?e.newInterface={name:I("eth"),mac_address:"",macError:!1,tags:[],errorMsg:null,subnet:null,ip_assignment:b}:e.newInterface={name:I("eth"),mac_address:"",macError:!1,tags:[],errorMsg:null,fabric:e.fabrics[0],vlan:E(e.fabrics[0]),subnet:null,mode:p.LINK_UP})},e.cannotAddPhysicalInterface=function(){return e.isInterfaceNameInvalid(e.newInterface)||e.isMACAddressInvalid(e.newInterface.mac_address,!0)},e.addPhysicalInterface=function(){var t;e.cannotAddPhysicalInterface()||(t=e.$parent.isDevice?{name:e.newInterface.name,mac_address:e.newInterface.mac_address,tags:e.newInterface.tags.map(function(e){return e.text}),ip_assignment:e.newInterface.ip_assignment,ip_address:e.newInterface.ip_address}:{name:e.newInterface.name,tags:e.newInterface.tags.map(function(e){return e.text}),mac_address:e.newInterface.mac_address,vlan:e.newInterface.vlan.id,mode:e.newInterface.mode,ip_address:e.newInterface.ip_address},angular.isObject(e.newInterface.subnet)&&(t.subnet=e.newInterface.subnet.id),e.newInterface.macError=!1,e.newInterface.errorMsg=null,e.$parent.nodesManager.createPhysicalInterface(e.node,t).then(function(){e.newInterface={},e.selectedMode=m.NONE},function(t){var n=l.tryParse(t);if(angular.isObject(n)){var r=n.mac_address;angular.isArray(r)&&(e.newInterface.macError=!0,e.newInterface.errorMsg=r[0])}else f.error(t)}))},c.loadManagers(e,[n,r,i,s,a]).then(function(){o.isDataLoaded("bond_options")||o.loadItems(["bond_options"]),e.managersHaveLoaded=!0,_()}),e.$parent.controllerLoaded("networkingController",e)}Object.defineProperty(t,"__esModule",{value:!0}),t.filterByUnusedForInterface=function(){return function(e,t,n){var r=[];if(!angular.isObject(t)||!angular.isObject(n))return r;var i=[];return angular.forEach(n,function(e){if("vlan"===e.type){var n=e.parents[0];n===t.id&&i.push(e.vlan_id)}}),angular.forEach(e,function(e){var t=i.indexOf(e.id);-1===t&&r.push(e)}),r}},t.removeInterfaceParents=function(){return function(e,t,n){if(n||!angular.isObject(t)||!angular.isArray(t.parents))return e;var r=[];return angular.forEach(e,function(e){var n,i,a=!1;for(n=0;n<t.parents.length;n++)if((i=t.parents[n]).id===e.id&&i.link_id===e.link_id){a=!0;break}a||r.push(e)}),r}},t.removeDefaultVLANIfVLAN=function(){return function(e,t){if(!angular.isString(t))return e;var n=[];return angular.forEach(e,function(e){"vlan"!==t?n.push(e):0!==e.vid&&n.push(e)}),n}},t.filterVLANNotOnFabric=function(){return function(e,t){return angular.isArray(t)?e.filter(function(e){var n=t.indexOf(e.id);return-1!==n}):e}},t.filterEditInterface=function(){return function(e,t){if(!angular.isObject(t))return e;var n=e.filter(function(e){return e.id!==t.id&&function(e,t){if(e.fabric&&t.fabric)return e.fabric.name===t.fabric.name;return!1}(e,t)&&function(e,t){if(e.vlan&&t.vlan)return e.vlan.id===t.vlan.id;return!1}(e,t)});return n}},t.filterSelectedInterfaces=function(){return function(e,t,n){return angular.isArray(t)&&angular.isObject(n)?e.filter(function(e){var r=e.id+"/"+e.link_id;return-1===t.indexOf(r)&&e.fabric.name===n.fabric.name&&e.vlan.id===n.vlan.id}):e}},t.filterLinkModes=function(){return function(e,t){if(!angular.isObject(t))return e;var n=[];if(angular.isFunction(t.getValue)||(t.getValue=function(e){return this[e]}),angular.isObject(t.getValue("subnet"))){var r=t.getValue("links"),i=t.getValue("type"),a=angular.isObject(r)&&r.length>1||"alias"===i;angular.forEach(e,function(e){a&&"link_up"===e.mode||"alias"===i&&"dhcp"===e.mode||n.push(e)})}else angular.forEach(e,function(e){"link_up"===e.mode&&n.push(e)});return n}},t.NodeNetworkingController=r,r.$inject=["$scope","$filter","FabricsManager","VLANsManager","SubnetsManager","ControllersManager","GeneralManager","UsersManager","ManagerHelperService","ValidationService","JSONService","$log"]},function(e,t,n){"use strict";function r(e){e.put("directive/templates/script_status.html",['<span data-ng-class="icon" data-ng-show="show"></span>'].join(""))}Object.defineProperty(t,"__esModule",{value:!0}),t.cacheScriptStatus=r,t.maasScriptStatus=function(){return e.$inject=["$scope"],{restrict:"A",require:"scriptStatus",scope:{scriptStatus:"="},templateUrl:"directive/templates/script_status.html",controller:e};function e(e){function t(){switch(e.show=!0,e.scriptStatus){case 0:e.icon="p-icon--pending";break;case 1:case 7:e.icon="p-icon--running";break;case 2:e.icon="p-icon--pass";break;case 3:case 5:case 6:case 8:e.icon="p-icon--error";break;case 4:e.icon="p-icon--timed-out";break;case 9:e.icon="p-icon--warning";break;case-1:e.show=!1;break;default:e.icon="p-icon--help"}}t(),e.$watch("scriptStatus",function(){t()})}},r.$inject=["$templateCache"]},function(e,t,n){"use strict";function r(e){e.put("directive/templates/script-select.html",['<tags-input data-ng-model="ngModel" placeholder="Select scripts" ','key-property="id" display-property="name" min-length=1','on-tag-adding="onTagAdding($tag)" spellcheck="false"','add-from-autocomplete-only="true" on-tag-removed="refocus()"','on-tag-adding="onTagAdding($tag)" on-tag-added="refocus()">','<auto-complete source="getScripts($query)" min-length="0" ','load-on-down-arrow="true" load-on-focus="true" ','load-on-empty="true" template="script-template" ','max-results-to-show="1000">',"</auto-complete>","</tags-input>",'<script type="text/ng-template" id="script-template">',"<div>","<p>","{{data.name}} {{data.tags_string}}","</p>",'<span class="p-form-help-text">',"{{data.description}}","</span>","</div>","<\/script>"].join(""))}function i(e,t){return{restrict:"A",require:"ngModel",scope:{ngModel:"=",scriptType:"="},templateUrl:"directive/templates/script-select.html",link:function(n,r){n.allScripts=e.getItems(),n.scripts=[],n.getScripts=function(e){return n.scripts.length=0,angular.forEach(n.allScripts,function(t){t.script_type===n.scriptType&&t.name.indexOf(e)>=0&&(t.tags_string="",angular.forEach(t.tags,function(e){""===t.tags_string?t.tags_string="("+e:t.tags_string+=", "+e}),""!==t.tags_string&&(t.tags_string+=")"),n.scripts.push(t))}),{data:n.scripts}},n.onTagAdding=function(e){return void 0!==e.id},n.refocus=function(){var e=r.find("tags-input"),t=e.isolateScope();t.eventHandlers.input.change(""),t.eventHandlers.input.focus(),e.find("input").focus()},angular.isArray(n.ngModel)||(n.ngModel=[]),t.loadManager(n,e).then(function(){n.ngModel.length=0,angular.forEach(n.allScripts,function(e){e.script_type===n.scriptType&&0===e.for_hardware.length&&(0===n.scriptType?n.ngModel.push(e):2===n.scriptType&&e.tags.indexOf("commissioning")>=0&&n.ngModel.push(e))})})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.cacheScriptSelect=r,t.maasScriptSelect=i,i.$inject=["ScriptsManager","ManagerHelperService"],r.$inject=["$templateCache"]},function(e,t,n){"use strict";function r(e){e.put("directive/templates/script_runtime.html",['<span data-ng-if="(scriptStatus === 1 || scriptStatus === 7) &&'," estimatedRunTime !== 'Unknown'\">{{counter}} of ","~{{estimatedRunTime}}</span>",'<span data-ng-if="(scriptStatus === 1 || scriptStatus === 7) &&'," estimatedRunTime == 'Unknown'\">{{counter}}</span>",'<span data-ng-if="scriptStatus === 0 && estimatedRunTime !== ',"'Unknown'\">~{{estimatedRunTime}}</span>",'<span data-ng-if="scriptStatus !== 0 && scriptStatus !== 1 ','&& scriptStatus !== 7">{{runTime}}</span>'].join(""))}Object.defineProperty(t,"__esModule",{value:!0}),t.cacheScriptRuntime=r,t.maasScriptRunTime=function(){return e.$inject=["$scope","$interval"],{restrict:"A",require:["startTime","runTime","estimatedRunTime","scriptStatus"],scope:{startTime:"=",runTime:"@",estimatedRunTime:"@",scriptStatus:"="},templateUrl:"directive/templates/script_runtime.html",controller:e};function e(e,t){function n(){if((1===e.scriptStatus||7===e.scriptStatus)&&e.startTime){var t=Math.floor(Date.now()/1e3-e.startTime),n=Math.floor(t/60),r=Math.floor(n/60),i=Math.floor(r/24);t=t-24*i*60*60-60*(r-=24*i)*60-60*(n=n-24*i*60-60*r);var a="";1===i?a=i+" day, ":i>1&&(a=i+" days, "),a+=r+":",a+=n<10?"0"+n+":":n+":",a+=t<10?"0"+t:t,e.counter=a}}e.counter="0:00:00",n();var r=t(n,1e3);e.$on("$destroy",function(){t.cancel(r)})}},r.$inject=["$templateCache"]},function(e,t,n){"use strict";function r(e){e.put("directive/templates/release-options.html",['<ul class="p-inline-list--settings u-no-margin--top">','<li class="p-inline-list__item">','<input id="diskErase" ','type="checkbox" data-ng-model="maasReleaseOptions.erase" ','data-ng-disabled="globalOptions.erase" ','data-ng-change="onEraseChange()">','<label for="diskErase">',"Erase disks before releasing","</label>","</li>",'<li class="p-inline-list__item">','<input id="secureErase" ','type="checkbox" ','data-ng-model="maasReleaseOptions.secureErase" ','data-ng-disabled="!maasReleaseOptions.erase">','<label for="secureErase">',"Use secure erase","</label>","</li>",'<li class="p-inline-list__item">','<input id="quickErase" type="checkbox" ','data-ng-model="maasReleaseOptions.quickErase" ','data-ng-disabled="!maasReleaseOptions.erase">','<label for="quickErase">',"Use quick erase (not secure)","</label>","</li>","</ul>"].join(""))}function i(e){return{restrict:"A",scope:{maasReleaseOptions:"="},templateUrl:"directive/templates/release-options.html",link:function(t,n,r){t.onEraseChange=function(){t.maasReleaseOptions.erase?(t.maasReleaseOptions.secureErase=t.globalOptions.secure_erase,t.maasReleaseOptions.quickErase=t.globalOptions.quick_erase):(t.maasReleaseOptions.secureErase=!1,t.maasReleaseOptions.quickErase=!1)},t.globalOptions=e.getData("release_options"),t.$watch("globalOptions",function(){angular.isDefined(t.globalOptions.erase)&&(t.maasReleaseOptions.erase=t.globalOptions.erase,t.onEraseChange())},!0)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.cacheReleaseOptions=r,t.maasReleaseOptions=i,i.$inject=["GeneralManager"],r.$inject=["$templateCache"]},function(e,t,n){"use strict";function r(e){e.put("directive/templates/power-parameters.html",'<div class="p-form__group u-clearfix">\n            <label for="power-type"\n                class="p-form__label col-2 mobile-col-2 tablet-col-2"\n                data-ng-class="{\'is-disabled\': !ngModel.editing }">\n                Power type\n            </label>\n            <div class="p-form__control col-3 mobile-col-2 tablet-col-3">\n                <select name="power-type" id="power-type"\n                    data-ng-disabled="ngDisabled || ngModel.in_pod"\n                    data-ng-class="{ invalid: !ngModel.type }"\n                    data-ng-model="ngModel.type"\n                    data-ng-options="type as type.description\n                        for type in maasPowerParameters track by type.name">\n                    <option value="" disabled selected>\n                        Select your power type\n                    </option>\n                </select>\n            </div>\n        </div>\n        <div class="p-form__group u-clearfix"\n            data-ng-repeat="field in ngModel.type.fields">\n            <label for="{$ field.name $}"\n                class="p-form__label col-2 mobile-col-2 tablet-col-2"\n                data-ng-class="{\'is-disabled\': !ngModel.editing }"\n                data-ng-if="field.name !== \'default_storage_pool\' &&\n                    (field.scope !== \'bmc\' || !ngModel.in_pod)">\n                {$ field.label $}\n            </label>\n            <div class="p-form__control col-3 mobile-col-2 tablet-col-3">\n                <maas-power-input field="field"\n                    data-ng-disabled="ngDisabled ||\n                        (field.scope === \'bmc\' && ngModel.in_pod)"\n                    data-ng-if="field.name !== \'default_storage_pool\'\n                        && (field.scope !== \'bmc\' || !ngModel.in_pod)"\n                    data-ng-model="ngModel.parameters[field.name]">\n            </div>\n        </div>')}function i(e){return{restrict:"E",require:"ngModel",scope:{field:"=",ngModel:"="},link:function(t,n,r){var i=t.field.field_type,a=t.field.required?'required="required" ':"",o="";if("string"===i||"mac_address"===i||"password"===i){var s='type="text"';"password"===i&&(s="data-ng-type=\"ngModel.editing && 'text' || 'password'\""),o="<input "+s+' name="'+t.field.name+'" '+a+'data-ng-model="'+r.ngModel+'" data-ng-disabled="'+r.ngDisabled+'" ',"mac_address"===i&&(o+='data-ng-pattern="/^([0-9A-Fa-f]{2}:){5}([0-9A-Fa-f]{2})$/"'),o+=">",angular.isUndefined(t.ngModel)&&(t.ngModel=t.field.default)}else{if("choice"!==i)throw new Error("Unknown power_type: "+i);o='<select name="'+t.field.name+'"'+a+'data-ng-model="'+r.ngModel+'" data-ng-disabled="'+r.ngDisabled+'" data-ng-options="choice[0] as choice[1] for choice in field.choices">',o+="</select>",angular.isUndefined(t.ngModel)&&t.field.default&&(t.ngModel=t.field.default)}n.replaceWith(e(o)(t.$parent))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.cachePowerParameters=r,t.maasPowerInput=i,t.maasPowerParameters=function(){return{restrict:"A",require:"ngModel",scope:{maasPowerParameters:"=",ngModel:"=",ngDisabled:"="},templateUrl:"directive/templates/power-parameters.html"}},i.$inject=["$compile"],r.$inject=["$templateCache"]},function(e,t,n){"use strict";function r(e){e.put("directive/templates/pod-parameters.html",['<maas-obj-field type="options" key="type" label="Pod type" ','placeholder="Select the pod type" ','options="type.name as type.description for type in podTypes" ','label-width="2" label-width-tablet="2" ','input-width="3" input-width-tablet="4" ','ng-if="!hideType">',"</maas-obj-field>","<div pod-fields></div>"].join(""))}function i(e,t,n){return{restrict:"E",require:"^^maasObjForm",scope:{hideType:"="},templateUrl:"directive/templates/pod-parameters.html",link:function(r,i,a,o){r.powerTypes=t.getData("power_types"),r.podTypes=[],r.type=null;var s,c=angular.element(i.find("div[pod-fields]")),u=function(t){var n,i=null;for(n=0;n<r.podTypes.length;n++)r.podTypes[n].name===t&&(i=r.podTypes[n]);if(c.empty(),s&&s.$destroy(),angular.isObject(i)){var u="<maas-obj-field-group>";angular.forEach(i.fields,function(e){"bmc"===e.scope&&("power_pass"===e.name?u+='<maas-obj-field type="password" key="':u+='<maas-obj-field type="text" key="',u+=e.name+'" label="'+e.label+'" label-width="2" label-width-tablet="2" input-width="4" input-width-tablet="3"></maas-obj-field>')}),"virsh"===i.name&&"true"!==a.hideSlider&&(u+='<maas-obj-field type="slider" key="cpu_over_commit_ratio" label="CPU overcommit" min="1" max="10" label-width="2" step=".1" label-width-tablet="2" input-width="4" input-width-tablet="3"></maas-obj-field>',u+='<maas-obj-field type="slider" key="memory_over_commit_ratio" label="Memory overcommit" min="1" max="10" label-width="2" label-width-tablet="2" step=".1" input-width="4" input-width-tablet="3"></maas-obj-field>'),u+="</maas-obj-field-group>",s=r.$new();var l=angular.element(u);c.append(l),e(l)(s,void 0,{maasObjForm:o})}},l=function(){return r.hideType?o.obj.type:o.getValue("type")};r.$watch(l,u),r.$watchCollection("powerTypes",function(){r.podTypes.length=0,angular.forEach(r.powerTypes,function(e){"pod"===e.driver_type&&r.podTypes.push(e)}),u(l())}),n.loadManager(r,t)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.cachePodParameters=r,t.maasPodParameters=i,i.$inject=["$compile","GeneralManager","ManagerHelperService"],r.$inject=["$templateCache"]},function(e,t,n){"use strict";function r(e){e.put("directive/templates/os-select.html",['<label class="p-form__label">Choose your image</label>','<div class="p-form__control"> ','<select name="os" ','data-ng-model="ngModel.osystem" ','data-ng-change="selectedOSChanged()" ','data-ng-disabled="maasOsSelect.osystems.length <= 1" ','data-ng-options="',"os[0] as os[1] disable when ","installKVMSelectedAndNotUbuntu(os) ",'for os in maasOsSelect.osystems">',"</select>",'<select name="release" ','data-ng-model="ngModel.release" ','data-ng-change="selectedReleaseChanged()" ','data-ng-disabled="maasOsSelect.releases.length <= 1" ','data-ng-options="',"release[0] as release[1] disable when osOutdated(release,","deployOptions)",' for release in releases">',"</select>",'<select name="hwe_kernel" data-ng-model="ngModel.hwe_kernel" ','data-ng-show="hwe_kernels.length"','data-ng-options="',"hwe_kernel[0] as hwe_kernel[1] for hwe_kernel ",'in hwe_kernels">','<option value="">Default kernel</option>',"</select>","</div>"].join(""))}function i(e){return t.$inject=["$scope"],{restrict:"A",require:"ngModel",scope:{maasOsSelect:"=",ngModel:"="},templateUrl:"directive/templates/os-select.html",controller:t};function t(t){function n(){if(angular.isObject(t.maasOsSelect)&&angular.isArray(t.maasOsSelect.releases)){var e,n,r=t.maasOsSelect.releases,i=[];for(e=0;e<r.length;e++)(n=r[e])[1].includes("Ubuntu")&&(n[1]=n[1].replace(/Ubuntu/gi,"").trim()),n[0].indexOf(t.ngModel.osystem+"/")>-1&&i.push(n);return i}return[]}function r(){if(angular.isObject(t.maasOsSelect)&&angular.isObject(t.maasOsSelect.kernels)&&angular.isString(t.ngModel.osystem)&&angular.isString(t.ngModel.release)){var e=t.ngModel.osystem,n=t.ngModel.release.split("/")[1],r=t.maasOsSelect.kernels[e];if(angular.isObject(r))return r[n]}return[]}function i(e,t,n){var r,i,a=!1;for(r=0;r<e.length;r++){if(angular.isUndefined(i)&&(i=e[r][0]),e[r][0]===t)return t;angular.isString(n)&&e[r][0]===n&&(a=!0)}return a?n:angular.isUndefined(i)?null:i}function a(){angular.isString(t.ngModel.osystem)&&angular.isString(t.ngModel.release)||angular.isUndefined(t.maasOsSelect.default_osystem)||angular.isUndefined(t.maasOsSelect.default_release)||(t.ngModel.osystem=i(t.maasOsSelect.osystems,t.maasOsSelect.default_osystem,"ubuntu"),t.releases=n(),t.ngModel.release=i(t.releases,t.ngModel.osystem+"/"+t.maasOsSelect.default_release),t.ngModel.kernel="")}angular.isObject(t.ngModel)||(t.ngModel={osystem:null,release:null,hwe_kernel:null}),t.releases=n(),t.hwe_kernels=r(),t.ngModel.$reset=function(){t.ngModel.osystem=null,t.ngModel.release=null,t.ngModel.hwe_kernel=null,a()},t.$watch("maasOsSelect.releases",function(){t.releases=n(),a()}),t.$watch("maasOsSelect.kernels",function(){t.hwe_kernels=r(),a()}),t.selectedOSChanged=function(){if(t.releases=n(),t.ngModel.release=null,t.ngModel.hwe_kernel=null,t.releases.length>0){var e=t.releases[0][0];t.ngModel.release=e}t.hwe_kernels=r()},t.selectedReleaseChanged=function(){t.hwe_kernels=r(),t.ngModel.hwe_kernel=null},t.osOutdated=function(n){return t.$parent.$parent.deployOptions&&t.$parent.$parent.deployOptions.installKVM?!!e.includes(n[0]):!!(t.$parent.$parent.tabs&&t.$parent.$parent.tabs.machines.deployOptions&&t.$parent.$parent.tabs.machines.deployOptions.installKVM)&&!!e.includes(n[0])},t.installKVMSelectedAndNotUbuntu=function(e){return!(!t.$parent.$parent.deployOptions||!t.$parent.$parent.deployOptions.installKVM||"ubuntu"===e[0])||!!(t.$parent.$parent.tabs&&t.$parent.$parent.tabs.machines.deployOptions&&t.$parent.$parent.tabs.machines.deployOptions.installKVM&&"ubuntu"!==e[0])}}}Object.defineProperty(t,"__esModule",{value:!0}),t.cacheOsSelect=r,t.maasOsSelect=i,i.$inject=["KVMDeployOSBlacklist"],r.$inject=["$templateCache"]},function(e,t,n){"use strict";function r(e){e.put("directive/templates/notifications.html",['<div class="" data-ng-repeat="category in categories"',' data-ng-init="notifications = categoryNotifications[category]">','<span class="row" data-ng-if="notifications.length == 1">','<ul class="p-list" data-ng-class="{\'is-open\': shown}">','<li data-ng-repeat="notification in notifications"',' class="p-notification"',' data-ng-class="categoryClasses[notification.category]">','<p class="p-notification__response">','<span data-ng-bind-html="notification.message"></span> ','<a class="p-notification__action"',' data-ng-click="dismiss(notification)">Dismiss</a>',"</p>","</li>","</ul>","</span>",'<div class="row p-notification--group" ','data-ng-if="notifications.length >= 2"',' data-ng-init="shown = false">','<div data-ng-class="categoryClasses[notifications[0].category]">','<a aria-label="{$ notifications.length $} ','{$ categoryTitles[category] $}, click to open messages."',' maas-enter="shown = !shown"',' class="p-notification__toggle"',' data-ng-click="shown = !shown">','<p class="p-notification__response">','<span class="p-notification__status"',' data-count="{$ notifications.length $}"'," data-ng-bind=\"notifications.length + ' ' + ",'categoryTitles[category]"></span>',"<small>","<i data-ng-class=\"{ 'p-icon--expand': !shown,"," 'p-icon--collapse': shown }\"></i></small>","</p>","</a>",'<ul class="p-list--divided" ',"data-ng-class=\"{'u-hide': !shown}\">",'<li data-ng-repeat="notification in notifications"',' class="p-list__item">','<p class="p-notification__response">','<span data-ng-bind-html="notification.message">',"</span> ",'<a class="p-notification__action"',' data-ng-click="dismiss(notification)">Dismiss</a>',"</p>","</li>","</ul>","</div>","</div>","</div>"].join(""))}function i(e,t){return{restrict:"E",templateUrl:"directive/templates/notifications.html",link:function(n,r,i){t.loadManager(n,e),n.notifications=e.getItems(),n.dismiss=angular.bind(e,e.dismiss),n.categories=["error","warning","success","info"],n.categoryTitles={error:"Errors",warning:"Warnings",success:"Successes",info:"Other messages"},n.categoryClasses={error:"p-notification--negative",warning:"p-notification--caution",success:"p-notification--positive",info:"p-notification"},n.categoryNotifications={error:[],warning:[],success:[],info:[]},n.$watchCollection("notifications",function(){var e=n.categoryNotifications;angular.forEach(n.categories,function(t){e[t].length=0}),angular.forEach(n.notifications,function(t){e[t.category].push(t)})})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.cacheNotifications=r,t.maasNotifications=i,i.$inject=["NotificationsManager","ManagerHelperService"],r.$inject=["$templateCache"]},function(e,t,n){"use strict";function r(e){if(e.put("directive/templates/error_overlay.html",['<header id="error-header" class="page-header" data-ng-show="show()">','<div class="row">','<h1 class="page-header__title">','<span class="p-icon--loading u-animation--spin ','u-margin--right-small"','data-ng-hide="clientError"></span>',"{$ getTitle() $}","</h1>",'<div class="page-header__controls">','<button class="button--secondary button--inline"','data-ng-click="reload()"','data-ng-show="clientError">Reload</button>',"</div>",'<div class="page-header__dropdown is-open" ','data-ng-show="error">','<div class="page-header__section>','<p class="page-header__message','page-header__message--error">',"{$ error $}","</p>","</div>","</div>","</div>","</header>",'<div class="ng-hide u-no-margin--top" data-ng-hide="show()">',"<div data-ng-transclude></div>","</div>"].join("")),!angular.isDefined(window.jasmine)){var t=new Image;t.src="static/assets/images/icons/error.svg",(t=new Image).src="static/assets/images/icons/error.png"}}function i(e,t,n,r){return{restrict:"A",transclude:!0,scope:!0,templateUrl:"directive/templates/error_overlay.html",link:function(i,a,o){var s;i.connected=!1,i.showDisconnected=!1,i.clientError=!1,i.wasConnected=!1,i.show=function(){return!!i.clientError||!i.connected&&(!i.wasConnected||i.showDisconnected)},i.getTitle=function(){return i.clientError?"Error occurred":i.wasConnected?"Connection lost, reconnecting...":"Connecting..."},i.reload=function(){e.location.reload()};var c=function(){if(!i.clientError){var e=n.isConnected();e!==i.connected&&(i.connected=e,e||(i.showDisconnected=!1,s=t(function(){i.showDisconnected=!0,s=void 0},500))),i.error=n.error,!i.wasConnected&&e&&(i.wasConnected=!0)}};i.$watch(function(){return n.isConnected()},c),i.$watch(function(){return n.error},c);i.$watch(function(){return r._error},function(){var e=r._error;angular.isString(e)&&(i.clientError=!0,i.error=r._error)}),i.$on("$destroy",function(){angular.isDefined(s)&&t.cancel(s)})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.cacheErrorOverlay=r,t.maasErrorOverlay=i,i.$inject=["$window","$timeout","RegionConnection","ErrorService"],r.$inject=["$templateCache"]},function(e,t,n){"use strict";function r(e){var t=document.createElement("style");t.innerHTML=[".maas-dbl-overlay {","display: inline-block;","position: relative;","}",".maas-dbl-overlay--overlay {","position: absolute;","left: 0;","right: 0;","top: 0;","bottom: 0;","-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;","}"].join(""),document.getElementsByTagName("head")[0].appendChild(t),e.put("directive/templates/double_click_overlay.html",['<div class="maas-dbl-overlay">',"<span data-ng-transclude></span>",'<div class="maas-dbl-overlay--overlay"></div>',"</div>"].join(""))}function i(e){return{restrict:"A",transclude:!0,replace:!0,scope:{maasDblClickOverlay:"&"},templateUrl:"directive/templates/double_click_overlay.html",link:function(t,n,r){var i,a=n.find(".maas-dbl-overlay--overlay"),o=n.find("span[data-ng-transclude]").children()[0];"SELECT"===o.tagName?(i=function(){var e=document.createEvent("MouseEvents");e.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(e)},a.css({cursor:"pointer"})):"INPUT"===o.tagName?(i=function(){angular.element(o).triggerHandler("focus")},a.css({cursor:"text"})):i=function(){angular.element(o).triggerHandler("click")};var s=function(e){i(),e.preventDefault(),e.stopPropagation()},c=function(e){t.$apply(t.maasDblClickOverlay),e.preventDefault(),e.stopPropagation()};"firefox"!==e.browser?(a.on("click",s),a.on("dblclick",c)):a.addClass("ng-hide"),t.$on("$destroy",function(){a.off("click",s),a.off("dblclick",c)})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.cacheDoubleClickOverlay=r,t.maasDblClickOverlay=i,i.$inject=["BrowserService"],r.$inject=["$templateCache"]},function(e,t,n){"use strict";function r(e){e.put("directive/templates/controller-status.html",["<span>",'<span class="p-icon--{$ serviceClass $}" data-ng-if="!textOnly">',"</span>",'<span data-ng-if="textOnly" data-ng-bind="serviceText"></span>',"</span>"].join(""))}function i(e,t){return n.$inject=["$scope"],{restrict:"A",scope:{controller:"=maasControllerStatus",textOnly:"=?maasTextOnly"},templateUrl:"directive/templates/controller-status.html",controller:n};function n(n){function r(e){return"running"===e.status?"success":"degraded"===e.status?"warning":"dead"===e.status?"error":"unknown"}function i(e,t){var n=0;return angular.forEach(e,function(e){e===t&&n++}),n}function a(){if(n.serviceClass="unknown",angular.isObject(n.controller)){var t=e.getServices(n.controller);if(t.length>0){var a=t.map(r);-1!==a.indexOf("error")?(n.serviceClass="power-error",n.serviceText=i(a,"error")+" dead"):-1!==a.indexOf("warning")?(n.serviceClass="warning",n.serviceText=i(a,"warning")+" degraded"):(n.serviceClass="success",n.serviceText=i(a,"success")+" running")}}}n.serviceClass="unknown",n.services=t.getItems(),n.serviceText="",n.textOnly?n.textOnly=!0:n.textOnly=!1,n.$watch("controller.service_ids",a),n.$watch("services",a,!0),a()}}Object.defineProperty(t,"__esModule",{value:!0}),t.cacheControllerStatus=r,t.maasControllerStatus=i,i.$inject=["ControllersManager","ServicesManager"],r.$inject=["$templateCache"]},function(e,t,n){"use strict";function r(e){e.put("directive/templates/cta.html",['<div class="p-cta">','<button class="p-cta__toggle" ','aria-controls="#cta-menu" ','aria-expanded="false" aria-haspopup="true" ','data-ng-click="shown=!shown" ','data-ng-class="{',"'p-button--positive': getTitle() === 'Take action', ","'is-selected': shown}\"",">","{$ getTitle() $}","</button>",'<div class="p-cta__dropdown" id="cta-menu" ','aria-hidden="false" aria-label="submenu" ','data-ng-show="shown"',">",'<span class="p-cta__group"','data-ng-repeat="type in getActionTypes()">','<button class="p-cta__link" ','data-ng-repeat="select in maasCta | ','filter:{ type: type }" ','data-ng-if="showAction(select)" ','data-ng-click="selectItem(select)" ',"data-ng-class=\"{'is-unavailable': ",'selectedItems && select.available == 0}"',">","{$ getOptionTitle(select) $}",'<div class="p-cta__count" ','data-ng-if="showCount(select)">',"<span>{$ select.available $}</span>","</div>","</button>","</span>","</div>","</div>"].join(""))}Object.defineProperty(t,"__esModule",{value:!0}),t.cacheCta=r,t.maasCta=function(){return t.$inject=["$scope","$rootScope","$element","$document"],e.$inject=["scope","element","attrs","ngModelCtrl"],{restrict:"A",replace:!0,require:"ngModel",scope:{maasCta:"=",ngModel:"=",selectedItems:"="},templateUrl:"directive/templates/cta.html",link:e,controller:t};function e(e,t,n,r){var i="Take action";angular.isString(n.defaultTitle)&&""!==n.defaultTitle&&(i=n.defaultTitle),e.selectItem=function(t){e.shown=!1,r.$setViewValue(t)},e.getTitle=function(){if(angular.isObject(r.$modelValue)){var t=r.$modelValue;return e.secondary=!0,angular.isString(t.selectedTitle)?t.selectedTitle:t.title}return e.secondary=!1,i},e.getOptionTitle=function(t){return e.secondary&&angular.isString(t.selectedTitle)?t.selectedTitle:t.title},e.getActionTypes=function(){var t=e.maasCta||[],n=[];return t.forEach(function(e){-1===n.indexOf(e.type)&&n.push(e.type)}),n},e.showAction=function(t){return!(e.selectedItems&&0===t.available&&"lifecycle"!==t.type)},e.showCount=function(t){return e.selectedItems>1&&t.available>0},r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}function t(e,t,n,r){e.shown=!1,e.secondary=!1,n.bind("click",function(e){e.stopPropagation()}),r.find("body").bind("click",function(){t.$apply(e.shown=!1)})}},r.$inject=["$templateCache"]},function(e,t,n){"use strict";function r(e){e.put("directive/templates/action-button.html",['<button data-ng-transclude class="p-action-button" ',"data-ng-class=\"{ 'is-indeterminate': indeterminateState, ","'is-done': doneState }\">","</button>"].join(""))}Object.defineProperty(t,"__esModule",{value:!0}),t.cacheActionButton=r,t.maasActionButton=function(){return{restrict:"E",replace:!0,transclude:!0,scope:{doneState:"<",indeterminateState:"<"},templateUrl:"directive/templates/action-button.html"}},r.$inject=["$templateCache"]},function(e,t,n){"use strict";var r=n(320),i=n(319),a=n(318),o=n(317),s=n(316),c=n(315),u=n(314),l=n(313),f=n(312),d=n(311),h=n(310),p=n(309),g=n(308),m=n(307),b=n(306),v=n(305),y=n(304),_=yt(n(303)),w=n(302),S=n(301),M=n(300),E=n(299),A=yt(n(298)),k=yt(n(297)),I=yt(n(296)),O=yt(n(295)),x=yt(n(294)),P=yt(n(293)),C=n(292),j=yt(n(291)),R=yt(n(290)),D=yt(n(289)),B=yt(n(288)),N=yt(n(287)),T=yt(n(286)),L=yt(n(285)),$=yt(n(284)),U=yt(n(283)),F=yt(n(282)),z=yt(n(281)),q=yt(n(280)),V=yt(n(279)),H=yt(n(278)),K=yt(n(277)),G=yt(n(276)),W=yt(n(275)),Y=yt(n(274)),J=yt(n(273)),X=yt(n(272)),Z=n(271),Q=yt(n(270)),ee=yt(n(269)),te=yt(n(268)),ne=yt(n(267)),re=yt(n(266)),ie=yt(n(265)),ae=yt(n(264)),oe=yt(n(263)),se=yt(n(262)),ce=yt(n(261)),ue=yt(n(260)),le=yt(n(259)),fe=yt(n(258)),de=yt(n(257)),he=yt(n(256)),pe=yt(n(255)),ge=yt(n(254)),me=yt(n(253)),be=yt(n(252)),ve=yt(n(251)),ye=yt(n(250)),_e=yt(n(249)),we=yt(n(248)),Se=yt(n(247)),Me=yt(n(246)),Ee=yt(n(245)),Ae=yt(n(244)),ke=yt(n(243)),Ie=yt(n(242)),Oe=yt(n(241)),xe=yt(n(240)),Pe=n(239),Ce=yt(n(238)),je=yt(n(237)),Re=yt(n(127)),De=yt(n(236)),Be=yt(n(235)),Ne=yt(n(234)),Te=yt(n(233)),Le=yt(n(232)),$e=yt(n(231)),Ue=yt(n(230)),Fe=yt(n(229)),ze=yt(n(228)),qe=yt(n(227)),Ve=yt(n(226)),He=yt(n(225)),Ke=yt(n(224)),Ge=yt(n(223)),We=n(222),Ye=yt(n(221)),Je=yt(n(220)),Xe=yt(n(219)),Ze=yt(n(218)),Qe=yt(n(217)),et=yt(n(216)),tt=yt(n(215)),nt=yt(n(214)),rt=n(213),it=yt(n(212)),at=yt(n(211)),ot=yt(n(210)),st=yt(n(209)),ct=n(208),ut=yt(n(207)),lt=yt(n(206)),ft=yt(n(205)),dt=yt(n(204)),ht=yt(n(203)),pt=yt(n(202)),gt=yt(n(201)),mt=yt(n(200)),bt=yt(n(199)),vt=yt(n(198));function yt(e){return e&&e.__esModule?e:{default:e}}function _t(e,t,n,r,i){function a(e){return e+"?v="+MAAS_config.files_version}r.debugInfoEnabled(!!window.__karma__),e.startSymbol("{$"),e.endSymbol("$}"),i.setDefaults("autoComplete",{minLength:0,loadOnFocus:!0,loadOnEmpty:!0}),n.defaults.xsrfCookieName="csrftoken",n.defaults.xsrfHeaderName="X-CSRFToken",n.useApplyAsync(!0);var o=angular.element("base").attr("href"),s=document.location.pathname;if("/"!==s[s.length-1]&&(s+="/"),s===o){var c=t.when("/intro",{templateUrl:a("static/partials/intro.html"),controller:"IntroController"}).when("/intro/user",{templateUrl:a("static/partials/intro-user.html"),controller:"IntroUserController"}).when("/machines",{templateUrl:a("static/partials/nodes-list.html"),controller:"NodesListController"}).when("/machine/:system_id/:result_type/:id",{templateUrl:a("static/partials/node-result.html"),controller:"NodeResultController"}).when("/machine/:system_id/events",{templateUrl:a("static/partials/node-events.html"),controller:"NodeEventsController"}).when("/machine/:system_id",{templateUrl:a("static/partials/node-details.html"),controller:"NodeDetailsController"}).when("/devices",{templateUrl:a("static/partials/nodes-list.html"),controller:"NodesListController"}).when("/device/:system_id/:result_type/:id",{templateUrl:a("static/partials/node-result.html"),controller:"NodeResultController"}).when("/device/:system_id/events",{templateUrl:a("static/partials/node-events.html"),controller:"NodeEventsController"}).when("/device/:system_id",{templateUrl:a("static/partials/node-details.html"),controller:"NodeDetailsController"}).when("/controllers",{templateUrl:a("static/partials/nodes-list.html"),controller:"NodesListController"}).when("/controller/:system_id/:result_type/:id",{templateUrl:a("static/partials/node-result.html"),controller:"NodeResultController"}).when("/controller/:system_id/events",{templateUrl:a("static/partials/node-events.html"),controller:"NodeEventsController"}).when("/controller/:system_id",{templateUrl:a("static/partials/node-details.html"),controller:"NodeDetailsController"}).when("/nodes",{redirectTo:"/machines"}).when("/node/machine/:system_id",{redirectTo:"/machine/:system_id"}).when("/node/machine/:system_id/:result_type/:id",{redirectTo:"/machine/:system_id/:result_type/:id"}).when("/node/machine/:system_id/events",{redirectTo:"/machine/:system_id/events"}).when("/node/device/:system_id",{redirectTo:"/device/:system_id"}).when("/node/device/:system_id/:result_type/:id",{redirectTo:"/device/:system_id/:result_type/:id"}).when("/node/device/:system_id/events",{redirectTo:"/device/:system_id/events"}).when("/node/controller/:system_id",{redirectTo:"/controller/:system_id"}).when("/node/controller/:system_id/:result_type/:id",{redirectTo:"/controller/:system_id/:result_type/:id"}).when("/node/controller/:system_id/events",{redirectTo:"/controller/:system_id/events"}).when("/pods",{templateUrl:a("static/partials/pods-list.html"),controller:"PodsListController"}).when("/pod/:id",{templateUrl:a("static/partials/pod-details.html"),controller:"PodDetailsController"}).when("/images",{templateUrl:a("static/partials/images.html"),controller:"ImagesController"}).when("/domains",{templateUrl:a("static/partials/domains-list.html"),controller:"DomainsListController"}).when("/domain/:domain_id",{templateUrl:a("static/partials/domain-details.html"),controller:"DomainDetailsController"}).when("/space/:space_id",{templateUrl:a("static/partials/space-details.html"),controller:"SpaceDetailsController"}).when("/fabric/:fabric_id",{templateUrl:a("static/partials/fabric-details.html"),controller:"FabricDetailsController"}).when("/subnets",{redirectTo:"/networks?by=fabric"}).when("/networks",{templateUrl:a("static/partials/networks-list.html"),controller:"NetworksListController",reloadOnSearch:!1}).when("/subnet/:subnet_id",{templateUrl:a("static/partials/subnet-details.html"),controller:"SubnetDetailsController"}).when("/vlan/:vlan_id",{templateUrl:a("static/partials/vlan-details.html"),controller:"VLANDetailsController",controllerAs:"vlanDetails"}).when("/settings/:section",{templateUrl:a("static/partials/settings.html"),controller:"SettingsController"}).when("/zone/:zone_id",{templateUrl:a("static/partials/zone-details.html"),controller:"ZoneDetailsController"}).when("/zones",{templateUrl:a("static/partials/zones-list.html"),controller:"ZonesListController",reloadOnSearch:!1}).when("/pools",{templateUrl:a("static/partials/nodes-list.html"),controller:"NodesListController"});MAAS_config.superuser&&(c=c.when("/dashboard",{templateUrl:a("static/partials/dashboard.html"),controller:"DashboardController"})),c=c.otherwise({redirectTo:"/machines"})}}function wt(e,t){e.$on("$routeChangeStart",function(e,n,r){MAAS_config.completed_intro?MAAS_config.user_completed_intro||"IntroUserController"!==n.controller&&t.path("/intro/user"):"IntroController"!==n.controller&&t.path("/intro")})}function St(e,t){t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=+new Date,t.ga("create","UA-1018242-63","auto",{userId:MAAS_config.analytics_user_id}),t.ga("set","dimension1",MAAS_config.version),t.ga("set","dimension2",MAAS_config.uuid),e.$on("$routeChangeSuccess",function(){var e=t.location.pathname+t.location.hash;t.ga("send","pageview",e)})}St.$inject=["$rootScope","$window"],wt.$inject=["$rootScope","$location"],_t.$inject=["$interpolateProvider","$routeProvider","$httpProvider","$compileProvider","tagsInputConfigProvider"],angular.module("MAAS",["ngRoute","ngCookies","ngSanitize","ngTagsInput","vs-repeat"]).config(_t).run(wt).run(St).run(r.cacheActionButton).run(i.cacheCta).run(a.cacheControllerStatus).run(o.cacheDoubleClickOverlay).run(s.cacheErrorOverlay).run(c.cacheNotifications).run(u.cacheOsSelect).run(l.cachePodParameters).run(f.cachePowerParameters).run(d.cacheReleaseOptions).run(h.cacheScriptRuntime).run(p.cacheScriptSelect).run(g.cacheScriptStatus).filter("filterByUnusedForInterface",m.filterByUnusedForInterface).filter("removeInterfaceParents",m.removeInterfaceParents).filter("removeDefaultVLANIfVLAN",m.removeDefaultVLANIfVLAN).filter("filterLinkModes",m.filterLinkModes).filter("removeAvailableByNew",b.removeAvailableByNew).filter("filterSource",v.filterSource).filter("ignoreSelf",y.ignoreSelf).filter("removeNoDHCP",y.removeNoDHCP).filter("filterByFabric",_.default).filter("filterBySpace",w.filterBySpace).filter("filterByNullSpace",w.filterByNullSpace).filter("filterBySubnet",S.filterBySubnet).filter("filterBySubnetOrVlan",S.filterBySubnetOrVlan).filter("filterByVLAN",M.filterByVLAN).filter("filterControllersByVLAN",M.filterControllersByVLAN).filter("formatBytes",E.formatBytes).filter("convertGigabyteToBytes",E.convertGigabyteToBytes).filter("formatStorageType",A.default).filter("nodesFilter",k.default).filter("orderByDate",I.default).filter("range",O.default).filter("removeDefaultVLAN",x.default).filter("filterEditInterface",m.filterEditInterface).filter("filterSelectedInterfaces",m.filterSelectedInterfaces).filter("filterVLANNotOnFabric",m.filterVLANNotOnFabric).factory("PollingManager",L.default).factory("BootResourcesManager",q.default).factory("ConfigsManager",V.default).factory("ControllersManager",H.default).factory("DevicesManager",K.default).factory("DHCPSnippetsManager",G.default).factory("DiscoveriesManager",W.default).factory("DomainsManager",Y.default).factory("EventsManagerFactory",J.default).factory("FabricsManager",X.default).factory("GeneralManager",Q.default).factory("getBakery",Z.getBakery).factory("IPRangesManager",ee.default).factory("MachinesManager",te.default).factory("NodeResultsManagerFactory",ne.default).factory("NotificationsManager",ie.default).factory("PackageRepositoriesManager",ae.default).factory("ResourcePoolsManager",se.default).factory("ScriptsManager",ce.default).factory("ServicesManager",ue.default).factory("SpacesManager",le.default).factory("SSHKeysManager",fe.default).factory("StaticRoutesManager",de.default).factory("SubnetsManager",he.default).factory("SwitchesManager",pe.default).factory("TagsManager",ge.default).factory("UsersManager",me.default).factory("VLANsManager",be.default).factory("ZonesManager",ve.default).service("BrowserService",P.default).service("ControllerImageStatusService",C.ControllerImageStatusService).service("ConverterService",j.default).service("ErrorService",R.default).service("JSONService",D.default).service("LogService",B.default).service("Manager",N.default).service("ManagerHelperService",T.default).service("NodesManager",re.default).service("KVMDeployOSBlacklist",$.default).service("PodsManager",oe.default).service("RegionConnection",U.default).service("SearchService",F.default).service("ValidationService",z.default).controller("AddDeviceController",ye.default).controller("AddDomainController",_e.default).controller("AddHardwareController",we.default).controller("DashboardController",Se.default).controller("DomainDetailsController",Me.default).controller("DomainsListController",Ee.default).controller("FabricDetailsController",Ae.default).controller("ImagesController",ke.default).controller("IntroUserController",Ie.default).controller("IntroController",Oe.default).controller("NetworksListController",xe.default).controller("NodeNetworkingController",m.NodeNetworkingController).controller("NodeFilesystemsController",Pe.NodeFilesystemsController).controller("NodeAddSpecialFilesystemController",Pe.NodeAddSpecialFilesystemController).controller("NodeStorageController",b.NodeStorageController).controller("NodeDetailsController",Ce.default).controller("NodeEventsController",je.default).controller("NodeResultController",Re.default).controller("NodeResultsController",De.default).controller("NodesListController",Be.default).controller("PodDetailsController",Ne.default).controller("PodsListController",Te.default).controller("PreferencesController",Le.default).controller("SettingsController",$e.default).controller("SpaceDetailsController",Ue.default).controller("SubnetDetailsController",v.SubnetDetailsController).controller("VLANDetailsController",y.VLANDetailsController).controller("ZoneDetailsController",Fe.default).controller("ZonesListController",ze.default).directive("storageDisksPartitions",qe.default).directive("storageFilesystems",Ve.default).directive("addMachine",Ke.default).directive("maasAccordion",Ge.default).directive("maasActionButton",r.maasActionButton).directive("maasBootImagesStatus",We.maasBootImagesStatus).directive("maasBootImages",We.maasBootImages).directive("maasCta",i.maasCta).directive("maasCardLoader",Ye.default).directive("maasCodeLines",Je.default).directive("contenteditable",Xe.default).directive("maasControllerImageStatus",C.maasControllerImageStatus).directive("maasControllerStatus",a.maasControllerStatus).directive("maasDblClickOverlay",o.maasDblClickOverlay).directive("maasDefaultOsSelect",Ze.default).directive("maasEnterBlur",Qe.default).directive("maasEnter",et.default).directive("maasErrorOverlay",s.maasErrorOverlay).directive("maasErrorToggle",tt.default).directive("maasIpRanges",nt.default).directive("externalLogin",Z.externalLogin).directive("maasObjForm",rt.maasObjForm).directive("maasObjFieldGroup",rt.maasObjFieldGroup).directive("maasObjField",rt.maasObjField).directive("maasObjSave",rt.maasObjSave).directive("maasObjErrors",rt.maasObjErrors).directive("maasObjSaving",rt.maasObjSaving).directive("maasObjShowSaving",rt.maasObjShowSaving).directive("maasObjHideSaving",rt.maasObjHideSaving).directive("macAddress",it.default).directive("maasMachinesTable",He.default).directive("maasNavigationDropdown",at.default).directive("maasNavigationMobile",ot.default).directive("maasNotifications",c.maasNotifications).directive("maasOsSelect",u.maasOsSelect).directive("ngPlaceholder",st.default).directive("maasPodParameters",l.maasPodParameters).directive("maasPowerInput",f.maasPowerInput).directive("maasPowerParameters",f.maasPowerParameters).directive("maasPrefKeys",ct.maasPrefKeys).directive("maasPrefKeysInject",ct.maasPrefKeysInject).directive("maasPrefKeysAdd",ct.maasPrefKeysAdd).directive("maasPrefKey",ct.maasPrefKey).directive("maasPrefKeyDelete",ct.maasPrefKeyDelete).directive("maasProxySettings",ut.default).directive("maasReleaseName",lt.default).directive("maasReleaseOptions",d.maasReleaseOptions).directive("pScriptExpander",ft.default).directive("maasScriptResultsList",dt.default).directive("maasScriptRunTime",h.maasScriptRunTime).directive("maasScriptSelect",p.maasScriptSelect).directive("maasScriptStatus",g.maasScriptStatus).directive("maasSshKeys",ht.default).directive("maasSwitchesTable",pt.default).directive("toggleCtrl",gt.default).directive("ngType",mt.default).directive("maasVersionReloader",bt.default).directive("windowWidth",vt.default)},function(e,t,n){"use strict";"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){return e&&"object"===r(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){"use strict";(function(t){var n;n=function(){var e={};function n(e){if(!/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var t,n=unescape(encodeURIComponent(e)),r=new Uint8Array(n.length);for(t=0;t<n.length;t++)r[t]=n.charCodeAt(t);return r},e.encodeUTF8=function(e){var t,n=[];for(t=0;t<e.length;t++)n.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(n.join("")))},"undefined"==typeof atob?void 0!==t.from?(e.encodeBase64=function(e){return t.from(e).toString("base64")},e.decodeBase64=function(e){return n(e),new Uint8Array(Array.prototype.slice.call(t.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new t(e).toString("base64")},e.decodeBase64=function(e){return n(e),new Uint8Array(Array.prototype.slice.call(new t(e,"base64"),0))}):(e.encodeBase64=function(e){var t,n=[],r=e.length;for(t=0;t<r;t++)n.push(String.fromCharCode(e[t]));return btoa(n.join(""))},e.decodeBase64=function(e){n(e);var t,r=atob(e),i=new Uint8Array(r.length);for(t=0;t<r.length;t++)i[t]=r.charCodeAt(t);return i}),e},void 0!==e&&e.exports?e.exports=n():(void 0).nacl?(void 0).nacl.util=n():((void 0).nacl={},(void 0).nacl.util=n())}).call(this,n(7).Buffer)},function(e,t){},function(e,t,n){"use strict";!function(e){var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var o=t(),s=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function g(e,t,n,r,i){var a,o=0;for(a=0;a<i;a++)o|=e[t+a]^n[r+a];return(1&o-1>>>8)-1}function m(e,t,n,r){return g(e,t,n,r,16)}function b(e,t,n,r){return g(e,t,n,r,32)}function v(e,t,n,r){!function(e,t,n,r){for(var i,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,m=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,b=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,v=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,y=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=a,S=o,M=s,E=c,A=u,k=l,I=f,O=d,x=h,P=p,C=g,j=m,R=b,D=v,B=y,N=_,T=0;T<20;T+=2)w^=(i=(R^=(i=(x^=(i=(A^=(i=w+R|0)<<7|i>>>25)+w|0)<<9|i>>>23)+A|0)<<13|i>>>19)+x|0)<<18|i>>>14,k^=(i=(S^=(i=(D^=(i=(P^=(i=k+S|0)<<7|i>>>25)+k|0)<<9|i>>>23)+P|0)<<13|i>>>19)+D|0)<<18|i>>>14,C^=(i=(I^=(i=(M^=(i=(B^=(i=C+I|0)<<7|i>>>25)+C|0)<<9|i>>>23)+B|0)<<13|i>>>19)+M|0)<<18|i>>>14,N^=(i=(j^=(i=(O^=(i=(E^=(i=N+j|0)<<7|i>>>25)+N|0)<<9|i>>>23)+E|0)<<13|i>>>19)+O|0)<<18|i>>>14,w^=(i=(E^=(i=(M^=(i=(S^=(i=w+E|0)<<7|i>>>25)+w|0)<<9|i>>>23)+S|0)<<13|i>>>19)+M|0)<<18|i>>>14,k^=(i=(A^=(i=(O^=(i=(I^=(i=k+A|0)<<7|i>>>25)+k|0)<<9|i>>>23)+I|0)<<13|i>>>19)+O|0)<<18|i>>>14,C^=(i=(P^=(i=(x^=(i=(j^=(i=C+P|0)<<7|i>>>25)+C|0)<<9|i>>>23)+j|0)<<13|i>>>19)+x|0)<<18|i>>>14,N^=(i=(B^=(i=(D^=(i=(R^=(i=N+B|0)<<7|i>>>25)+N|0)<<9|i>>>23)+R|0)<<13|i>>>19)+D|0)<<18|i>>>14;w=w+a|0,S=S+o|0,M=M+s|0,E=E+c|0,A=A+u|0,k=k+l|0,I=I+f|0,O=O+d|0,x=x+h|0,P=P+p|0,C=C+g|0,j=j+m|0,R=R+b|0,D=D+v|0,B=B+y|0,N=N+_|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=S>>>0&255,e[5]=S>>>8&255,e[6]=S>>>16&255,e[7]=S>>>24&255,e[8]=M>>>0&255,e[9]=M>>>8&255,e[10]=M>>>16&255,e[11]=M>>>24&255,e[12]=E>>>0&255,e[13]=E>>>8&255,e[14]=E>>>16&255,e[15]=E>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=k>>>0&255,e[21]=k>>>8&255,e[22]=k>>>16&255,e[23]=k>>>24&255,e[24]=I>>>0&255,e[25]=I>>>8&255,e[26]=I>>>16&255,e[27]=I>>>24&255,e[28]=O>>>0&255,e[29]=O>>>8&255,e[30]=O>>>16&255,e[31]=O>>>24&255,e[32]=x>>>0&255,e[33]=x>>>8&255,e[34]=x>>>16&255,e[35]=x>>>24&255,e[36]=P>>>0&255,e[37]=P>>>8&255,e[38]=P>>>16&255,e[39]=P>>>24&255,e[40]=C>>>0&255,e[41]=C>>>8&255,e[42]=C>>>16&255,e[43]=C>>>24&255,e[44]=j>>>0&255,e[45]=j>>>8&255,e[46]=j>>>16&255,e[47]=j>>>24&255,e[48]=R>>>0&255,e[49]=R>>>8&255,e[50]=R>>>16&255,e[51]=R>>>24&255,e[52]=D>>>0&255,e[53]=D>>>8&255,e[54]=D>>>16&255,e[55]=D>>>24&255,e[56]=B>>>0&255,e[57]=B>>>8&255,e[58]=B>>>16&255,e[59]=B>>>24&255,e[60]=N>>>0&255,e[61]=N>>>8&255,e[62]=N>>>16&255,e[63]=N>>>24&255}(e,t,n,r)}function y(e,t,n,r){!function(e,t,n,r){for(var i,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,m=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,b=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,v=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,y=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=0;w<20;w+=2)a^=(i=(b^=(i=(h^=(i=(u^=(i=a+b|0)<<7|i>>>25)+a|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,l^=(i=(o^=(i=(v^=(i=(p^=(i=l+o|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+v|0)<<18|i>>>14,g^=(i=(f^=(i=(s^=(i=(y^=(i=g+f|0)<<7|i>>>25)+g|0)<<9|i>>>23)+y|0)<<13|i>>>19)+s|0)<<18|i>>>14,_^=(i=(m^=(i=(d^=(i=(c^=(i=_+m|0)<<7|i>>>25)+_|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,a^=(i=(c^=(i=(s^=(i=(o^=(i=a+c|0)<<7|i>>>25)+a|0)<<9|i>>>23)+o|0)<<13|i>>>19)+s|0)<<18|i>>>14,l^=(i=(u^=(i=(d^=(i=(f^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+f|0)<<13|i>>>19)+d|0)<<18|i>>>14,g^=(i=(p^=(i=(h^=(i=(m^=(i=g+p|0)<<7|i>>>25)+g|0)<<9|i>>>23)+m|0)<<13|i>>>19)+h|0)<<18|i>>>14,_^=(i=(y^=(i=(v^=(i=(b^=(i=_+y|0)<<7|i>>>25)+_|0)<<9|i>>>23)+b|0)<<13|i>>>19)+v|0)<<18|i>>>14;e[0]=a>>>0&255,e[1]=a>>>8&255,e[2]=a>>>16&255,e[3]=a>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=g>>>0&255,e[9]=g>>>8&255,e[10]=g>>>16&255,e[11]=g>>>24&255,e[12]=_>>>0&255,e[13]=_>>>8&255,e[14]=_>>>16&255,e[15]=_>>>24&255,e[16]=f>>>0&255,e[17]=f>>>8&255,e[18]=f>>>16&255,e[19]=f>>>24&255,e[20]=d>>>0&255,e[21]=d>>>8&255,e[22]=d>>>16&255,e[23]=d>>>24&255,e[24]=h>>>0&255,e[25]=h>>>8&255,e[26]=h>>>16&255,e[27]=h>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,n,r)}var _=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,n,r,i,a,o){var s,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=a[c];for(;i>=64;){for(v(l,u,o,_),c=0;c<64;c++)e[t+c]=n[r+c]^l[c];for(s=1,c=8;c<16;c++)s=s+(255&u[c])|0,u[c]=255&s,s>>>=8;i-=64,t+=64,r+=64}if(i>0)for(v(l,u,o,_),c=0;c<i;c++)e[t+c]=n[r+c]^l[c];return 0}function S(e,t,n,r,i){var a,o,s=new Uint8Array(16),c=new Uint8Array(64);for(o=0;o<16;o++)s[o]=0;for(o=0;o<8;o++)s[o]=r[o];for(;n>=64;){for(v(c,s,i,_),o=0;o<64;o++)e[t+o]=c[o];for(a=1,o=8;o<16;o++)a=a+(255&s[o])|0,s[o]=255&a,a>>>=8;n-=64,t+=64}if(n>0)for(v(c,s,i,_),o=0;o<n;o++)e[t+o]=c[o];return 0}function M(e,t,n,r,i){var a=new Uint8Array(32);y(a,r,i,_);for(var o=new Uint8Array(8),s=0;s<8;s++)o[s]=r[s+16];return S(e,t,n,o,a)}function E(e,t,n,r,i,a,o){var s=new Uint8Array(32);y(s,a,o,_);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=a[u+16];return w(e,t,n,r,i,c,s)}var A=function(e){var t,n,r,i,a,o,s,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|i<<9),a=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|a<<12),this.r[5]=a>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(a>>>14|o<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(o>>>11|s<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function k(e,t,n,r,i,a){var o=new A(a);return o.update(n,r,i),o.finish(e,t),0}function I(e,t,n,r,i,a){var o=new Uint8Array(16);return k(o,0,n,r,i,a),m(e,t,o,0)}function O(e,t,n,r,i){var a;if(n<32)return-1;for(E(e,0,t,0,n,r,i),k(e,16,e,32,n-32,e),a=0;a<16;a++)e[a]=0;return 0}function x(e,t,n,r,i){var a,o=new Uint8Array(32);if(n<32)return-1;if(M(o,0,32,r,i),0!==I(t,16,t,32,n-32,o))return-1;for(E(e,0,t,0,n,r,i),a=0;a<32;a++)e[a]=0;return 0}function P(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function C(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function j(e,t,n){for(var r,i=~(n-1),a=0;a<16;a++)r=i&(e[a]^t[a]),e[a]^=r,t[a]^=r}function R(e,n){var r,i,a,o=t(),s=t();for(r=0;r<16;r++)s[r]=n[r];for(C(s),C(s),C(s),i=0;i<2;i++){for(o[0]=s[0]-65517,r=1;r<15;r++)o[r]=s[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=s[15]-32767-(o[14]>>16&1),a=o[15]>>16&1,o[14]&=65535,j(s,o,1-a)}for(r=0;r<16;r++)e[2*r]=255&s[r],e[2*r+1]=s[r]>>8}function D(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return R(n,e),R(r,t),b(n,0,r,0)}function B(e){var t=new Uint8Array(32);return R(t,e),1&t[0]}function N(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function T(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function L(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function $(e,t,n){var r,i,a=0,o=0,s=0,c=0,u=0,l=0,f=0,d=0,h=0,p=0,g=0,m=0,b=0,v=0,y=0,_=0,w=0,S=0,M=0,E=0,A=0,k=0,I=0,O=0,x=0,P=0,C=0,j=0,R=0,D=0,B=0,N=n[0],T=n[1],L=n[2],$=n[3],U=n[4],F=n[5],z=n[6],q=n[7],V=n[8],H=n[9],K=n[10],G=n[11],W=n[12],Y=n[13],J=n[14],X=n[15];a+=(r=t[0])*N,o+=r*T,s+=r*L,c+=r*$,u+=r*U,l+=r*F,f+=r*z,d+=r*q,h+=r*V,p+=r*H,g+=r*K,m+=r*G,b+=r*W,v+=r*Y,y+=r*J,_+=r*X,o+=(r=t[1])*N,s+=r*T,c+=r*L,u+=r*$,l+=r*U,f+=r*F,d+=r*z,h+=r*q,p+=r*V,g+=r*H,m+=r*K,b+=r*G,v+=r*W,y+=r*Y,_+=r*J,w+=r*X,s+=(r=t[2])*N,c+=r*T,u+=r*L,l+=r*$,f+=r*U,d+=r*F,h+=r*z,p+=r*q,g+=r*V,m+=r*H,b+=r*K,v+=r*G,y+=r*W,_+=r*Y,w+=r*J,S+=r*X,c+=(r=t[3])*N,u+=r*T,l+=r*L,f+=r*$,d+=r*U,h+=r*F,p+=r*z,g+=r*q,m+=r*V,b+=r*H,v+=r*K,y+=r*G,_+=r*W,w+=r*Y,S+=r*J,M+=r*X,u+=(r=t[4])*N,l+=r*T,f+=r*L,d+=r*$,h+=r*U,p+=r*F,g+=r*z,m+=r*q,b+=r*V,v+=r*H,y+=r*K,_+=r*G,w+=r*W,S+=r*Y,M+=r*J,E+=r*X,l+=(r=t[5])*N,f+=r*T,d+=r*L,h+=r*$,p+=r*U,g+=r*F,m+=r*z,b+=r*q,v+=r*V,y+=r*H,_+=r*K,w+=r*G,S+=r*W,M+=r*Y,E+=r*J,A+=r*X,f+=(r=t[6])*N,d+=r*T,h+=r*L,p+=r*$,g+=r*U,m+=r*F,b+=r*z,v+=r*q,y+=r*V,_+=r*H,w+=r*K,S+=r*G,M+=r*W,E+=r*Y,A+=r*J,k+=r*X,d+=(r=t[7])*N,h+=r*T,p+=r*L,g+=r*$,m+=r*U,b+=r*F,v+=r*z,y+=r*q,_+=r*V,w+=r*H,S+=r*K,M+=r*G,E+=r*W,A+=r*Y,k+=r*J,I+=r*X,h+=(r=t[8])*N,p+=r*T,g+=r*L,m+=r*$,b+=r*U,v+=r*F,y+=r*z,_+=r*q,w+=r*V,S+=r*H,M+=r*K,E+=r*G,A+=r*W,k+=r*Y,I+=r*J,O+=r*X,p+=(r=t[9])*N,g+=r*T,m+=r*L,b+=r*$,v+=r*U,y+=r*F,_+=r*z,w+=r*q,S+=r*V,M+=r*H,E+=r*K,A+=r*G,k+=r*W,I+=r*Y,O+=r*J,x+=r*X,g+=(r=t[10])*N,m+=r*T,b+=r*L,v+=r*$,y+=r*U,_+=r*F,w+=r*z,S+=r*q,M+=r*V,E+=r*H,A+=r*K,k+=r*G,I+=r*W,O+=r*Y,x+=r*J,P+=r*X,m+=(r=t[11])*N,b+=r*T,v+=r*L,y+=r*$,_+=r*U,w+=r*F,S+=r*z,M+=r*q,E+=r*V,A+=r*H,k+=r*K,I+=r*G,O+=r*W,x+=r*Y,P+=r*J,C+=r*X,b+=(r=t[12])*N,v+=r*T,y+=r*L,_+=r*$,w+=r*U,S+=r*F,M+=r*z,E+=r*q,A+=r*V,k+=r*H,I+=r*K,O+=r*G,x+=r*W,P+=r*Y,C+=r*J,j+=r*X,v+=(r=t[13])*N,y+=r*T,_+=r*L,w+=r*$,S+=r*U,M+=r*F,E+=r*z,A+=r*q,k+=r*V,I+=r*H,O+=r*K,x+=r*G,P+=r*W,C+=r*Y,j+=r*J,R+=r*X,y+=(r=t[14])*N,_+=r*T,w+=r*L,S+=r*$,M+=r*U,E+=r*F,A+=r*z,k+=r*q,I+=r*V,O+=r*H,x+=r*K,P+=r*G,C+=r*W,j+=r*Y,R+=r*J,D+=r*X,_+=(r=t[15])*N,o+=38*(S+=r*L),s+=38*(M+=r*$),c+=38*(E+=r*U),u+=38*(A+=r*F),l+=38*(k+=r*z),f+=38*(I+=r*q),d+=38*(O+=r*V),h+=38*(x+=r*H),p+=38*(P+=r*K),g+=38*(C+=r*G),m+=38*(j+=r*W),b+=38*(R+=r*Y),v+=38*(D+=r*J),y+=38*(B+=r*X),a=(r=(a+=38*(w+=r*T))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),o=(r=o+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=(a+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),o=(r=o+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),_=(r=_+i+65535)-65536*(i=Math.floor(r/65536)),a+=i-1+37*(i-1),e[0]=a,e[1]=o,e[2]=s,e[3]=c,e[4]=u,e[5]=l,e[6]=f,e[7]=d,e[8]=h,e[9]=p,e[10]=g,e[11]=m,e[12]=b,e[13]=v,e[14]=y,e[15]=_}function U(e,t){$(e,t,t)}function F(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)U(i,i),2!==r&&4!==r&&$(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function z(e,n,r){var i,a,o=new Uint8Array(32),s=new Float64Array(80),u=t(),l=t(),f=t(),d=t(),h=t(),p=t();for(a=0;a<31;a++)o[a]=n[a];for(o[31]=127&n[31]|64,o[0]&=248,N(s,r),a=0;a<16;a++)l[a]=s[a],d[a]=u[a]=f[a]=0;for(u[0]=d[0]=1,a=254;a>=0;--a)j(u,l,i=o[a>>>3]>>>(7&a)&1),j(f,d,i),T(h,u,f),L(u,u,f),T(f,l,d),L(l,l,d),U(d,h),U(p,u),$(u,f,u),$(f,l,h),T(h,u,f),L(u,u,f),U(l,u),L(f,d,p),$(u,f,c),T(u,u,d),$(f,f,u),$(u,d,p),$(d,l,s),U(l,h),j(u,l,i),j(f,d,i);for(a=0;a<16;a++)s[a+16]=u[a],s[a+32]=f[a],s[a+48]=l[a],s[a+64]=d[a];var g=s.subarray(32),m=s.subarray(16);return F(g,g),$(m,m,g),R(e,m),0}function q(e,t){return z(e,t,a)}function V(e,t){return r(t,32),q(e,t)}function H(e,t,n){var r=new Uint8Array(32);return z(r,n,t),y(e,i,r,_)}A.prototype.blocks=function(e,t,n){for(var r,i,a,o,s,c,u,l,f,d,h,p,g,m,b,v,y,_,w,S=this.fin?0:2048,M=this.h[0],E=this.h[1],A=this.h[2],k=this.h[3],I=this.h[4],O=this.h[5],x=this.h[6],P=this.h[7],C=this.h[8],j=this.h[9],R=this.r[0],D=this.r[1],B=this.r[2],N=this.r[3],T=this.r[4],L=this.r[5],$=this.r[6],U=this.r[7],F=this.r[8],z=this.r[9];n>=16;)M+=8191&(r=255&e[t+0]|(255&e[t+1])<<8),E+=8191&(r>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3),A+=8191&(i>>>10|(a=255&e[t+4]|(255&e[t+5])<<8)<<6),k+=8191&(a>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9),I+=8191&(o>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12),O+=s>>>1&8191,x+=8191&(s>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2),P+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5),l=255&e[t+14]|(255&e[t+15])<<8,d=f=0,d+=M*R,d+=E*(5*z),d+=A*(5*F),d+=k*(5*U),f=(d+=I*(5*$))>>>13,d&=8191,d+=O*(5*L),d+=x*(5*T),d+=P*(5*N),d+=(C+=8191&(u>>>8|l<<8))*(5*B),h=f+=(d+=(j+=l>>>5|S)*(5*D))>>>13,h+=M*D,h+=E*R,h+=A*(5*z),h+=k*(5*F),f=(h+=I*(5*U))>>>13,h&=8191,h+=O*(5*$),h+=x*(5*L),h+=P*(5*T),h+=C*(5*N),f+=(h+=j*(5*B))>>>13,h&=8191,p=f,p+=M*B,p+=E*D,p+=A*R,p+=k*(5*z),f=(p+=I*(5*F))>>>13,p&=8191,p+=O*(5*U),p+=x*(5*$),p+=P*(5*L),p+=C*(5*T),g=f+=(p+=j*(5*N))>>>13,g+=M*N,g+=E*B,g+=A*D,g+=k*R,f=(g+=I*(5*z))>>>13,g&=8191,g+=O*(5*F),g+=x*(5*U),g+=P*(5*$),g+=C*(5*L),m=f+=(g+=j*(5*T))>>>13,m+=M*T,m+=E*N,m+=A*B,m+=k*D,f=(m+=I*R)>>>13,m&=8191,m+=O*(5*z),m+=x*(5*F),m+=P*(5*U),m+=C*(5*$),b=f+=(m+=j*(5*L))>>>13,b+=M*L,b+=E*T,b+=A*N,b+=k*B,f=(b+=I*D)>>>13,b&=8191,b+=O*R,b+=x*(5*z),b+=P*(5*F),b+=C*(5*U),v=f+=(b+=j*(5*$))>>>13,v+=M*$,v+=E*L,v+=A*T,v+=k*N,f=(v+=I*B)>>>13,v&=8191,v+=O*D,v+=x*R,v+=P*(5*z),v+=C*(5*F),y=f+=(v+=j*(5*U))>>>13,y+=M*U,y+=E*$,y+=A*L,y+=k*T,f=(y+=I*N)>>>13,y&=8191,y+=O*B,y+=x*D,y+=P*R,y+=C*(5*z),_=f+=(y+=j*(5*F))>>>13,_+=M*F,_+=E*U,_+=A*$,_+=k*L,f=(_+=I*T)>>>13,_&=8191,_+=O*N,_+=x*B,_+=P*D,_+=C*R,w=f+=(_+=j*(5*z))>>>13,w+=M*z,w+=E*F,w+=A*U,w+=k*$,f=(w+=I*L)>>>13,w&=8191,w+=O*T,w+=x*N,w+=P*B,w+=C*D,M=d=8191&(f=(f=((f+=(w+=j*R)>>>13)<<2)+f|0)+(d&=8191)|0),E=h+=f>>>=13,A=p&=8191,k=g&=8191,I=m&=8191,O=b&=8191,x=v&=8191,P=y&=8191,C=_&=8191,j=w&=8191,t+=16,n-=16;this.h[0]=M,this.h[1]=E,this.h[2]=A,this.h[3]=k,this.h[4]=I,this.h[5]=O,this.h[6]=x,this.h[7]=P,this.h[8]=C,this.h[9]=j},A.prototype.finish=function(e,t){var n,r,i,a,o=new Uint16Array(10);if(this.leftover){for(a=this.leftover,this.buffer[a++]=1;a<16;a++)this.buffer[a]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,a=2;a<10;a++)this.h[a]+=n,n=this.h[a]>>>13,this.h[a]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,o[0]=this.h[0]+5,n=o[0]>>>13,o[0]&=8191,a=1;a<10;a++)o[a]=this.h[a]+n,n=o[a]>>>13,o[a]&=8191;for(o[9]-=8192,r=(1^n)-1,a=0;a<10;a++)o[a]&=r;for(r=~r,a=0;a<10;a++)this.h[a]=this.h[a]&r|o[a];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,a=1;a<8;a++)i=(this.h[a]+this.pad[a]|0)+(i>>>16)|0,this.h[a]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},A.prototype.update=function(e,t,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(e,t,i),t+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var K=O,G=x;var W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(e,t,n,r){for(var i,a,o,s,c,u,l,f,d,h,p,g,m,b,v,y,_,w,S,M,E,A,k,I,O,x,P=new Int32Array(16),C=new Int32Array(16),j=e[0],R=e[1],D=e[2],B=e[3],N=e[4],T=e[5],L=e[6],$=e[7],U=t[0],F=t[1],z=t[2],q=t[3],V=t[4],H=t[5],K=t[6],G=t[7],Y=0;r>=128;){for(S=0;S<16;S++)M=8*S+Y,P[S]=n[M+0]<<24|n[M+1]<<16|n[M+2]<<8|n[M+3],C[S]=n[M+4]<<24|n[M+5]<<16|n[M+6]<<8|n[M+7];for(S=0;S<80;S++)if(i=j,a=R,o=D,s=B,c=N,u=T,l=L,f=$,d=U,h=F,p=z,g=q,m=V,b=H,v=K,y=G,k=65535&(A=G),I=A>>>16,O=65535&(E=$),x=E>>>16,k+=65535&(A=(V>>>14|N<<18)^(V>>>18|N<<14)^(N>>>9|V<<23)),I+=A>>>16,O+=65535&(E=(N>>>14|V<<18)^(N>>>18|V<<14)^(V>>>9|N<<23)),x+=E>>>16,k+=65535&(A=V&H^~V&K),I+=A>>>16,O+=65535&(E=N&T^~N&L),x+=E>>>16,E=W[2*S],k+=65535&(A=W[2*S+1]),I+=A>>>16,O+=65535&E,x+=E>>>16,E=P[S%16],I+=(A=C[S%16])>>>16,O+=65535&E,x+=E>>>16,O+=(I+=(k+=65535&A)>>>16)>>>16,k=65535&(A=w=65535&k|I<<16),I=A>>>16,O=65535&(E=_=65535&O|(x+=O>>>16)<<16),x=E>>>16,k+=65535&(A=(U>>>28|j<<4)^(j>>>2|U<<30)^(j>>>7|U<<25)),I+=A>>>16,O+=65535&(E=(j>>>28|U<<4)^(U>>>2|j<<30)^(U>>>7|j<<25)),x+=E>>>16,I+=(A=U&F^U&z^F&z)>>>16,O+=65535&(E=j&R^j&D^R&D),x+=E>>>16,f=65535&(O+=(I+=(k+=65535&A)>>>16)>>>16)|(x+=O>>>16)<<16,y=65535&k|I<<16,k=65535&(A=g),I=A>>>16,O=65535&(E=s),x=E>>>16,I+=(A=w)>>>16,O+=65535&(E=_),x+=E>>>16,R=i,D=a,B=o,N=s=65535&(O+=(I+=(k+=65535&A)>>>16)>>>16)|(x+=O>>>16)<<16,T=c,L=u,$=l,j=f,F=d,z=h,q=p,V=g=65535&k|I<<16,H=m,K=b,G=v,U=y,S%16==15)for(M=0;M<16;M++)E=P[M],k=65535&(A=C[M]),I=A>>>16,O=65535&E,x=E>>>16,E=P[(M+9)%16],k+=65535&(A=C[(M+9)%16]),I+=A>>>16,O+=65535&E,x+=E>>>16,_=P[(M+1)%16],k+=65535&(A=((w=C[(M+1)%16])>>>1|_<<31)^(w>>>8|_<<24)^(w>>>7|_<<25)),I+=A>>>16,O+=65535&(E=(_>>>1|w<<31)^(_>>>8|w<<24)^_>>>7),x+=E>>>16,_=P[(M+14)%16],I+=(A=((w=C[(M+14)%16])>>>19|_<<13)^(_>>>29|w<<3)^(w>>>6|_<<26))>>>16,O+=65535&(E=(_>>>19|w<<13)^(w>>>29|_<<3)^_>>>6),x+=E>>>16,x+=(O+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,P[M]=65535&O|x<<16,C[M]=65535&k|I<<16;k=65535&(A=U),I=A>>>16,O=65535&(E=j),x=E>>>16,E=e[0],I+=(A=t[0])>>>16,O+=65535&E,x+=E>>>16,x+=(O+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,e[0]=j=65535&O|x<<16,t[0]=U=65535&k|I<<16,k=65535&(A=F),I=A>>>16,O=65535&(E=R),x=E>>>16,E=e[1],I+=(A=t[1])>>>16,O+=65535&E,x+=E>>>16,x+=(O+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,e[1]=R=65535&O|x<<16,t[1]=F=65535&k|I<<16,k=65535&(A=z),I=A>>>16,O=65535&(E=D),x=E>>>16,E=e[2],I+=(A=t[2])>>>16,O+=65535&E,x+=E>>>16,x+=(O+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,e[2]=D=65535&O|x<<16,t[2]=z=65535&k|I<<16,k=65535&(A=q),I=A>>>16,O=65535&(E=B),x=E>>>16,E=e[3],I+=(A=t[3])>>>16,O+=65535&E,x+=E>>>16,x+=(O+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,e[3]=B=65535&O|x<<16,t[3]=q=65535&k|I<<16,k=65535&(A=V),I=A>>>16,O=65535&(E=N),x=E>>>16,E=e[4],I+=(A=t[4])>>>16,O+=65535&E,x+=E>>>16,x+=(O+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,e[4]=N=65535&O|x<<16,t[4]=V=65535&k|I<<16,k=65535&(A=H),I=A>>>16,O=65535&(E=T),x=E>>>16,E=e[5],I+=(A=t[5])>>>16,O+=65535&E,x+=E>>>16,x+=(O+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,e[5]=T=65535&O|x<<16,t[5]=H=65535&k|I<<16,k=65535&(A=K),I=A>>>16,O=65535&(E=L),x=E>>>16,E=e[6],I+=(A=t[6])>>>16,O+=65535&E,x+=E>>>16,x+=(O+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,e[6]=L=65535&O|x<<16,t[6]=K=65535&k|I<<16,k=65535&(A=G),I=A>>>16,O=65535&(E=$),x=E>>>16,E=e[7],I+=(A=t[7])>>>16,O+=65535&E,x+=E>>>16,x+=(O+=(I+=(k+=65535&A)>>>16)>>>16)>>>16,e[7]=$=65535&O|x<<16,t[7]=G=65535&k|I<<16,Y+=128,r-=128}return r}function J(e,t,n){var r,i=new Int32Array(8),a=new Int32Array(8),o=new Uint8Array(256),s=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,a[0]=4089235720,a[1]=2227873595,a[2]=4271175723,a[3]=1595750129,a[4]=2917565137,a[5]=725511199,a[6]=4215389547,a[7]=327033209,Y(i,a,t,n),n%=128,r=0;r<n;r++)o[r]=t[s-n+r];for(o[n]=128,o[(n=256-128*(n<112?1:0))-9]=0,p(o,n-8,s/536870912|0,s<<3),Y(i,a,o,n),r=0;r<8;r++)p(e,8*r,i[r],a[r]);return 0}function X(e,n){var r=t(),i=t(),a=t(),o=t(),s=t(),c=t(),u=t(),f=t(),d=t();L(r,e[1],e[0]),L(d,n[1],n[0]),$(r,r,d),T(i,e[0],e[1]),T(d,n[0],n[1]),$(i,i,d),$(a,e[3],n[3]),$(a,a,l),$(o,e[2],n[2]),T(o,o,o),L(s,i,r),L(c,o,a),T(u,o,a),T(f,i,r),$(e[0],s,c),$(e[1],f,u),$(e[2],u,c),$(e[3],s,f)}function Z(e,t,n){var r;for(r=0;r<4;r++)j(e[r],t[r],n)}function Q(e,n){var r=t(),i=t(),a=t();F(a,n[2]),$(r,n[0],a),$(i,n[1],a),R(e,i),e[31]^=B(r)<<7}function ee(e,t,n){var r,i;for(P(e[0],o),P(e[1],s),P(e[2],s),P(e[3],o),i=255;i>=0;--i)Z(e,t,r=n[i/8|0]>>(7&i)&1),X(t,e),X(e,e),Z(e,t,r)}function te(e,n){var r=[t(),t(),t(),t()];P(r[0],f),P(r[1],d),P(r[2],s),$(r[3],f,d),ee(e,r,n)}function ne(e,n,i){var a,o=new Uint8Array(64),s=[t(),t(),t(),t()];for(i||r(n,32),J(o,n,32),o[0]&=248,o[31]&=127,o[31]|=64,te(s,o),Q(e,s),a=0;a<32;a++)n[a+32]=e[a];return 0}var re=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var n,r,i,a;for(r=63;r>=32;--r){for(n=0,i=r-32,a=r-12;i<a;++i)t[i]+=n-16*t[r]*re[i-(r-32)],n=t[i]+128>>8,t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*re[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*re[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function ae(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,n)}function oe(e,n,r,i){var a,o,s=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),f=[t(),t(),t(),t()];J(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var d=r+64;for(a=0;a<r;a++)e[64+a]=n[a];for(a=0;a<32;a++)e[32+a]=s[32+a];for(J(u,e.subarray(32),r+32),ae(u),te(f,u),Q(e,f),a=32;a<64;a++)e[a]=i[a];for(J(c,e,r+64),ae(c),a=0;a<64;a++)l[a]=0;for(a=0;a<32;a++)l[a]=u[a];for(a=0;a<32;a++)for(o=0;o<32;o++)l[a+o]+=c[a]*s[o];return ie(e.subarray(32),l),d}function se(e,n){var r=t(),i=t(),a=t(),c=t(),l=t(),f=t(),d=t();return P(e[2],s),N(e[1],n),U(a,e[1]),$(c,a,u),L(a,a,e[2]),T(c,e[2],c),U(l,c),U(f,l),$(d,f,l),$(r,d,a),$(r,r,c),function(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=250;r>=0;r--)U(i,i),1!==r&&$(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}(r,r),$(r,r,a),$(r,r,c),$(r,r,c),$(e[0],r,c),U(i,e[0]),$(i,i,c),D(i,a)&&$(e[0],e[0],h),U(i,e[0]),$(i,i,c),D(i,a)?-1:(B(e[0])===n[31]>>7&&L(e[0],o,e[0]),$(e[3],e[0],e[1]),0)}function ce(e,n,r,i){var a,o=new Uint8Array(32),s=new Uint8Array(64),c=[t(),t(),t(),t()],u=[t(),t(),t(),t()];if(-1,r<64)return-1;if(se(u,i))return-1;for(a=0;a<r;a++)e[a]=n[a];for(a=0;a<32;a++)e[a+32]=i[a];if(J(s,e,r),ae(s),ee(c,u,s),te(u,n.subarray(32)),X(c,u),Q(o,c),r-=64,b(n,0,o,0)){for(a=0;a<r;a++)e[a]=0;return-1}for(a=0;a<r;a++)e[a]=n[a+64];return r}var ue=32,le=24,fe=32,de=32,he=le;function pe(e,t){if(e.length!==ue)throw new Error("bad key size");if(t.length!==le)throw new Error("bad nonce size")}function ge(){var e,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(e=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+e+", use Uint8Array")}function me(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:y,crypto_stream_xor:E,crypto_stream:M,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:S,crypto_onetimeauth:k,crypto_onetimeauth_verify:I,crypto_verify_16:m,crypto_verify_32:b,crypto_secretbox:O,crypto_secretbox_open:x,crypto_scalarmult:z,crypto_scalarmult_base:q,crypto_box_beforenm:H,crypto_box_afternm:K,crypto_box:function(e,t,n,r,i,a){var o=new Uint8Array(32);return H(o,i,a),K(e,t,n,r,o)},crypto_box_open:function(e,t,n,r,i,a){var o=new Uint8Array(32);return H(o,i,a),G(e,t,n,r,o)},crypto_box_keypair:V,crypto_hash:J,crypto_sign:oe,crypto_sign_keypair:ne,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:ue,crypto_secretbox_NONCEBYTES:le,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:fe,crypto_box_SECRETKEYBYTES:de,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:he,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},e.util||(e.util={},e.util.decodeUTF8=e.util.encodeUTF8=e.util.encodeBase64=e.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,n){ge(e,t,n),pe(n,t);for(var r=new Uint8Array(32+e.length),i=new Uint8Array(r.length),a=0;a<e.length;a++)r[a+32]=e[a];return O(i,r,r.length,t,n),i.subarray(16)},e.secretbox.open=function(e,t,n){ge(e,t,n),pe(n,t);for(var r=new Uint8Array(16+e.length),i=new Uint8Array(r.length),a=0;a<e.length;a++)r[a+16]=e[a];return!(r.length<32)&&(0===x(i,r,r.length,t,n)&&i.subarray(32))},e.secretbox.keyLength=ue,e.secretbox.nonceLength=le,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(ge(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return z(n,e,t),n},e.scalarMult.base=function(e){if(ge(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return q(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,r,i){var a=e.box.before(r,i);return e.secretbox(t,n,a)},e.box.before=function(e,t){ge(e,t),function(e,t){if(e.length!==fe)throw new Error("bad public key size");if(t.length!==de)throw new Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return H(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,i){var a=e.box.before(r,i);return e.secretbox.open(t,n,a)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(fe),t=new Uint8Array(de);return V(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(ge(e),e.length!==de)throw new Error("bad secret key size");var t=new Uint8Array(fe);return q(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=fe,e.box.secretKeyLength=de,e.box.sharedKeyLength=32,e.box.nonceLength=he,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(ge(e,t),64!==t.length)throw new Error("bad secret key size");var n=new Uint8Array(64+e.length);return oe(n,e,e.length,t),n},e.sign.open=function(e,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(ge(e,t),32!==t.length)throw new Error("bad public key size");var n=new Uint8Array(e.length),r=ce(n,e,e.length,t);if(r<0)return null;for(var i=new Uint8Array(r),a=0;a<i.length;a++)i[a]=n[a];return i},e.sign.detached=function(t,n){for(var r=e.sign(t,n),i=new Uint8Array(64),a=0;a<i.length;a++)i[a]=r[a];return i},e.sign.detached.verify=function(e,t,n){if(ge(e,t,n),64!==t.length)throw new Error("bad signature size");if(32!==n.length)throw new Error("bad public key size");var r,i=new Uint8Array(64+e.length),a=new Uint8Array(64+e.length);for(r=0;r<64;r++)i[r]=t[r];for(r=0;r<e.length;r++)i[r+64]=e[r];return ce(a,i,i.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return ne(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(ge(e),64!==e.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(ge(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),n=new Uint8Array(64),r=0;r<32;r++)n[r]=e[r];return ne(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){ge(e);var t=new Uint8Array(64);return J(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return ge(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===g(e,0,t,0,e.length))},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG(function(e,n){var r,i=new Uint8Array(n);for(r=0;r<n;r+=65536)t.getRandomValues(i.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)e[r]=i[r];me(i)})}else(t=n(325))&&t.randomBytes&&e.setPRNG(function(e,n){var r,i=t.randomBytes(n);for(r=0;r<n;r++)e[r]=i[r];me(i)})}()}(void 0!==e&&e.exports?e.exports:self.nacl=self.nacl||{})},function(e,t,n){"use strict";(function(e,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var a=n(5),o=n(54),s=a.Buffer,c=a.kMaxLength,u=e.crypto||e.msCrypto,l=Math.pow(2,32)-1;function f(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>l||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function d(e,t,n){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>l||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>c)throw new RangeError("buffer too small")}function h(e,t,n,i){if(r.browser){var a=e.buffer,s=new Uint8Array(a,t,n);return u.getRandomValues(s),i?void r.nextTick(function(){i(null,e)}):e}if(!i)return o(n).copy(e,t),e;o(n,function(n,r){if(n)return i(n);r.copy(e,t),i(null,e)})}u&&u.getRandomValues||!r.browser?(t.randomFill=function(t,n,r,i){if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)i=n,n=0,r=t.length;else if("function"==typeof r)i=r,r=t.length-n;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return f(n,t.length),d(r,n,t.length),h(t,n,r,i)},t.randomFillSync=function(t,n,r){void 0===n&&(n=0);if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');f(n,t.length),void 0===r&&(r=t.length-n);return d(r,n,t.length),h(t,n,r)}):(t.randomFill=i,t.randomFillSync=i)}).call(this,n(24),n(35))},function(e,t,n){"use strict";(function(t){var r=n(68),i=n(131),a=n(130),o=n(12),s=n(89),c=n(64),u=n(129);e.exports=function(e,n,l){var f;f=e.padding?e.padding:l?1:4;var d,h=r(e),p=h.modulus.byteLength();if(n.length>p||new o(n).cmp(h.modulus)>=0)throw new Error("decryption error");d=l?u(new o(n),h):s(n,h);var g=new t(p-d.length);if(g.fill(0),d=t.concat([g,d],p),4===f)return function(e,n){e.modulus;var r=e.modulus.byteLength(),o=(n.length,c("sha1").update(new t("")).digest()),s=o.length;if(0!==n[0])throw new Error("decryption error");var u=n.slice(1,s+1),l=n.slice(s+1),f=a(u,i(l,s)),d=a(l,i(f,r-s-1));if(function(e,n){e=new t(e),n=new t(n);var r=0,i=e.length;e.length!==n.length&&(r++,i=Math.min(e.length,n.length));var a=-1;for(;++a<i;)r+=e[a]^n[a];return r}(o,d.slice(0,s)))throw new Error("decryption error");var h=s;for(;0===d[h];)h++;if(1!==d[h++])throw new Error("decryption error");return d.slice(h)}(h,d);if(1===f)return function(e,t,n){var r=t.slice(0,2),i=2,a=0;for(;0!==t[i++];)if(i>=t.length){a++;break}var o=t.slice(2,i-1);t.slice(i-1,i);("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&a++;o.length<8&&a++;if(a)throw new Error("decryption error");return t.slice(i)}(0,d,l);if(3===f)return d;throw new Error("unknown padding")}}).call(this,n(7).Buffer)},function(e,t,n){"use strict";(function(t){var r=n(68),i=n(54),a=n(64),o=n(131),s=n(130),c=n(12),u=n(129),l=n(89);e.exports=function(e,n,f){var d;d=e.padding?e.padding:f?1:4;var h,p=r(e);if(4===d)h=function(e,n){var r=e.modulus.byteLength(),u=n.length,l=a("sha1").update(new t("")).digest(),f=l.length,d=2*f;if(u>r-d-2)throw new Error("message too long");var h=new t(r-u-d-2);h.fill(0);var p=r-f-1,g=i(f),m=s(t.concat([l,h,new t([1]),n],p),o(g,p)),b=s(g,o(m,f));return new c(t.concat([new t([0]),b,m],r))}(p,n);else if(1===d)h=function(e,n,r){var a,o=n.length,s=e.modulus.byteLength();if(o>s-11)throw new Error("message too long");r?(a=new t(s-o-3)).fill(255):a=function(e,n){var r,a=new t(e),o=0,s=i(2*e),c=0;for(;o<e;)c===s.length&&(s=i(2*e),c=0),(r=s[c++])&&(a[o++]=r);return a}(s-o-3);return new c(t.concat([new t([0,r?1:2]),a,new t([0]),n],s))}(p,n,f);else{if(3!==d)throw new Error("unknown padding");if((h=new c(n)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return f?l(h,p):u(h,p)}}).call(this,n(7).Buffer)},function(e,t,n){"use strict";t.publicEncrypt=n(329),t.privateDecrypt=n(328),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},function(e,t,n){"use strict";(function(t){var r=n(15),i=n(12);e.exports=function(e){return new o(e)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(e){this.curveType=a[e],this.curveType||(this.curveType={name:e}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function s(e,n,r){Array.isArray(e)||(e=e.toArray());var i=new t(e);if(r&&i.length<r){var a=new t(r-i.length);a.fill(0),i=t.concat([a,i])}return n?i.toString(n):i}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,o.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},o.prototype.computeSecret=function(e,n,r){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},o.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,e)},o.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},o.prototype.setPublicKey=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.keys._importPublic(e),this},o.prototype.setPrivateKey=function(e,n){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));var r=new i(e);return r=r.toString(16),this.keys._importPrivate(r),this}}).call(this,n(7).Buffer)},function(e,t,n){"use strict";(function(t){var r=n(12),i=n(15).ec,a=n(68),o=n(132);function s(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,n,c,u,l){var f=a(c);if("ec"===f.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,n){var r=o[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var a=new i(r),s=n.data.subjectPrivateKey.data;return a.verify(t,e,s)}(e,n,f)}if("dsa"===f.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,t,n){var i=n.data.p,o=n.data.q,c=n.data.g,u=n.data.pub_key,l=a.signature.decode(e,"der"),f=l.s,d=l.r;s(f,o),s(d,o);var h=r.mont(i),p=f.invm(o);return 0===c.toRed(h).redPow(new r(t).mul(p).mod(o)).fromRed().mul(u.toRed(h).redPow(d.mul(p).mod(o)).fromRed()).mod(i).mod(o).cmp(d)}(e,n,f)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");n=t.concat([l,n]);for(var d=f.modulus.byteLength(),h=[1],p=0;n.length+h.length+2<d;)h.push(255),p++;h.push(0);for(var g=-1;++g<n.length;)h.push(n[g]);h=new t(h);var m=r.mont(f.modulus);e=(e=new r(e).toRed(m)).redPow(new r(f.publicExponent)),e=new t(e.fromRed().toArray());var b=p<8?1:0;for(d=Math.min(e.length,h.length),e.length!==h.length&&(b=1),g=-1;++g<d;)b|=e[g]^h[g];return 0===b}}).call(this,n(7).Buffer)},function(e,t,n){"use strict";(function(t){var r=/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m,i=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n/m,a=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?-----END \1-----$/m,o=n(71),s=n(92);e.exports=function(e,n){var c,u=e.toString(),l=u.match(r);if(l){var f="aes"+l[1],d=new t(l[2],"hex"),h=new t(l[3].replace(/\r?\n/g,""),"base64"),p=o(n,d.slice(0,8),parseInt(l[1],10)).key,g=[],m=s.createDecipheriv(f,p,d);g.push(m.update(h)),g.push(m.final()),c=t.concat(g)}else{var b=u.match(a);c=new t(b[2].replace(/\r?\n/g,""),"base64")}return{tag:u.match(i)[1],data:c}}}).call(this,n(7).Buffer)},function(e){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(e,t,n){"use strict";var r=n(60),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),s=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),c=r.define("RelativeDistinguishedName",function(){this.setof(a)}),u=r.define("RDNSequence",function(){this.seqof(c)}),l=r.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),f=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),d=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),h=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(l),this.key("validity").use(f),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),p=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});e.exports=p},function(e,t,n){"use strict";var r=n(1),i=n(133);function a(e){i.call(this,e),this.enc="pem"}r(a,i),e.exports=a,a.prototype.encode=function(e,t){for(var n=i.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"],a=0;a<n.length;a+=64)r.push(n.slice(a,a+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},function(e,t,n){"use strict";var r=t;r.der=n(133),r.pem=n(336)},function(e,t,n){"use strict";var r=n(1),i=n(7).Buffer,a=n(134);function o(e){a.call(this,e),this.enc="pem"}r(o,a),e.exports=o,o.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,c=-1,u=0;u<n.length;u++){var l=n[u].match(o);if(null!==l&&l[2]===r){if(-1!==s){if("END"!==l[1])break;c=u;break}if("BEGIN"!==l[1])break;s=u}}if(-1===s||-1===c)throw new Error("PEM section not found for: "+r);var f=n.slice(s+1,c).join("");f.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new i(f,"base64");return a.prototype.decode.call(this,d,t)}},function(e,t,n){"use strict";var r=t;r.der=n(134),r.pem=n(338)},function(e,t,n){"use strict";var r=n(135);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r._reverse(t.tag)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(59).Reporter,a=n(59).EncoderBuffer,o=n(59).DecoderBuffer,s=n(20),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c);function l(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=l;var f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){var e=this._baseState,t={};f.forEach(function(n){t[n]=e[n]});var n=new this.constructor(t.parent);return n._baseState=t,n},l.prototype._wrap=function(){var e=this._baseState;u.forEach(function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}},this)},l.prototype._init=function(e){var t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),s.equal(t.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(e){var t=this._baseState,n=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==n.length&&(s(null===t.children),t.children=n,n.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!==r(e)||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(n){n==(0|n)&&(n|=0);var r=e[n];t[r]=n}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){l.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),c.forEach(function(e){l.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(n),this}}),l.prototype.use=function(e){s(e);var t=this._baseState;return s(null===t.use),t.use=e,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(e){var t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},l.prototype.explicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},l.prototype.implicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},l.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},l.prototype.key=function(e){var t=this._baseState;return s(null===t.key),t.key=e,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(e){var t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},l.prototype.contains=function(e){var t=this._baseState;return s(null===t.use),t.contains=e,this},l.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var r,i=n.default,a=!0,s=null;if(null!==n.key&&(s=e.enterKey(n.key)),n.optional){var c=null;if(null!==n.explicit?c=n.explicit:null!==n.implicit?c=n.implicit:null!==n.tag&&(c=n.tag),null!==c||n.any){if(a=this._peekTag(e,c,n.any),e.isError(a))return a}else{var u=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(u)}}if(n.obj&&a&&(r=e.enterObject()),a){if(null!==n.explicit){var l=this._decodeTag(e,n.explicit);if(e.isError(l))return l;e=l}var f=e.offset;if(null===n.use&&null===n.choice){if(n.any)u=e.save();var d=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(d))return d;n.any?i=e.raw(u):e=d}if(t&&t.track&&null!==n.tag&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),i=n.any?i:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),e.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(e,t)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var h=new o(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(h,t)}}return n.obj&&a&&(i=e.leaveObject(r)),null===n.key||null===i&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,n.key,i),i},l.prototype._decodeGeneric=function(e,t,n){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},l.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),s(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},l.prototype._decodeChoice=function(e,t){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some(function(a){var o=e.save(),s=n.choice[a];try{var c=s._decode(e,t);if(e.isError(c))return!1;r={type:a,value:c},i=!0}catch(t){return e.restore(o),!1}return!0},this),i?r:e.error("Choice not matched")},l.prototype._createEncoderBuffer=function(e){return new a(e,this.reporter)},l.prototype._encode=function(e,t,n){var r=this._baseState;if(null===r.default||r.default!==e){var i=this._encodeValue(e,t,n);if(void 0!==i&&!this._skipDefault(i,t,n))return i}},l.prototype._encodeValue=function(e,t,n){var a=this._baseState;if(null===a.parent)return a.children[0]._encode(e,t||new i);var o=null;if(this.reporter=t,a.optional&&void 0===e){if(null===a.default)return;e=a.default}var s=null,c=!1;if(a.any)o=this._createEncoderBuffer(e);else if(a.choice)o=this._encodeChoice(e,t);else if(a.contains)s=this._getUse(a.contains,n)._encode(e,t),c=!0;else if(a.children)s=a.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var i=t.enterKey(n._baseState.key);if("object"!==r(e))return t.error("Child expected, but input is not object");var a=n._encode(e[n._baseState.key],t,e);return t.leaveKey(i),a},this).filter(function(e){return e}),s=this._createEncoderBuffer(s);else if("seqof"===a.tag||"setof"===a.tag){if(!a.args||1!==a.args.length)return t.error("Too many args for : "+a.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(n){var r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)},u))}else null!==a.use?o=this._getUse(a.use,n)._encode(e,t):(s=this._encodePrimitive(a.tag,e),c=!0);if(!a.any&&null===a.choice){var l=null!==a.implicit?a.implicit:a.tag,f=null===a.implicit?"universal":"context";null===l?null===a.use&&t.error("Tag could be omitted only for .use()"):null===a.use&&(o=this._encodeComposite(l,c,f,s))}return null!==a.explicit&&(o=this._encodeComposite(a.explicit,!1,"context",o)),o},l.prototype._encodeChoice=function(e,t){var n=this._baseState,r=n.choice[e.type];return r||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},l.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},l.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},l.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},function(e,t,n){"use strict";var r=n(1);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function a(e,t){this.path=e,this.rethrow(t)}t.Reporter=i,i.prototype.isError=function(e){return e instanceof a},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,n){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},i.prototype.error=function(e){var t,n=this._reporterState,r=e instanceof a;if(t=r?e:new a(n.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(a,Error),a.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(e,t,n){"use strict";var r=[].indexOf;e.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(module,exports,__webpack_require__){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var indexOf=__webpack_require__(343),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var a=Object_keys(n),o=r.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(a,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"===_typeof(e)&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t}},function(e,t,n){"use strict";var r=n(60),i=n(1);function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){var t;try{t=n(344).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return i(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},a.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r.decoders[e])),this.decoders[e]},a.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},a.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r.encoders[e])),this.encoders[e]},a.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},function(e,t,n){"use strict";var r=n(60);t.certificate=n(335);var i=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=i;var a=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=a;var o=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});t.PublicKey=o;var s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});t.PrivateKey=c;var u=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=u;var l=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=l,t.DSAparam=r.define("DSAparam",function(){this.int()});var f=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=f;var d=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(12),a=n(15).utils,o=a.assert,s=a.cachedProperty,c=a.parseBytes;function u(e,t){this.eddsa=e,"object"!==r(t)&&(t=c(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u},function(e,t,n){"use strict";var r=n(15).utils,i=r.assert,a=r.parseBytes,o=r.cachedProperty;function s(e,t){this.eddsa=e,this._secret=a(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=a(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},o(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(s,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r}),o(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},s.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=s},function(e,t,n){"use strict";var r=n(88),i=n(15),a=i.utils,o=a.assert,s=a.parseBytes,c=n(348),u=n(347);function l(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=l,l.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),a=this.encodePoint(i),o=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),c=r.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:a})},l.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(a)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return a.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=a.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!=(128&e[t]),i=a.intFromLE(n);return this.curve.pointFromY(i,r)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return a.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,n){"use strict";var r=n(12),i=n(15).utils,a=i.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(a(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(e,t){var n=e[t.place++];if(!(128&n))return n;for(var r=15&n,i=0,a=0,o=t.place;a<r;a++,o++)i<<=8,i|=e[o];return t.place=o,i}function c(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=o,o.prototype._importDER=function(e,t){e=i.toArray(e,t);var n=new function(){this.place=0};if(48!==e[n.place++])return!1;if(s(e,n)+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var a=s(e,n),o=e.slice(n.place,a+n.place);if(n.place+=a,2!==e[n.place++])return!1;var c=s(e,n);if(e.length!==c+n.place)return!1;var u=e.slice(n.place,c+n.place);return 0===o[0]&&128&o[1]&&(o=o.slice(1)),0===u[0]&&128&u[1]&&(u=u.slice(1)),this.r=new r(o),this.s=new r(u),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=c(t),n=c(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];u(r,t.length),(r=r.concat(t)).push(2),u(r,n.length);var a=r.concat(n),o=[48];return u(o,a.length),o=o.concat(a),i.encode(o,e)}},function(e,t,n){"use strict";var r=n(12),i=n(15).utils.assert;function a(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=a,a.fromPublic=function(e,t,n){return t instanceof a?t:new a(e,{pub:t,pubEnc:n})},a.fromPrivate=function(e,t,n){return t instanceof a?t:new a(e,{priv:t,privEnc:n})},a.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},a.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},a.prototype.derive=function(e){return e.mul(this.priv).getX()},a.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},a.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,n){"use strict";var r=n(88),i=n(140),a=n(20);function o(e){if(!(this instanceof o))return new o(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),n=i.toArray(e.nonce,e.nonceEnc||"hex"),r=i.toArray(e.pers,e.persEnc||"hex");a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}e.exports=o,o.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},o.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(e,t,n,r){"string"!=typeof t&&(r=n,n=t,t=null),e=i.toArray(e,t),n=i.toArray(n,r),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},o.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var o=a.slice(0,e);return this._update(n),this._reseed++,i.encode(o,t)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(12),a=n(352),o=n(15),s=o.utils.assert,c=n(351),u=n(350);function l(e){if(!(this instanceof l))return new l(e);"string"==typeof e&&(s(o.curves.hasOwnProperty(e),"Unknown curve "+e),e=o.curves[e]),e instanceof o.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=l,l.prototype.keyPair=function(e){return new c(this,e)},l.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},l.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},l.prototype.genKeyPair=function(e){e||(e={});for(var t=new a({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),r=this.n.sub(new i(2));;){var s=new i(t.generate(n));if(!(s.cmp(r)>0))return s.iaddn(1),this.keyFromPrivate(s)}},l.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},l.prototype.sign=function(e,t,n,o){"object"===r(n)&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new i(e,16));for(var s=this.n.byteLength(),c=t.getPrivate().toArray("be",s),l=e.toArray("be",s),f=new a({hash:this.hash,entropy:c,nonce:l,pers:o.pers,persEnc:o.persEnc||"utf8"}),d=this.n.sub(new i(1)),h=0;;h++){var p=o.k?o.k(h):new i(f.generate(this.n.byteLength()));if(!((p=this._truncateToN(p,!0)).cmpn(1)<=0||p.cmp(d)>=0)){var g=this.g.mul(p);if(!g.isInfinity()){var m=g.getX(),b=m.umod(this.n);if(0!==b.cmpn(0)){var v=p.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(0!==(v=v.umod(this.n)).cmpn(0)){var y=(g.getY().isOdd()?1:0)|(0!==m.cmp(b)?2:0);return o.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),y^=1),new u({r:b,s:v,recoveryParam:y})}}}}}},l.prototype.verify=function(e,t,n,r){e=this._truncateToN(new i(e,16)),n=this.keyFromPublic(n,r);var a=(t=new u(t,"hex")).r,o=t.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,c=o.invm(this.n),l=c.mul(e).umod(this.n),f=c.mul(a).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,n.getPublic(),f)).isInfinity()&&s.eqXToP(a):!(s=this.g.mulAdd(l,n.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(a)},l.prototype.recoverPubKey=function(e,t,n,r){s((3&n)===n,"The recovery param is more than two bits"),t=new u(t,r);var a=this.n,o=new i(e),c=t.r,l=t.s,f=1&n,d=n>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");c=d?this.curve.pointFromX(c.add(this.curve.n),f):this.curve.pointFromX(c,f);var h=t.r.invm(a),p=a.sub(o).mul(h).umod(a),g=l.mul(h).umod(a);return this.g.mulAdd(p,c,g)},l.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new u(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(e,t,n){"use strict";e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,n){"use strict";var r=n(28),i=n(20);function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=a,a.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},a.prototype.update=function(e,t){return this.inner.update(e,t),this},a.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t,n){"use strict";var r=n(28),i=n(61),a=r.rotl32,o=r.sum32,s=r.sum32_3,c=r.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(l,u),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],v=n,y=r,_=i,w=u,S=l,M=0;M<80;M++){var E=o(a(c(n,f(M,r,i,u),e[p[M]+t],d(M)),m[M]),l);n=l,l=u,u=a(i,10),i=r,r=E,E=o(a(c(v,f(79-M,y,_,w),e[g[M]+t],h(M)),b[M]),S),v=S,S=w,w=a(_,10),_=y,y=E}E=s(this.h[1],i,w),this.h[1]=s(this.h[2],u,S),this.h[2]=s(this.h[3],l,v),this.h[3]=s(this.h[4],n,y),this.h[4]=s(this.h[0],r,_),this.h[0]=E},l.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,n){"use strict";var r=n(28),i=n(137);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(a,i),e.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(e,t,n){"use strict";var r=n(28),i=n(138);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(a,i),e.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(e,t,n){"use strict";var r=n(28),i=n(61),a=n(139),o=r.rotl32,s=r.sum32,c=r.sum32_5,u=a.ft_1,l=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(d,l),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=o(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],a=this.h[1],l=this.h[2],d=this.h[3],h=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),g=c(o(i,5),u(p,a,l,d),h,n[r],f[p]);h=d,d=l,l=o(a,30),a=i,i=g}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],l),this.h[3]=s(this.h[3],d),this.h[4]=s(this.h[4],h)},d.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";t.sha1=n(359),t.sha224=n(358),t.sha256=n(138),t.sha384=n(357),t.sha512=n(137)},function(e,t,n){"use strict";var r,i=t,a=n(88),o=n(15),s=o.utils.assert;function c(e){"short"===e.type?this.curve=new o.curve.short(e):"edwards"===e.type?this.curve=new o.curve.edwards(e):this.curve=new o.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var n=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(354)}catch(e){r=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},function(e,t,n){"use strict";var r=n(69),i=n(15),a=n(12),o=n(1),s=r.base,c=i.utils.assert;function u(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new a(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function l(e,t,n,r,i){s.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(t,16),this.y=new a(n,16),this.z=r?new a(r,16):this.curve.one,this.t=i&&new a(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,s),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},u.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=r.redMul(i.redInvm()),s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},u.prototype.pointFromY=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.one),i=n.redMul(this.d).redAdd(this.one),o=r.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return s.isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},o(l,s.BasePoint),u.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},u.prototype.point=function(e,t,n,r){return new l(this,e,t,n,r)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=r.redAdd(t),o=a.redSub(n),s=r.redSub(t),c=i.redMul(o),u=a.redMul(s),l=i.redMul(s),f=o.redMul(a);return this.curve.point(c,u,f,l)},l.prototype._projDbl=function(){var e,t,n,r=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),a=this.y.redSqr();if(this.curve.twisted){var o=(u=this.curve._mulA(i)).redAdd(a);if(this.zOne)e=r.redSub(i).redSub(a).redMul(o.redSub(this.curve.two)),t=o.redMul(u.redSub(a)),n=o.redSqr().redSub(o).redSub(o);else{var s=this.z.redSqr(),c=o.redSub(s).redISub(s);e=r.redSub(i).redISub(a).redMul(c),t=o.redMul(u.redSub(a)),n=o.redMul(c)}}else{var u=i.redAdd(a);s=this.curve._mulC(this.c.redMul(this.z)).redSqr(),c=u.redSub(s).redSub(s);e=this.curve._mulC(r.redISub(u)).redMul(c),t=this.curve._mulC(u).redMul(i.redISub(a)),n=u.redMul(c)}return this.curve.point(e,t,n)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(t),o=i.redSub(r),s=i.redAdd(r),c=n.redAdd(t),u=a.redMul(o),l=s.redMul(c),f=a.redMul(c),d=o.redMul(s);return this.curve.point(u,l,d,f)},l.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),a=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(a).redMul(o),c=i.redSub(s),u=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(o),f=r.redMul(c).redMul(l);return this.curve.twisted?(t=r.redMul(u).redMul(o.redSub(this.curve._mulA(a))),n=c.redMul(u)):(t=r.redMul(u).redMul(o.redSub(a)),n=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,n)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},l.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}return!1},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},function(e,t,n){"use strict";var r=n(69),i=n(12),a=n(1),o=r.base,s=n(15).utils;function c(e){o.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,n){o.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(c,o),e.exports=c,c.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},a(u,o.BasePoint),c.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},c.prototype.point=function(e,t){return new u(this,e,t)},c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(n),o=i.redMul(r),s=t.z.redMul(a.redAdd(o).redSqr()),c=t.x.redMul(a.redISub(o).redSqr());return this.curve.point(s,c)},u.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var a=i.length-1;a>=0;a--)0===i[a]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,n){"use strict";var r=n(69),i=n(15),a=n(12),o=n(1),s=r.base,c=i.utils.assert;function u(e){s.call(this,"short",e),this.a=new a(e.a,16).toRed(this.red),this.b=new a(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(e,t,n,r){s.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(t,16),this.y=new a(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,n,r){s.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(t,16),this.y=new a(n,16),this.z=new a(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,s),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new a(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new a(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?n=i[0]:(n=i[1],c(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map(function(e){return{a:new a(e.a,16),b:new a(e.b,16)}}):this._getEndoBasis(n)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:a.mont(e),n=new a(2).toRed(t).redInvm(),r=n.redNeg(),i=new a(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(i).fromRed(),r.redSub(i).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,n,r,i,o,s,c,u,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),p=new a(1),g=new a(0),m=new a(0),b=new a(1),v=0;0!==d.cmpn(0);){var y=h.div(d);u=h.sub(y.mul(d)),l=m.sub(y.mul(p));var _=b.sub(y.mul(g));if(!r&&u.cmp(f)<0)t=c.neg(),n=p,r=u.neg(),i=l;else if(r&&2==++v)break;c=u,h=d,d=u,m=p,p=l,b=g,g=_}o=u.neg(),s=l;var w=r.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(w)>=0&&(o=t,s=n),r.negative&&(r=r.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:r,b:i},{a:o,b:s}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=i.mul(n.a),s=a.mul(r.a),c=i.mul(n.b),u=a.mul(r.b);return{k1:e.sub(o).sub(s),k2:c.add(u).neg()}},u.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var i=r.fromRed().isOdd();return(t&&!i||!t&&i)&&(r=r.redNeg()),this.point(e,r)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],c=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),r[2*a]=s,r[2*a+1]=c,i[2*a]=o.k1,i[2*a+1]=o.k2}for(var u=this._wnafMulAdd(1,r,i,2*a,n),l=0;l<2*a;l++)r[l]=null,i[l]=null;return u},o(l,s.BasePoint),u.prototype.point=function(e,t,n){return new l(this,e,t,n)},u.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var a=t[2];return r.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[r].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[r].concat(a.naf.points.map(i))}},r},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return e=new a(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},l.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,s.BasePoint),u.prototype.jpoint=function(e,t,n){return new f(this,e,t,n)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),s=r.redSub(i),c=a.redSub(o);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),f=r.redMul(u),d=c.redSqr().redIAdd(l).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(a.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,h,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),o=n.redSub(r),s=i.redSub(a);if(0===o.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),u=c.redMul(o),l=n.redMul(c),f=s.redSqr().redIAdd(u).redISub(l).redISub(l),d=s.redMul(l.redISub(f)).redISub(i.redMul(u)),h=this.z.redMul(o);return this.curve.jpoint(f,d,h)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}var r=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,s=this.z,c=s.redSqr().redSqr(),u=o.redAdd(o);for(n=0;n<e;n++){var l=a.redSqr(),f=u.redSqr(),d=f.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(c)),p=a.redMul(f),g=h.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),b=h.redMul(m);b=b.redIAdd(b).redISub(d);var v=u.redMul(s);n+1<e&&(c=c.redMul(d)),a=g,s=v,u=b}return this.curve.jpoint(a,u.redMul(i),s)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(r).redISub(a);o=o.redIAdd(o);var s=r.redAdd(r).redIAdd(r),c=s.redSqr().redISub(o).redISub(o),u=a.redIAdd(a);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=s.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(l).redISub(d);h=h.redIAdd(h);var p=l.redAdd(l).redIAdd(l),g=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(m),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},f.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(r).redISub(a);o=o.redIAdd(o);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=s.redSqr().redISub(o).redISub(o);e=c;var u=a.redIAdd(a);u=(u=u.redIAdd(u)).redIAdd(u),t=s.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),g=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(g),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=h.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,n)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),a=t.redSqr(),o=n.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(o),l=s.redSqr().redISub(u.redAdd(u)),f=u.redISub(l),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=s.redMul(f).redISub(d),p=n.redAdd(n).redMul(r);return this.curve.jpoint(l,h,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(r),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.y.redMul(u.redMul(c.redISub(u)).redISub(o.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(o).redSqr().redISub(n).redISub(s);return this.curve.jpoint(f,d,h)},f.prototype.mul=function(e,t){return e=new a(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}return!1},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,n){"use strict";var r=n(12),i=n(15).utils,a=i.getNAF,o=i.getJSF,s=i.assert;function c(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),r=a(t,1),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;for(var o=[],c=0;c<r.length;c+=n.step){var u=0;for(t=c+n.step-1;t>=c;t--)u=(u<<1)+r[t];o.push(u)}for(var l=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(c=0;c<o.length;c++){(u=o[c])===d?f=f.mixedAdd(n.points[c]):u===-d&&(f=f.mixedAdd(n.points[c].neg()))}l=l.add(f)}return l.toP()},c.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,o=a(t,n),c=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(t=0;u>=0&&0===o[u];u--)t++;if(u>=0&&t++,c=c.dblp(t),u<0)break;var l=o[u];s(0!==l),c="affine"===e.type?l>0?c.mixedAdd(i[l-1>>1]):c.mixedAdd(i[-l-1>>1].neg()):l>0?c.add(i[l-1>>1]):c.add(i[-l-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,n,r,i){for(var s=this._wnafT1,c=this._wnafT2,u=this._wnafT3,l=0,f=0;f<r;f++){var d=(A=t[f])._getNAFPoints(e);s[f]=d.wnd,c[f]=d.points}for(f=r-1;f>=1;f-=2){var h=f-1,p=f;if(1===s[h]&&1===s[p]){var g=[t[h],null,null,t[p]];0===t[h].y.cmp(t[p].y)?(g[1]=t[h].add(t[p]),g[2]=t[h].toJ().mixedAdd(t[p].neg())):0===t[h].y.cmp(t[p].y.redNeg())?(g[1]=t[h].toJ().mixedAdd(t[p]),g[2]=t[h].add(t[p].neg())):(g[1]=t[h].toJ().mixedAdd(t[p]),g[2]=t[h].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],b=o(n[h],n[p]);l=Math.max(b[0].length,l),u[h]=new Array(l),u[p]=new Array(l);for(var v=0;v<l;v++){var y=0|b[0][v],_=0|b[1][v];u[h][v]=m[3*(y+1)+(_+1)],u[p][v]=0,c[h]=g}}else u[h]=a(n[h],s[h]),u[p]=a(n[p],s[p]),l=Math.max(u[h].length,l),l=Math.max(u[p].length,l)}var w=this.jpoint(null,null,null),S=this._wnafT4;for(f=l;f>=0;f--){for(var M=0;f>=0;){var E=!0;for(v=0;v<r;v++)S[v]=0|u[v][f],0!==S[v]&&(E=!1);if(!E)break;M++,f--}if(f>=0&&M++,w=w.dblp(M),f<0)break;for(v=0;v<r;v++){var A,k=S[v];0!==k&&(k>0?A=c[v][k-1>>1]:k<0&&(A=c[v][-k-1>>1].neg()),w="affine"===A.type?w.mixedAdd(A):w.add(A))}}for(f=0;f<r;f++)c[f]=null;return i?w:w.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)r=r.dbl();n.push(r)}return{step:e,points:n}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},function(e,t,n){"use strict";var r=t,i=n(12),a=n(20),o=n(140);r.assert=a,r.toArray=o.toArray,r.zero2=o.zero2,r.toHex=o.toHex,r.encode=o.encode,r.getNAF=function(e,t){for(var n=[],r=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var a;if(i.isOdd()){var o=i.andln(r-1);a=o>(r>>1)-1?(r>>1)-o:o,i.isubn(a)}else a=0;n.push(a);for(var s=0!==i.cmpn(0)&&0===i.andln(r-1)?t+1:1,c=1;c<s;c++)n.push(0);i.iushrn(s)}return n},r.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r=0,i=0;e.cmpn(-r)>0||t.cmpn(-i)>0;){var a,o,s,c=e.andln(3)+r&3,u=t.andln(3)+i&3;3===c&&(c=-1),3===u&&(u=-1),a=0==(1&c)?0:3!=(s=e.andln(7)+r&7)&&5!==s||2!==u?c:-c,n[0].push(a),o=0==(1&u)?0:3!=(s=t.andln(7)+i&7)&&5!==s||2!==c?u:-u,n[1].push(o),2*r===a+1&&(r=1-r),2*i===o+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return n},r.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new i(e,"hex","le")}},function(e){e.exports={name:"elliptic",version:"6.4.0",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}},function(e,t,n){"use strict";(function(t){var r=n(154),i=n(89),a=n(15).ec,o=n(12),s=n(68),c=n(132);function u(e,n,i,a){if((e=new t(e.toArray())).length<n.byteLength()){var o=new t(n.byteLength()-e.length);o.fill(0),e=t.concat([o,e])}var s=i.length,c=function(e,n){e=(e=l(e,n)).mod(n);var r=new t(e.toArray());if(r.length<n.byteLength()){var i=new t(n.byteLength()-r.length);i.fill(0),r=t.concat([i,r])}return r}(i,n),u=new t(s);u.fill(1);var f=new t(s);return f.fill(0),f=r(a,f).update(u).update(new t([0])).update(e).update(c).digest(),u=r(a,f).update(u).digest(),{k:f=r(a,f).update(u).update(new t([1])).update(e).update(c).digest(),v:u=r(a,f).update(u).digest()}}function l(e,t){var n=new o(e),r=(e.length<<3)-t.bitLength();return r>0&&n.ishrn(r),n}function f(e,n,i){var a,o;do{for(a=new t(0);8*a.length<e.bitLength();)n.v=r(i,n.k).update(n.v).digest(),a=t.concat([a,n.v]);o=l(a,e),n.k=r(i,n.k).update(n.v).update(new t([0])).digest(),n.v=r(i,n.k).update(n.v).digest()}while(-1!==o.cmp(e));return o}function d(e,t,n,r){return e.toRed(o.mont(n)).redPow(t).fromRed().mod(r)}e.exports=function(e,n,r,h,p){var g=s(n);if(g.curve){if("ecdsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");return function(e,n){var r=c[n.curve.join(".")];if(!r)throw new Error("unknown curve "+n.curve.join("."));var i=new a(r).keyFromPrivate(n.privateKey).sign(e);return new t(i.toDER())}(e,g)}if("dsa"===g.type){if("dsa"!==h)throw new Error("wrong private key type");return function(e,n,r){for(var i,a=n.params.priv_key,s=n.params.p,c=n.params.q,h=n.params.g,p=new o(0),g=l(e,c).mod(c),m=!1,b=u(a,c,e,r);!1===m;)i=f(c,b,r),p=d(h,i,s,c),0===(m=i.invm(c).imul(g.add(a.mul(p))).mod(c)).cmpn(0)&&(m=!1,p=new o(0));return function(e,n){e=e.toArray(),n=n.toArray(),128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n));var r=[48,e.length+n.length+4,2,e.length];return r=r.concat(e,[2,n.length],n),new t(r)}(p,m)}(e,g,r)}if("rsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");e=t.concat([p,e]);for(var m=g.modulus.byteLength(),b=[0,1];e.length+b.length+1<m;)b.push(255);b.push(0);for(var v=-1;++v<e.length;)b.push(e[v]);return i(b,g)},e.exports.getKey=u,e.exports.makeKey=f}).call(this,n(7).Buffer)},function(e,t,n){"use strict";(function(t){var r=n(64),i=n(73),a=n(1),o=n(368),s=n(332),c=n(153);function u(e){i.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function l(e){i.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){return new u(e)}function d(e){return new l(e)}Object.keys(c).forEach(function(e){c[e].id=new t(c[e].id,"hex"),c[e.toLowerCase()]=c[e]}),a(u,i.Writable),u.prototype._write=function(e,t,n){this._hash.update(e),n()},u.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},u.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),r=o(n,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},a(l,i.Writable),l.prototype._write=function(e,t,n){this._hash.update(e),n()},l.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},l.prototype.verify=function(e,n,r){"string"==typeof n&&(n=new t(n,r)),this.end();var i=this._hash.digest();return s(n,i,e,this._signType,this._tag)},e.exports={Sign:f,Verify:d,createSign:f,createVerify:d}}).call(this,n(7).Buffer)},function(e,t,n){"use strict";(function(t){var r=n(12),i=new(n(142)),a=new r(24),o=new r(11),s=new r(10),c=new r(3),u=new r(7),l=n(143),f=n(54);function d(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._pub=new r(e),this}function h(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._priv=new r(e),this}e.exports=g;var p={};function g(e,t,n){this.setGenerator(t),this.__prime=new r(e),this._prime=r.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=d,this.setPrivateKey=h):this._primeCode=8}function m(e,n){var r=new t(e.toArray());return n?r.toString(n):r}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),r=[n,e.toString(16)].join("_");if(r in p)return p[r];var f,d=0;if(e.isEven()||!l.simpleSieve||!l.fermatTest(e)||!i.test(e))return d+=1,d+="02"===n||"05"===n?8:4,p[r]=d,d;switch(i.test(e.shrn(1))||(d+=2),n){case"02":e.mod(a).cmp(o)&&(d+=8);break;case"05":(f=e.mod(s)).cmp(c)&&f.cmp(u)&&(d+=8);break;default:d+=4}return p[r]=d,d}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new r(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(e){var n=(e=(e=new r(e)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new t(n.toArray()),a=this.getPrime();if(i.length<a.length){var o=new t(a.length-i.length);o.fill(0),i=t.concat([o,i])}return i},g.prototype.getPublicKey=function(e){return m(this._pub,e)},g.prototype.getPrivateKey=function(e){return m(this._priv,e)},g.prototype.getPrime=function(e){return m(this.__prime,e)},g.prototype.getGenerator=function(e){return m(this._gen,e)},g.prototype.setGenerator=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.__gen=e,this._gen=new r(e),this}}).call(this,n(7).Buffer)},function(e){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";(function(e){var r=n(143),i=n(371),a=n(370);var o={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var n=new e(i[t].prime,"hex"),r=new e(i[t].gen,"hex");return new a(n,r)},t.createDiffieHellman=t.DiffieHellman=function t(n,i,s,c){return e.isBuffer(i)||void 0===o[i]?t(n,"binary",i,s):(i=i||"binary",c=c||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,c)),"number"==typeof n?new a(r(n,s),s,!0):(e.isBuffer(n)||(n=new e(n,i)),new a(n,s,!0)))}}).call(this,n(7).Buffer)},function(e,t,n){"use strict";t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,n){"use strict";var r=n(20),i=n(1),a=n(90),o=a.Cipher,s=a.DES;function c(e){o.call(this,e);var t=new function(e,t){r.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),i=t.slice(8,16),a=t.slice(16,24);this.ciphers="encrypt"===e?[s.create({type:"encrypt",key:n}),s.create({type:"decrypt",key:i}),s.create({type:"encrypt",key:a})]:[s.create({type:"decrypt",key:a}),s.create({type:"encrypt",key:i}),s.create({type:"decrypt",key:n})]}(this.type,this.options.key);this._edeState=t}i(c,o),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,n,r){var i=this._edeState;i.ciphers[0]._update(e,t,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},c.prototype._pad=s.prototype._pad,c.prototype._unpad=s.prototype._unpad},function(e,t,n){"use strict";var r=n(20),i=n(1),a={};t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var n=Object.keys(a),r=0;r<n.length;r++){var o=n[r];t.prototype[o]=a[o]}return t.create=function(e){return new t(e)},t},a._cbcInit=function(){var e=new function(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}(this.options.iv);this._cbcState=e},a._update=function(e,t,n,r){var i=this._cbcState,a=this.constructor.super_.prototype,o=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)o[s]^=e[t+s];a._update.call(this,o,0,n,r);for(s=0;s<this.blockSize;s++)o[s]=n[r+s]}else{a._update.call(this,e,t,n,r);for(s=0;s<this.blockSize;s++)n[r+s]^=o[s];for(s=0;s<this.blockSize;s++)o[s]=e[t+s]}}},function(e,t,n){"use strict";var r=n(20),i=n(1),a=n(90),o=a.utils,s=a.Cipher;function c(e){s.call(this,e);var t=new function(){this.tmp=new Array(2),this.keys=null};this._desState=t,this.deriveKeys(t,e.key)}i(c,s),e.exports=c,c.create=function(e){return new c(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(t,0),i=o.readUInt32BE(t,4);o.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var s=u[a>>>1];n=o.r28shl(n,s),i=o.r28shl(i,s),o.pc2(n,i,e.keys,a)}},c.prototype._update=function(e,t,n,r){var i=this._desState,a=o.readUInt32BE(e,t),s=o.readUInt32BE(e,t+4);o.ip(a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,s,i.tmp,0):this._decrypt(i,a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],o.writeUInt32BE(n,a,r),o.writeUInt32BE(n,s,r+4)},c.prototype._pad=function(e,t){for(var n=e.length-t,r=t;r<e.length;r++)e[r]=n;return!0},c.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)r.equal(e[n],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,n,r,i){for(var a=t,s=n,c=0;c<e.keys.length;c+=2){var u=e.keys[c],l=e.keys[c+1];o.expand(s,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var f=o.substitute(u,l),d=s;s=(a^o.permute(f))>>>0,a=d}o.rip(s,a,r,i)},c.prototype._decrypt=function(e,t,n,r,i){for(var a=n,s=t,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],l=e.keys[c+1];o.expand(a,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var f=o.substitute(u,l),d=a;a=(s^o.permute(f))>>>0,s=d}o.rip(a,s,r,i)}},function(e,t,n){"use strict";var r=n(20);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<n;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,n=0,r=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var a=e.length-(e.length-t)%this.blockSize;t<a;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,n=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,n){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,r){for(var i=0,a=0,o=6;o>=0;o-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+o&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>>s+o&1}for(o=6;o>=0;o-=2){for(s=1;s<=25;s+=8)a<<=1,a|=t>>>s+o&1;for(s=1;s<=25;s+=8)a<<=1,a|=e>>>s+o&1}n[r+0]=i>>>0,n[r+1]=a>>>0},t.rip=function(e,t,n,r){for(var i=0,a=0,o=0;o<4;o++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+o&1,i<<=1,i|=e>>>s+o&1;for(o=4;o<8;o++)for(s=24;s>=0;s-=8)a<<=1,a|=t>>>s+o&1,a<<=1,a|=e>>>s+o&1;n[r+0]=i>>>0,n[r+1]=a>>>0},t.pc1=function(e,t,n,r){for(var i=0,a=0,o=7;o>=5;o--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+o&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+o&1}for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+o&1;for(o=1;o<=3;o++){for(s=0;s<=24;s+=8)a<<=1,a|=t>>s+o&1;for(s=0;s<=24;s+=8)a<<=1,a|=e>>s+o&1}for(s=0;s<=24;s+=8)a<<=1,a|=e>>s+o&1;n[r+0]=i>>>0,n[r+1]=a>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var a=0,o=0,s=r.length>>>1,c=0;c<s;c++)a<<=1,a|=e>>>r[c]&1;for(c=s;c<r.length;c++)o<<=1,o|=t>>>r[c]&1;n[i+0]=a>>>0,n[i+1]=o>>>0},t.expand=function(e,t,n){var r=0,i=0;r=(1&e)<<5|e>>>27;for(var a=23;a>=15;a-=4)r<<=6,r|=e>>>a&63;for(a=11;a>=3;a-=4)i|=e>>>a&63,i<<=6;i|=(31&e)<<1|e>>>31,t[n+0]=r>>>0,t[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,r=0;r<4;r++){n<<=4,n|=i[64*r+(e>>>18-6*r&63)]}for(r=0;r<4;r++){n<<=4,n|=i[256+64*r+(t>>>18-6*r&63)]}return n>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<a.length;n++)t<<=1,t|=e>>>a[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var i=[],a=0;a<t;a+=n)i.push(r.slice(a,a+n));return i.join(" ")}},function(e,t,n){"use strict";(function(t){var r=n(38),i=n(90),a=n(1),o={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function s(e){r.call(this);var n,i=e.mode.toLowerCase(),a=o[i];n=e.decrypt?"decrypt":"encrypt";var s=e.key;"des-ede"!==i&&"des-ede-cbc"!==i||(s=t.concat([s,s.slice(0,8)]));var c=e.iv;this._des=a.create({key:s,iv:c,type:n})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],e.exports=s,a(s,r),s.prototype._update=function(e){return new t(this._des.update(e))},s.prototype._final=function(){return new t(this._des.final())}}).call(this,n(7).Buffer)},function(e,t,n){"use strict";var r=n(145),i=n(5).Buffer,a=n(91),o=n(144),s=n(38),c=n(70),u=n(71);function l(e,t,n){s.call(this),this._cache=new f,this._last=void 0,this._cipher=new c.AES(t),this._prev=i.from(n),this._mode=e,this._autopadding=!0}function f(){this.cache=i.allocUnsafe(0)}function d(e,t,n){var s=a[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=i.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof t&&(t=i.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new o(s.module,t,n,!0):"auth"===s.type?new r(s.module,t,n,!0):new l(s.module,t,n)}n(1)(l,s),l.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),r.push(n);return i.concat(r)},l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15],n=-1;for(;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=i.concat([this.cache,e])},f.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=a[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=u(t,!1,n.key,n.iv);return d(e,r.key,r.iv)},t.createDecipheriv=d},function(e,t,n){"use strict";var r=n(5).Buffer,i=r.alloc(16,0);function a(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function o(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}o.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},o.prototype._multiply=function(){for(var e,t,n,r=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!=(1&r[3]),t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=a(i)},o.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},o.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(a([0,e,0,t])),this.state},e.exports=o},function(e,t,n){"use strict";(function(e){var r=n(62);function i(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,i(t)]);var a=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),r(n,a)}}).call(this,n(7).Buffer)},function(e,t,n){"use strict";var r=n(5).Buffer;function i(e,t,n){for(var r,i,o,s=-1,c=0;++s<8;)r=e._cipher.encryptBlock(e._prev),i=t&1<<7-s?128:0,c+=(128&(o=r[0]^i))>>s%8,e._prev=a(e._prev,n?i:o);return c}function a(e,t){var n=e.length,i=-1,a=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++i<n;)a[i]=e[i]<<1|e[i+1]>>7;return a}t.encrypt=function(e,t,n){for(var a=t.length,o=r.allocUnsafe(a),s=-1;++s<a;)o[s]=i(e,t[s],n);return o}},function(e,t,n){"use strict";var r=n(5).Buffer;function i(e,t,n){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([n?t:i])]),i}t.encrypt=function(e,t,n){for(var a=t.length,o=r.allocUnsafe(a),s=-1;++s<a;)o[s]=i(e,t[s],n);return o}},function(e,t,n){"use strict";var r=n(5).Buffer,i=n(62);function a(e,t,n){var a=t.length,o=i(t,e._cache);return e._cache=e._cache.slice(a),e._prev=r.concat([e._prev,n?t:o]),o}t.encrypt=function(e,t,n){for(var i,o=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){o=r.concat([o,a(e,t,n)]);break}i=e._cache.length,o=r.concat([o,a(e,t.slice(0,i),n)]),t=t.slice(i)}return o}},function(e,t,n){"use strict";var r=n(62);t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},function(e,t,n){"use strict";t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,n){"use strict";var r=n(91),i=n(145),a=n(5).Buffer,o=n(144),s=n(38),c=n(70),u=n(71);function l(e,t,n){s.call(this),this._cache=new d,this._cipher=new c.AES(t),this._prev=a.from(n),this._mode=e,this._autopadding=!0}n(1)(l,s),l.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get();)n=this._mode.encrypt(this,t),r.push(n);return a.concat(r)};var f=a.alloc(16,16);function d(){this.cache=a.allocUnsafe(0)}function h(e,t,n){var s=r[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=a.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof n&&(n=a.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new o(s.module,t,n):"auth"===s.type?new i(s.module,t,n):new l(s.module,t,n)}l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=a.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){for(var e=16-this.cache.length,t=a.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return a.concat([this.cache,t])},t.createCipheriv=h,t.createCipher=function(e,t){var n=r[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=u(t,!1,n.key,n.iv);return h(e,i.key,i.iv)}},function(e,t,n){"use strict";var r=n(5).Buffer,i=n(73).Transform;function a(e){i.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(1)(a,i),a.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(e){r=e}n(r)},a.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},a.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)n[a++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var o=0,s=8*e.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},a.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=a},function(e,t,n){"use strict";(function(t){var r=n(1),i=n(391),a=new Array(16);function o(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function s(e,t){return e<<t|e>>>32-t}function c(e,t,n,r,i,a,o){return s(e+(t&n|~t&r)+i+a|0,o)+t|0}function u(e,t,n,r,i,a,o){return s(e+(t&r|n&~r)+i+a|0,o)+t|0}function l(e,t,n,r,i,a,o){return s(e+(t^n^r)+i+a|0,o)+t|0}function f(e,t,n,r,i,a,o){return s(e+(n^(t|~r))+i+a|0,o)+t|0}r(o,i),o.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,o=this._d;r=f(r=f(r=f(r=f(r=l(r=l(r=l(r=l(r=u(r=u(r=u(r=u(r=c(r=c(r=c(r=c(r,i=c(i,o=c(o,n=c(n,r,i,o,e[0],3614090360,7),r,i,e[1],3905402710,12),n,r,e[2],606105819,17),o,n,e[3],3250441966,22),i=c(i,o=c(o,n=c(n,r,i,o,e[4],4118548399,7),r,i,e[5],1200080426,12),n,r,e[6],2821735955,17),o,n,e[7],4249261313,22),i=c(i,o=c(o,n=c(n,r,i,o,e[8],1770035416,7),r,i,e[9],2336552879,12),n,r,e[10],4294925233,17),o,n,e[11],2304563134,22),i=c(i,o=c(o,n=c(n,r,i,o,e[12],1804603682,7),r,i,e[13],4254626195,12),n,r,e[14],2792965006,17),o,n,e[15],1236535329,22),i=u(i,o=u(o,n=u(n,r,i,o,e[1],4129170786,5),r,i,e[6],3225465664,9),n,r,e[11],643717713,14),o,n,e[0],3921069994,20),i=u(i,o=u(o,n=u(n,r,i,o,e[5],3593408605,5),r,i,e[10],38016083,9),n,r,e[15],3634488961,14),o,n,e[4],3889429448,20),i=u(i,o=u(o,n=u(n,r,i,o,e[9],568446438,5),r,i,e[14],3275163606,9),n,r,e[3],4107603335,14),o,n,e[8],1163531501,20),i=u(i,o=u(o,n=u(n,r,i,o,e[13],2850285829,5),r,i,e[2],4243563512,9),n,r,e[7],1735328473,14),o,n,e[12],2368359562,20),i=l(i,o=l(o,n=l(n,r,i,o,e[5],4294588738,4),r,i,e[8],2272392833,11),n,r,e[11],1839030562,16),o,n,e[14],4259657740,23),i=l(i,o=l(o,n=l(n,r,i,o,e[1],2763975236,4),r,i,e[4],1272893353,11),n,r,e[7],4139469664,16),o,n,e[10],3200236656,23),i=l(i,o=l(o,n=l(n,r,i,o,e[13],681279174,4),r,i,e[0],3936430074,11),n,r,e[3],3572445317,16),o,n,e[6],76029189,23),i=l(i,o=l(o,n=l(n,r,i,o,e[9],3654602809,4),r,i,e[12],3873151461,11),n,r,e[15],530742520,16),o,n,e[2],3299628645,23),i=f(i,o=f(o,n=f(n,r,i,o,e[0],4096336452,6),r,i,e[7],1126891415,10),n,r,e[14],2878612391,15),o,n,e[5],4237533241,21),i=f(i,o=f(o,n=f(n,r,i,o,e[12],1700485571,6),r,i,e[3],2399980690,10),n,r,e[10],4293915773,15),o,n,e[1],2240044497,21),i=f(i,o=f(o,n=f(n,r,i,o,e[8],1873313359,6),r,i,e[15],4264355552,10),n,r,e[6],2734768916,15),o,n,e[13],1309151649,21),i=f(i,o=f(o,n=f(n,r,i,o,e[4],4149444226,6),r,i,e[11],3174756917,10),n,r,e[2],718787259,15),o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=o}).call(this,n(7).Buffer)},function(e,t,n){"use strict";var r=n(71),i=n(92),a=n(381),o=n(375),s=n(91);function c(e,t,n){if(e=e.toLowerCase(),s[e])return i.createCipheriv(e,t,n);if(o[e])return new a({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function u(e,t,n){if(e=e.toLowerCase(),s[e])return i.createDecipheriv(e,t,n);if(o[e])return new a({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var n,i;if(e=e.toLowerCase(),s[e])n=s[e].key,i=s[e].iv;else{if(!o[e])throw new TypeError("invalid suite type");n=8*o[e].key,i=o[e].iv}var a=r(t,!1,n,i);return c(e,a.key,a.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=function(e,t){var n,i;if(e=e.toLowerCase(),s[e])n=s[e].key,i=s[e].iv;else{if(!o[e])throw new TypeError("invalid suite type");n=8*o[e].key,i=o[e].iv}var a=r(t,!1,n,i);return u(e,a.key,a.iv)},t.createDecipheriv=t.Decipheriv=u,t.listCiphers=t.getCiphers=function(){return Object.keys(o).concat(i.getCiphers())}},function(e,t,n){"use strict";(function(t,r){var i,a=n(151),o=n(150),s=n(149),c=n(5).Buffer,u=t.crypto&&t.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function d(e,t,n,r,i){return u.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return u.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:i}},e,r<<3)}).then(function(e){return c.from(e)})}e.exports=function(e,n,h,p,g,m){if(c.isBuffer(e)||(e=c.from(e,o)),c.isBuffer(n)||(n=c.from(n,o)),a(h,p),"function"==typeof g&&(m=g,g=void 0),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");var b=l[(g=g||"sha1").toLowerCase()];if(!b||"function"!=typeof t.Promise)return r.nextTick(function(){var t;try{t=s(e,n,h,p,g)}catch(e){return m(e)}m(null,t)});!function(e,t){e.then(function(e){r.nextTick(function(){t(null,e)})},function(e){r.nextTick(function(){t(e)})})}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(void 0!==f[e])return f[e];var n=d(i=i||c.alloc(8),i,10,128,e).then(function(){return!0}).catch(function(){return!1});return f[e]=n,n}(b).then(function(t){return t?d(e,n,h,p,b):s(e,n,h,p,g)}),m)}}).call(this,n(24),n(35))},function(e,t,n){"use strict";e.exports=n(153)},function(e,t,n){"use strict";var r=n(1),i=n(5).Buffer,a=n(38),o=i.alloc(128),s=64;function c(e,t){a.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=i.concat([t,o],s));for(var n=this._ipad=i.allocUnsafe(s),r=this._opad=i.allocUnsafe(s),c=0;c<s;c++)n[c]=54^t[c],r[c]=92^t[c];this._hash=[n]}r(c,a),c.prototype._update=function(e){this._hash.push(e)},c.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=c},function(e,t,n){"use strict";var r=n(1),i=n(155),a=n(53),o=n(5).Buffer,s=new Array(160);function c(){this.init(),this._w=s,a.call(this,128,112)}r(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=o.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},function(e,t,n){"use strict";var r=n(1),i=n(156),a=n(53),o=n(5).Buffer,s=new Array(64);function c(){this.init(),this._w=s,a.call(this,64,56)}r(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=o.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},function(e,t,n){"use strict";var r=n(1),i=n(53),a=n(5).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function f(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,c=0|this._e,d=0;d<16;++d)n[d]=e.readInt32BE(4*d);for(;d<80;++d)n[d]=(t=n[d-3]^n[d-8]^n[d-14]^n[d-16])<<1|t>>>31;for(var h=0;h<80;++h){var p=~~(h/20),g=u(r)+f(p,i,a,s)+c+n[h]+o[p]|0;c=s,s=a,a=l(i),i=r,r=g}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,n){"use strict";var r=n(1),i=n(53),a=n(5).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e){return e<<30|e>>>2}function l(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,c=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=n[f-3]^n[f-8]^n[f-14]^n[f-16];for(var d=0;d<80;++d){var h=~~(d/20),p=0|((t=r)<<5|t>>>27)+l(h,i,a,s)+c+n[d]+o[h];c=s,s=a,a=u(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,n){"use strict";e.exports=n(96).PassThrough},function(e,t,n){"use strict";e.exports=n(96).Transform},function(e,t,n){"use strict";e.exports=n(41)},function(e,t,n){"use strict";e.exports=n(95)},function(e,t,n){"use strict";e.exports=a;var r=n(157),i=n(63);function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}i.inherits=n(1),i.inherits(a,r),a.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(24))},function(e,t,n){"use strict";(function(e,t){!function(e,n){if(!e.setImmediate){var r,i,a,o,s,c=1,u={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){a.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(o+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[c]=i,r(c),c++},d.clearImmediate=h}function h(e){delete u[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(this,n(24),n(35))},function(e,t,n){"use strict";(function(e){var r=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(407),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||void 0,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||void 0}).call(this,n(24))},function(e,t){},function(e,t,n){"use strict";var r=n(5).Buffer,i=n(409);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,a=r.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=a,i=s,t.copy(n,i),s+=o.data.length,o=o.next;return a},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){"use strict";(function(t){var r=n(73).Transform;function i(e){r.call(this),this._block=new t(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(1)(i,r),i.prototype._transform=function(e,n,r){var i=null;try{"buffer"!==n&&(e=new t(e,n)),this.update(e)}catch(e){i=e}r(i)},i.prototype._flush=function(e){var t=null;try{this.push(this._digest())}catch(e){t=e}e(t)},i.prototype.update=function(e,n){if(!t.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");t.isBuffer(e)||(e=new t(e,n||"binary"));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)r[a++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var o=0,s=8*e.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},i.prototype._update=function(e){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();return void 0!==e&&(t=t.toString(e)),t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=i}).call(this,n(7).Buffer)},function(e,t,n){"use strict";(function(t){var n=4,r=new t(n);r.fill(0);e.exports=function(e,i){var a=i(function(e){if(e.length%n!=0){var i=e.length+(n-e.length%n);e=t.concat([e,r],i)}for(var a=new Array(e.length>>>2),o=0,s=0;o<e.length;o+=n,s++)a[s]=e.readInt32LE(o);return a}(e),8*e.length);e=new t(16);for(var o=0;o<a.length;o++)e.writeInt32LE(a[o],o<<2,!0);return e}}).call(this,n(7).Buffer)},function(e,t,n){"use strict";t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,a=h&(1<<-l)-1,h>>=-l,l+=s;l>0;a=256*a+e[t+f],f+=d,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=r;l>0;o=256*o+e[t+f],f+=d,l-=8);if(0===a)a=1-u;else{if(a===c)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),a-=u}return(h?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,c,u=8*a-i-1,l=(1<<u)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(o++,c/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(t*c-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+h]=255&o,h+=p,o/=256,u-=8);e[n+h-p]|=128*g}},function(e,t,n){"use strict";t.byteLength=function(e){return 3*e.length/4-u(e)},t.toByteArray=function(e){var t,n,r,o,s,c=e.length;o=u(e),s=new a(3*c/4-o),n=o>0?c-4:c;var l=0;for(t=0;t<n;t+=4)r=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],s[l++]=r>>16&255,s[l++]=r>>8&255,s[l++]=255&r;2===o?(r=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,s[l++]=255&r):1===o&&(r=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,s[l++]=r>>8&255,s[l++]=255&r);return s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a="",o=[],s=0,c=n-i;s<c;s+=16383)o.push(l(e,s,s+16383>c?c:s+16383));1===i?(t=e[n-1],a+=r[t>>2],a+=r[t<<4&63],a+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],a+=r[t>>10],a+=r[t>>4&63],a+=r[t<<2&63],a+="=");return o.push(a),o.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function l(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n(54),t.createHash=t.Hash=n(64),t.createHmac=t.Hmac=n(154);var r=n(395),i=Object.keys(r),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return a};var o=n(152);t.pbkdf2=o.pbkdf2,t.pbkdf2Sync=o.pbkdf2Sync;var s=n(393);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var c=n(374);t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var u=n(369);t.createSign=u.createSign,t.Sign=u.Sign,t.createVerify=u.createVerify,t.Verify=u.Verify,t.createECDH=n(331);var l=n(330);t.publicEncrypt=l.publicEncrypt,t.privateEncrypt=l.privateEncrypt,t.publicDecrypt=l.publicDecrypt,t.privateDecrypt=l.privateDecrypt;var f=n(327);t.randomFill=f.randomFill,t.randomFillSync=f.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t,n){"use strict";var r;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};function o(e,t,n){if(4!==t.length)throw new a.exception.invalid("invalid aes block size");var r=e.b[n],i=t[0]^r[0],o=t[n?3:1]^r[1],s=t[2]^r[2];t=t[n?1:3]^r[3];var c,u,l,f,d=r.length/4-2,h=4,p=[0,0,0,0];e=(c=e.s[n])[0];var g=c[1],m=c[2],b=c[3],v=c[4];for(f=0;f<d;f++)c=e[i>>>24]^g[o>>16&255]^m[s>>8&255]^b[255&t]^r[h],u=e[o>>>24]^g[s>>16&255]^m[t>>8&255]^b[255&i]^r[h+1],l=e[s>>>24]^g[t>>16&255]^m[i>>8&255]^b[255&o]^r[h+2],t=e[t>>>24]^g[i>>16&255]^m[o>>8&255]^b[255&s]^r[h+3],h+=4,i=c,o=u,s=l;for(f=0;4>f;f++)p[n?3&-f:f]=v[i>>>24]<<24^v[o>>16&255]<<16^v[s>>8&255]<<8^v[255&t]^r[h++],c=i,i=o,o=s,s=t,t=c;return p}function s(e,t){var n,r,i,a=e.F,o=e.b,s=a[0],c=a[1],u=a[2],l=a[3],f=a[4],d=a[5],h=a[6],p=a[7];for(n=0;64>n;n++)16>n?r=t[n]:(r=t[n+1&15],i=t[n+14&15],r=t[15&n]=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(i>>>17^i>>>19^i>>>10^i<<15^i<<13)+t[15&n]+t[n+9&15]|0),r=r+p+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(h^f&(d^h))+o[n],p=h,h=d,d=f,f=l+r|0,l=u,u=c,s=r+((c=s)&u^l&(c^u))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;a[0]=a[0]+s|0,a[1]=a[1]+c|0,a[2]=a[2]+u|0,a[3]=a[3]+l|0,a[4]=a[4]+f|0,a[5]=a[5]+d|0,a[6]=a[6]+h|0,a[7]=a[7]+p|0}function c(e,t){var n,r=a.random.K[e],i=[];for(n in r)r.hasOwnProperty(n)&&i.push(r[n]);for(n=0;n<i.length;n++)i[n](t)}function u(e,t){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?e.addEntropy(window.performance.now(),t,"loadtime"):e.addEntropy((new Date).valueOf(),t,"loadtime")}function l(e){e.b=f(e).concat(f(e)),e.L=new a.cipher.aes(e.b)}function f(e){for(var t=0;4>t&&(e.h[t]=e.h[t]+1|0,!e.h[t]);t++);return e.L.encrypt(e.h)}function d(e,t){return function(){t.apply(e,arguments)}}a.cipher.aes=function(e){this.s[0][0][0]||this.O();var t,n,r,i,o=this.s[0][4],s=this.s[1],c=1;if(4!==(t=e.length)&&6!==t&&8!==t)throw new a.exception.invalid("invalid aes key size");for(this.b=[r=e.slice(0),i=[]],e=t;e<4*t+28;e++)n=r[e-1],(0==e%t||8===t&&4==e%t)&&(n=o[n>>>24]<<24^o[n>>16&255]<<16^o[n>>8&255]<<8^o[255&n],0==e%t&&(n=n<<8^n>>>24^c<<24,c=c<<1^283*(c>>7))),r[e]=r[e-t]^n;for(t=0;e;t++,e--)n=r[3&t?e:e-4],i[t]=4>=e||4>t?n:s[0][o[n>>>24]]^s[1][o[n>>16&255]]^s[2][o[n>>8&255]]^s[3][o[255&n]]},a.cipher.aes.prototype={encrypt:function(e){return o(this,e,0)},decrypt:function(e){return o(this,e,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var e,t,n,r,i,a,o,s=this.s[0],c=this.s[1],u=s[4],l=c[4],f=[],d=[];for(e=0;256>e;e++)d[(f[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!u[t];t^=r||1,n=d[n]||1)for(a=(a=n^n<<1^n<<2^n<<3^n<<4)>>8^255&a^99,u[t]=a,l[a]=t,o=16843009*(i=f[e=f[r=f[t]]])^65537*e^257*r^16843008*t,i=257*f[a]^16843008*a,e=0;4>e;e++)s[e][t]=i=i<<24^i>>>8,c[e][a]=o=o<<24^o>>>8;for(e=0;5>e;e++)s[e]=s[e].slice(0),c[e]=c[e].slice(0)}},a.bitArray={bitSlice:function(e,t,n){return e=a.bitArray.$(e.slice(t/32),32-(31&t)).slice(1),void 0===n?e:a.bitArray.clamp(e,n-t)},extract:function(e,t,n){var r=Math.floor(-t-n&31);return(-32&(t+n-1^t)?e[t/32|0]<<32-r^e[t/32+1|0]>>>r:e[t/32|0]>>>r)&(1<<n)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var n=e[e.length-1],r=a.bitArray.getPartial(n);return 32===r?e.concat(t):a.bitArray.$(t,r,0|n,e.slice(0,e.length-1))},bitLength:function(e){var t=e.length;return 0===t?0:32*(t-1)+a.bitArray.getPartial(e[t-1])},clamp:function(e,t){if(32*e.length<t)return e;var n=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,0<n&&t&&(e[n-1]=a.bitArray.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(a.bitArray.bitLength(e)!==a.bitArray.bitLength(t))return!1;var n,r=0;for(n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},$:function(e,t,n,r){var i;for(i=0,void 0===r&&(r=[]);32<=t;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(i=0;i<e.length;i++)r.push(n|e[i]>>>t),n=e[i]<<32-t;return i=e.length?e[e.length-1]:0,e=a.bitArray.getPartial(i),r.push(a.bitArray.partial(t+e&31,32<t+e?n:r.pop(),1)),r},i:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,n;for(t=0;t<e.length;++t)n=e[t],e[t]=n>>>24|n>>>8&65280|(65280&n)<<8|n<<24;return e}},a.codec.utf8String={fromBits:function(e){var t,n,r="",i=a.bitArray.bitLength(e);for(t=0;t<i/8;t++)0==(3&t)&&(n=e[t/4]),r+=String.fromCharCode(n>>>8>>>8>>>8),n<<=8;return decodeURIComponent(escape(r))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,n=[],r=0;for(t=0;t<e.length;t++)r=r<<8|e.charCodeAt(t),3==(3&t)&&(n.push(r),r=0);return 3&t&&n.push(a.bitArray.partial(8*(3&t),r)),n}},a.codec.hex={fromBits:function(e){var t,n="";for(t=0;t<e.length;t++)n+=(0xf00000000000+(0|e[t])).toString(16).substr(4);return n.substr(0,a.bitArray.bitLength(e)/4)},toBits:function(e){var t,n,r=[];for(n=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",t=0;t<e.length;t+=8)r.push(0^parseInt(e.substr(t,8),16));return a.bitArray.clamp(r,4*n)}},a.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(e,t,n){var r=a.codec.base32.BASE,i=a.codec.base32.REMAINING,o="",s=0,c=a.codec.base32.B,u=0,l=a.bitArray.bitLength(e);for(n&&(c=a.codec.base32.X),n=0;o.length*r<l;)o+=c.charAt((u^e[n]>>>s)>>>i),s<r?(u=e[n]<<r-s,s+=i,n++):(u<<=r,s-=r);for(;7&o.length&&!t;)o+="=";return o},toBits:function(e,t){e=e.replace(/\s|=/g,"").toUpperCase();var n,r,i=a.codec.base32.BITS,o=a.codec.base32.BASE,s=a.codec.base32.REMAINING,c=[],u=0,l=a.codec.base32.B,f=0,d="base32";for(t&&(l=a.codec.base32.X,d="base32hex"),n=0;n<e.length;n++){if(0>(r=l.indexOf(e.charAt(n)))){if(!t)try{return a.codec.base32hex.toBits(e)}catch(e){}throw new a.exception.invalid("this isn't "+d+"!")}u>s?(u-=s,c.push(f^r>>>u),f=r<<i-u):f^=r<<i-(u+=o)}return 56&u&&c.push(a.bitArray.partial(56&u,f,1)),c}},a.codec.base32hex={fromBits:function(e,t){return a.codec.base32.fromBits(e,t,1)},toBits:function(e){return a.codec.base32.toBits(e,1)}},a.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,t,n){var r="",i=0,o=a.codec.base64.B,s=0,c=a.bitArray.bitLength(e);for(n&&(o=o.substr(0,62)+"-_"),n=0;6*r.length<c;)r+=o.charAt((s^e[n]>>>i)>>>26),6>i?(s=e[n]<<6-i,i+=26,n++):(s<<=6,i-=6);for(;3&r.length&&!t;)r+="=";return r},toBits:function(e,t){e=e.replace(/\s|=/g,"");var n,r,i=[],o=0,s=a.codec.base64.B,c=0;for(t&&(s=s.substr(0,62)+"-_"),n=0;n<e.length;n++){if(0>(r=s.indexOf(e.charAt(n))))throw new a.exception.invalid("this isn't base64!");26<o?(o-=26,i.push(c^r>>>o),c=r<<32-o):c^=r<<32-(o+=6)}return 56&o&&i.push(a.bitArray.partial(56&o,c,1)),i}},a.codec.base64url={fromBits:function(e){return a.codec.base64.fromBits(e,1,1)},toBits:function(e){return a.codec.base64.toBits(e,1)}},a.hash.sha256=function(e){this.b[0]||this.O(),e?(this.F=e.F.slice(0),this.A=e.A.slice(0),this.l=e.l):this.reset()},a.hash.sha256.hash=function(e){return(new a.hash.sha256).update(e).finalize()},a.hash.sha256.prototype={blockSize:512,reset:function(){return this.F=this.Y.slice(0),this.A=[],this.l=0,this},update:function(e){"string"==typeof e&&(e=a.codec.utf8String.toBits(e));var t,n=this.A=a.bitArray.concat(this.A,e);if(t=this.l,9007199254740991<(e=this.l=t+a.bitArray.bitLength(e)))throw new a.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var r=new Uint32Array(n),i=0;for(t=512+t-(512+t&511);t<=e;t+=512)s(this,r.subarray(16*i,16*(i+1))),i+=1;n.splice(0,16*i)}else for(t=512+t-(512+t&511);t<=e;t+=512)s(this,n.splice(0,16));return this},finalize:function(){var e,t=this.A,n=this.F;for(e=(t=a.bitArray.concat(t,[a.bitArray.partial(1,1)])).length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this.l/4294967296)),t.push(0|this.l);t.length;)s(this,t.splice(0,16));return this.reset(),n},Y:[],b:[],O:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var t,n,r=0,i=2;64>r;i++){for(n=!0,t=2;t*t<=i;t++)if(0==i%t){n=!1;break}n&&(8>r&&(this.Y[r]=e(Math.pow(i,.5))),this.b[r]=e(Math.pow(i,1/3)),r++)}}},a.mode.ccm={name:"ccm",G:[],listenProgress:function(e){a.mode.ccm.G.push(e)},unListenProgress:function(e){-1<(e=a.mode.ccm.G.indexOf(e))&&a.mode.ccm.G.splice(e,1)},fa:function(e){var t,n=a.mode.ccm.G.slice();for(t=0;t<n.length;t+=1)n[t](e)},encrypt:function(e,t,n,r,i){var o,s=t.slice(0),c=a.bitArray,u=c.bitLength(n)/8,l=c.bitLength(s)/8;if(i=i||64,r=r||[],7>u)throw new a.exception.invalid("ccm: iv must be at least 7 bytes");for(o=2;4>o&&l>>>8*o;o++);return o<15-u&&(o=15-u),n=c.clamp(n,8*(15-o)),t=a.mode.ccm.V(e,t,n,r,i,o),s=a.mode.ccm.C(e,s,n,t,i,o),c.concat(s.data,s.tag)},decrypt:function(e,t,n,r,i){i=i||64,r=r||[];var o=a.bitArray,s=o.bitLength(n)/8,c=o.bitLength(t),u=o.clamp(t,c-i),l=o.bitSlice(t,c-i);c=(c-i)/8;if(7>s)throw new a.exception.invalid("ccm: iv must be at least 7 bytes");for(t=2;4>t&&c>>>8*t;t++);if(t<15-s&&(t=15-s),n=o.clamp(n,8*(15-t)),u=a.mode.ccm.C(e,u,n,l,i,t),e=a.mode.ccm.V(e,u.data,n,r,i,t),!o.equal(u.tag,e))throw new a.exception.corrupt("ccm: tag doesn't match");return u.data},na:function(e,t,n,r,i,o){var s=[],c=a.bitArray,u=c.i;if(r=[c.partial(8,(t.length?64:0)|r-2<<2|o-1)],(r=c.concat(r,n))[3]|=i,r=e.encrypt(r),t.length)for(65279>=(n=c.bitLength(t)/8)?s=[c.partial(16,n)]:4294967295>=n&&(s=c.concat([c.partial(16,65534)],[n])),s=c.concat(s,t),t=0;t<s.length;t+=4)r=e.encrypt(u(r,s.slice(t,t+4).concat([0,0,0])));return r},V:function(e,t,n,r,i,o){var s=a.bitArray,c=s.i;if((i/=8)%2||4>i||16<i)throw new a.exception.invalid("ccm: invalid tag length");if(4294967295<r.length||4294967295<t.length)throw new a.exception.bug("ccm: can't deal with 4GiB or more data");for(n=a.mode.ccm.na(e,r,n,i,s.bitLength(t)/8,o),r=0;r<t.length;r+=4)n=e.encrypt(c(n,t.slice(r,r+4).concat([0,0,0])));return s.clamp(n,8*i)},C:function(e,t,n,r,i,o){var s,c=a.bitArray;s=c.i;var u=t.length,l=c.bitLength(t),f=u/50,d=f;if(n=c.concat([c.partial(8,o-1)],n).concat([0,0,0]).slice(0,4),r=c.bitSlice(s(r,e.encrypt(n)),0,i),!u)return{tag:r,data:[]};for(s=0;s<u;s+=4)s>f&&(a.mode.ccm.fa(s/u),f+=d),n[3]++,i=e.encrypt(n),t[s]^=i[0],t[s+1]^=i[1],t[s+2]^=i[2],t[s+3]^=i[3];return{tag:r,data:c.clamp(t,l)}}},a.mode.ocb2={name:"ocb2",encrypt:function(e,t,n,r,i,o){if(128!==a.bitArray.bitLength(n))throw new a.exception.invalid("ocb iv must be 128 bits");var s,c=a.mode.ocb2.S,u=a.bitArray,l=u.i,f=[0,0,0,0];n=c(e.encrypt(n));var d,h=[];for(r=r||[],i=i||64,s=0;s+4<t.length;s+=4)f=l(f,d=t.slice(s,s+4)),h=h.concat(l(n,e.encrypt(l(n,d)))),n=c(n);return d=t.slice(s),t=u.bitLength(d),s=e.encrypt(l(n,[0,0,0,t])),f=l(f,l((d=u.clamp(l(d.concat([0,0,0]),s),t)).concat([0,0,0]),s)),f=e.encrypt(l(f,l(n,c(n)))),r.length&&(f=l(f,o?r:a.mode.ocb2.pmac(e,r))),h.concat(u.concat(d,u.clamp(f,i)))},decrypt:function(e,t,n,r,i,o){if(128!==a.bitArray.bitLength(n))throw new a.exception.invalid("ocb iv must be 128 bits");i=i||64;var s,c,u=a.mode.ocb2.S,l=a.bitArray,f=l.i,d=[0,0,0,0],h=u(e.encrypt(n)),p=a.bitArray.bitLength(t)-i,g=[];for(r=r||[],n=0;n+4<p/32;n+=4)d=f(d,s=f(h,e.decrypt(f(h,t.slice(n,n+4))))),g=g.concat(s),h=u(h);if(c=p-32*n,d=f(d,s=f(s=e.encrypt(f(h,[0,0,0,c])),l.clamp(t.slice(n),c).concat([0,0,0]))),d=e.encrypt(f(d,f(h,u(h)))),r.length&&(d=f(d,o?r:a.mode.ocb2.pmac(e,r))),!l.equal(l.clamp(d,i),l.bitSlice(t,p)))throw new a.exception.corrupt("ocb: tag doesn't match");return g.concat(l.clamp(s,c))},pmac:function(e,t){var n,r=a.mode.ocb2.S,i=a.bitArray,o=i.i,s=[0,0,0,0],c=o(c=e.encrypt([0,0,0,0]),r(r(c)));for(n=0;n+4<t.length;n+=4)c=r(c),s=o(s,e.encrypt(o(c,t.slice(n,n+4))));return n=t.slice(n),128>i.bitLength(n)&&(c=o(c,r(c)),n=i.concat(n,[-2147483648,0,0,0])),s=o(s,n),e.encrypt(o(r(o(c,r(c))),s))},S:function(e){return[e[0]<<1^e[1]>>>31,e[1]<<1^e[2]>>>31,e[2]<<1^e[3]>>>31,e[3]<<1^135*(e[0]>>>31)]}},a.mode.gcm={name:"gcm",encrypt:function(e,t,n,r,i){var o=t.slice(0);return t=a.bitArray,r=r||[],e=a.mode.gcm.C(!0,e,o,r,n,i||128),t.concat(e.data,e.tag)},decrypt:function(e,t,n,r,i){var o=t.slice(0),s=a.bitArray,c=s.bitLength(o);if(i=i||128,r=r||[],i<=c?(t=s.bitSlice(o,c-i),o=s.bitSlice(o,0,c-i)):(t=o,o=[]),e=a.mode.gcm.C(!1,e,o,r,n,i),!s.equal(e.tag,t))throw new a.exception.corrupt("gcm: tag doesn't match");return e.data},ka:function(e,t){var n,r,i,o,s,c=a.bitArray.i;for(i=[0,0,0,0],o=t.slice(0),n=0;128>n;n++){for((r=0!=(e[Math.floor(n/32)]&1<<31-n%32))&&(i=c(i,o)),s=0!=(1&o[3]),r=3;0<r;r--)o[r]=o[r]>>>1|(1&o[r-1])<<31;o[0]>>>=1,s&&(o[0]^=-520093696)}return i},j:function(e,t,n){var r,i=n.length;for(t=t.slice(0),r=0;r<i;r+=4)t[0]^=4294967295&n[r],t[1]^=4294967295&n[r+1],t[2]^=4294967295&n[r+2],t[3]^=4294967295&n[r+3],t=a.mode.gcm.ka(t,e);return t},C:function(e,t,n,r,i,o){var s,c,u,l,f,d,h,p,g=a.bitArray;for(d=n.length,h=g.bitLength(n),p=g.bitLength(r),c=g.bitLength(i),s=t.encrypt([0,0,0,0]),96===c?(i=i.slice(0),i=g.concat(i,[1])):(i=a.mode.gcm.j(s,[0,0,0,0],i),i=a.mode.gcm.j(s,i,[0,0,Math.floor(c/4294967296),4294967295&c])),c=a.mode.gcm.j(s,[0,0,0,0],r),f=i.slice(0),r=c.slice(0),e||(r=a.mode.gcm.j(s,c,n)),l=0;l<d;l+=4)f[3]++,u=t.encrypt(f),n[l]^=u[0],n[l+1]^=u[1],n[l+2]^=u[2],n[l+3]^=u[3];return n=g.clamp(n,h),e&&(r=a.mode.gcm.j(s,c,n)),e=[Math.floor(p/4294967296),4294967295&p,Math.floor(h/4294967296),4294967295&h],r=a.mode.gcm.j(s,r,e),u=t.encrypt(i),r[0]^=u[0],r[1]^=u[1],r[2]^=u[2],r[3]^=u[3],{tag:g.bitSlice(r,0,o),data:n}}},a.misc.hmac=function(e,t){this.W=t=t||a.hash.sha256;var n,r=[[],[]],i=t.prototype.blockSize/32;for(this.w=[new t,new t],e.length>i&&(e=t.hash(e)),n=0;n<i;n++)r[0][n]=909522486^e[n],r[1][n]=1549556828^e[n];this.w[0].update(r[0]),this.w[1].update(r[1]),this.R=new t(this.w[0])},a.misc.hmac.prototype.encrypt=a.misc.hmac.prototype.mac=function(e){if(this.aa)throw new a.exception.invalid("encrypt on already updated hmac called!");return this.update(e),this.digest(e)},a.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]),this.aa=!1},a.misc.hmac.prototype.update=function(e){this.aa=!0,this.R.update(e)},a.misc.hmac.prototype.digest=function(){var e=this.R.finalize();e=new this.W(this.w[1]).update(e).finalize();return this.reset(),e},a.misc.pbkdf2=function(e,t,n,r,i){if(n=n||1e4,0>r||0>n)throw new a.exception.invalid("invalid params to pbkdf2");"string"==typeof e&&(e=a.codec.utf8String.toBits(e)),"string"==typeof t&&(t=a.codec.utf8String.toBits(t)),e=new(i=i||a.misc.hmac)(e);var o,s,c,u,l=[],f=a.bitArray;for(u=1;32*l.length<(r||1);u++){for(i=o=e.encrypt(f.concat(t,[u])),s=1;s<n;s++)for(o=e.encrypt(o),c=0;c<o.length;c++)i[c]^=o[c];l=l.concat(i)}return r&&(l=f.clamp(l,r)),l},a.prng=function(e){this.c=[new a.hash.sha256],this.m=[0],this.P=0,this.H={},this.N=0,this.U={},this.Z=this.f=this.o=this.ha=0,this.b=[0,0,0,0,0,0,0,0],this.h=[0,0,0,0],this.L=void 0,this.M=e,this.D=!1,this.K={progress:{},seeded:{}},this.u=this.ga=0,this.I=1,this.J=2,this.ca=65536,this.T=[0,48,64,96,128,192,256,384,512,768,1024],this.da=3e4,this.ba=80},a.prng.prototype={randomWords:function(e,t){var n,r,i=[];if((n=this.isReady(t))===this.u)throw new a.exception.notReady("generator isn't seeded");if(n&this.J){n=!(n&this.I),r=[];var o,s=0;for(this.Z=r[0]=(new Date).valueOf()+this.da,o=0;16>o;o++)r.push(4294967296*Math.random()|0);for(o=0;o<this.c.length&&(r=r.concat(this.c[o].finalize()),s+=this.m[o],this.m[o]=0,n||!(this.P&1<<o));o++);for(this.P>=1<<this.c.length&&(this.c.push(new a.hash.sha256),this.m.push(0)),this.f-=s,s>this.o&&(this.o=s),this.P++,this.b=a.hash.sha256.hash(this.b.concat(r)),this.L=new a.cipher.aes(this.b),n=0;4>n&&(this.h[n]=this.h[n]+1|0,!this.h[n]);n++);}for(n=0;n<e;n+=4)0==(n+1)%this.ca&&l(this),r=f(this),i.push(r[0],r[1],r[2],r[3]);return l(this),i.slice(0,e)},setDefaultParanoia:function(e,t){if(0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==t)throw new a.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=e},addEntropy:function(e,t,n){n=n||"user";var r,o,s=(new Date).valueOf(),u=this.H[n],l=this.isReady(),f=0;switch(void 0===(r=this.U[n])&&(r=this.U[n]=this.ha++),void 0===u&&(u=this.H[n]=0),this.H[n]=(this.H[n]+1)%this.c.length,i(e)){case"number":void 0===t&&(t=1),this.c[u].update([r,this.N++,1,t,s,1,0|e]);break;case"object":if("[object Uint32Array]"===(n=Object.prototype.toString.call(e))){for(o=[],n=0;n<e.length;n++)o.push(e[n]);e=o}else for("[object Array]"!==n&&(f=1),n=0;n<e.length&&!f;n++)"number"!=typeof e[n]&&(f=1);if(!f){if(void 0===t)for(n=t=0;n<e.length;n++)for(o=e[n];0<o;)t++,o>>>=1;this.c[u].update([r,this.N++,2,t,s,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this.c[u].update([r,this.N++,3,t,s,e.length]),this.c[u].update(e);break;default:f=1}if(f)throw new a.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[u]+=t,this.f+=t,l===this.u&&(this.isReady()!==this.u&&c("seeded",Math.max(this.o,this.f)),c("progress",this.getProgress()))},isReady:function(e){return e=this.T[void 0!==e?e:this.M],this.o&&this.o>=e?this.m[0]>this.ba&&(new Date).valueOf()>this.Z?this.J|this.I:this.I:this.f>=e?this.J|this.u:this.u},getProgress:function(e){return e=this.T[e||this.M],this.o>=e?1:this.f>e?1:this.f/e},startCollectors:function(){if(!this.D){if(this.a={loadTimeCollector:d(this,this.ma),mouseCollector:d(this,this.oa),keyboardCollector:d(this,this.la),accelerometerCollector:d(this,this.ea),touchCollector:d(this,this.qa)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new a.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(e,t){this.K[e][this.ga++]=t},removeEventListener:function(e,t){var n,r,i=this.K[e],a=[];for(r in i)i.hasOwnProperty(r)&&i[r]===t&&a.push(r);for(n=0;n<a.length;n++)delete i[r=a[n]]},la:function(){u(this,1)},oa:function(e){var t,n;try{t=e.x||e.clientX||e.offsetX||0,n=e.y||e.clientY||e.offsetY||0}catch(e){n=t=0}0!=t&&0!=n&&this.addEntropy([t,n],2,"mouse"),u(this,0)},qa:function(e){e=e.touches[0]||e.changedTouches[0],this.addEntropy([e.pageX||e.clientX,e.pageY||e.clientY],1,"touch"),u(this,0)},ma:function(){u(this,2)},ea:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var t=window.orientation;"number"==typeof t&&this.addEntropy(t,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),u(this,0)}},a.random=new a.prng(6);e:try{var h,p,g,m;if(m=void 0!==e&&e.exports){var b;try{b=n(416)}catch(e){b=null}m=p=b}if(m&&p.randomBytes)h=p.randomBytes(128),h=new Uint32Array(new Uint8Array(h).buffer),a.random.addEntropy(h,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(g=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(g);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(g)}a.random.addEntropy(g,1024,"crypto['getRandomValues']")}}catch(e){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(e))}a.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(e,t,n,r){n=n||{},r=r||{};var i,o=a.json,s=o.g({iv:a.random.randomWords(4,0)},o.defaults);if(o.g(s,n),n=s.adata,"string"==typeof s.salt&&(s.salt=a.codec.base64.toBits(s.salt)),"string"==typeof s.iv&&(s.iv=a.codec.base64.toBits(s.iv)),!a.mode[s.mode]||!a.cipher[s.cipher]||"string"==typeof e&&100>=s.iter||64!==s.ts&&96!==s.ts&&128!==s.ts||128!==s.ks&&192!==s.ks&&256!==s.ks||2>s.iv.length||4<s.iv.length)throw new a.exception.invalid("json encrypt: invalid parameters");return"string"==typeof e?(e=(i=a.misc.cachedPbkdf2(e,s)).key.slice(0,s.ks/32),s.salt=i.salt):a.ecc&&e instanceof a.ecc.elGamal.publicKey&&(i=e.kem(),s.kemtag=i.tag,e=i.key.slice(0,s.ks/32)),"string"==typeof t&&(t=a.codec.utf8String.toBits(t)),"string"==typeof n&&(s.adata=n=a.codec.utf8String.toBits(n)),i=new a.cipher[s.cipher](e),o.g(r,s),r.key=e,s.ct="ccm"===s.mode&&a.arrayBuffer&&a.arrayBuffer.ccm&&t instanceof ArrayBuffer?a.arrayBuffer.ccm.encrypt(i,t,s.iv,n,s.ts):a.mode[s.mode].encrypt(i,t,s.iv,n,s.ts),s},encrypt:function(e,t,n,r){var i=a.json,o=i.ja.apply(i,arguments);return i.encode(o)},ia:function(e,t,n,r){n=n||{},r=r||{};var i,o,s=a.json;if(i=(t=s.g(s.g(s.g({},s.defaults),t),n,!0)).adata,"string"==typeof t.salt&&(t.salt=a.codec.base64.toBits(t.salt)),"string"==typeof t.iv&&(t.iv=a.codec.base64.toBits(t.iv)),!a.mode[t.mode]||!a.cipher[t.cipher]||"string"==typeof e&&100>=t.iter||64!==t.ts&&96!==t.ts&&128!==t.ts||128!==t.ks&&192!==t.ks&&256!==t.ks||!t.iv||2>t.iv.length||4<t.iv.length)throw new a.exception.invalid("json decrypt: invalid parameters");return"string"==typeof e?(e=(o=a.misc.cachedPbkdf2(e,t)).key.slice(0,t.ks/32),t.salt=o.salt):a.ecc&&e instanceof a.ecc.elGamal.secretKey&&(e=e.unkem(a.codec.base64.toBits(t.kemtag)).slice(0,t.ks/32)),"string"==typeof i&&(i=a.codec.utf8String.toBits(i)),o=new a.cipher[t.cipher](e),i="ccm"===t.mode&&a.arrayBuffer&&a.arrayBuffer.ccm&&t.ct instanceof ArrayBuffer?a.arrayBuffer.ccm.decrypt(o,t.ct,t.iv,t.tag,i,t.ts):a.mode[t.mode].decrypt(o,t.ct,t.iv,i,t.ts),s.g(r,t),r.key=e,1===n.raw?i:a.codec.utf8String.fromBits(i)},decrypt:function(e,t,n,r){var i=a.json;return i.ia(e,i.decode(t),n,r)},encode:function(e){var t,n="{",r="";for(t in e)if(e.hasOwnProperty(t)){if(!t.match(/^[a-z0-9]+$/i))throw new a.exception.invalid("json encode: invalid property name");switch(n+=r+'"'+t+'":',r=",",i(e[t])){case"number":case"boolean":n+=e[t];break;case"string":n+='"'+escape(e[t])+'"';break;case"object":n+='"'+a.codec.base64.fromBits(e[t],0)+'"';break;default:throw new a.exception.bug("json encode: unsupported type")}}return n+"}"},decode:function(e){if(!(e=e.replace(/\s/g,"")).match(/^\{.*\}$/))throw new a.exception.invalid("json decode: this isn't json!");e=e.replace(/^\{|\}$/g,"").split(/,/);var t,n,r={};for(t=0;t<e.length;t++){if(!(n=e[t].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new a.exception.invalid("json decode: this isn't json!");null!=n[3]?r[n[2]]=parseInt(n[3],10):null!=n[4]?r[n[2]]=n[2].match(/^(ct|adata|salt|iv)$/)?a.codec.base64.toBits(n[4]):unescape(n[4]):null!=n[5]&&(r[n[2]]="true"===n[5])}return r},g:function(e,t,n){if(void 0===e&&(e={}),void 0===t)return e;for(var r in t)if(t.hasOwnProperty(r)){if(n&&void 0!==e[r]&&e[r]!==t[r])throw new a.exception.invalid("required parameter overridden");e[r]=t[r]}return e},sa:function(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&e[n]!==t[n]&&(r[n]=e[n]);return r},ra:function(e,t){var n,r={};for(n=0;n<t.length;n++)void 0!==e[t[n]]&&(r[t[n]]=e[t[n]]);return r}},a.encrypt=a.json.encrypt,a.decrypt=a.json.decrypt,a.misc.pa={},a.misc.cachedPbkdf2=function(e,t){var n,r=a.misc.pa;return n=(t=t||{}).iter||1e3,(n=(r=r[e]=r[e]||{})[n]=r[n]||{firstSalt:t.salt&&t.salt.length?t.salt.slice(0):a.random.randomWords(2,0)})[r=void 0===t.salt?n.firstSalt:t.salt]=n[r]||a.misc.pbkdf2(e,r,t.iter),{key:n[r].slice(0),salt:r.slice(0)}},void 0!==e&&e.exports&&(e.exports=a),void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s,c,u=n(417),l=n(326),f=n(324);if("undefined"==typeof window){var d=n(128);s=d.TextEncoder,c=d.TextDecoder}else s=window.TextEncoder,c=window.TextDecoder;var h=new s,p=new c("utf-8",{fatal:!0}),g=Math.pow(2,32)-1,m=function(e){if(e instanceof Array)try{e=I(e)}catch(e){}if(e instanceof Uint8Array){if(!O(e))return'b64"'.concat(A(e),'"');e=S(e)}return"string"==typeof e?'"'.concat(e,'"'):"type ".concat(o(e)," (").concat(JSON.stringify(e),")")},b=function(){function e(t){r(this,e),this._buf=new Uint8Array(t),this._length=0}return a(e,[{key:"appendBytes",value:function(e){this._grow(this._length+e.length),this._buf.set(e,this._length),this._length+=e.length}},{key:"appendByte",value:function(e){this._grow(this._length+1),this._buf[this._length]=e,this._length++}},{key:"appendUvarint",value:function(e){if(e>g||e<0)throw new RangeError("varint ".concat(e," out of range"));this._grow(this._length+v);for(var t=this._length;e>=128;)this._buf[t++]=255&e|128,e>>>=7;this._buf[t++]=0|e,this._length=t}},{key:"_grow",value:function(e){if(!(e<=this._capacity)){var t=2*this._buf.length,n=new Uint8Array(e>t?e:t);n.set(this._buf.subarray(0,this._length)),this._buf=n}}},{key:"bytes",get:function(){return this._buf.subarray(0,this._length)}}]),e}(),v=5,y=function(){function e(t){r(this,e),this._buf=t,this._index=0}return a(e,[{key:"readByte",value:function(){if(this.length<=0)throw new RangeError("Read past end of buffer");return this._buf[this._index++]}},{key:"peekByte",value:function(){if(this.length<=0)throw new RangeError("Read past end of buffer");return this._buf[this._index]}},{key:"readN",value:function(e){if(this.length<e)throw new RangeError("Read past end of buffer");var t=this._buf.subarray(this._index,this._index+e);return this._index+=e,t}},{key:"readUvarint",value:function(){for(var e=this._buf.length,t=0,n=0,r=this._index;r<e;r++){var i=this._buf[r];if(i<128){var a=r-this._index;if(this._index=r+1,a>v||a===v&&i>1)throw new RangeError("Overflow error decoding varint");return(t|i<<n)>>>0}t|=(127&i)<<n,n+=7}throw this._index=e,new RangeError("Buffer too small decoding varint")}},{key:"length",get:function(){return this._buf.length-this._index}}]),e}(),_=function(e){return void 0!==e&&null!==e},w=function(e){return _(e)?h.encode(e):e},S=function(e){return _(e)?p.decode(e):e},M=function(e){return u.codec.utf8String.fromBits(e)},E=function(e){return(e=e.replace(/-/g,"+").replace(/_/g,"/")).length%4==0||e.match(/=$/)||(e+="=".repeat(4-e.length%4)),f.decodeBase64(e)},A=function(e){return f.encodeBase64(e).replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")},k=function(e){return u.codec.base64.toBits(f.encodeBase64(e))},I=function(e){return f.decodeBase64(u.codec.base64.fromBits(e))},O=function(e){try{S(e)}catch(e){return!1}return!0},x=function(e,t){if("string"!=typeof e)throw new TypeError("".concat(t," has the wrong type; want string, got ").concat(o(e),"."));return e},P=function(e,t){return _(e)?x(e,t):""},C=function(e,t){if(e instanceof Uint8Array)return e;if("string"==typeof e)return w(e);throw new TypeError("".concat(t," has the wrong type; want string or Uint8Array, got ").concat(o(e),"."))},j=new Uint8Array,R=function(e,t){var n=e.readByte();if(n!==t)throw new Error("Unexpected field type, got ".concat(n," want ").concat(t));return 0===n?j:e.readN(e.readUvarint())},D=function(e,t,n){e.appendByte(t),0!==t&&(e.appendUvarint(n.length),e.appendBytes(n))},B=function(e,t){return e.peekByte()!==t?null:R(e,t)},N=function(e,t,n){O(n)?e[t]=S(n):e[t+"64"]=A(n)},T=function(e,t){var n=new u.misc.hmac(e,u.hash.sha256);return n.update(t),n.digest()},L=function(e,t,n){var r=T(e,t),i=T(e,n);return T(e,u.bitArray.concat(r,i))},$=k(w("macaroons-key-generator")),U=function(e){return T($,e)},F=function(e,t){var n=I(e),r=I(t),i=l.randomBytes(24),a=l.secretbox(r,i,n),o=new Uint8Array(i.length+a.length);return o.set(i,0),o.set(a,i.length),k(o)},z=k(w("\0".repeat(32))),q=function(e,t){return u.bitArray.equal(e,t)?e:L(z,e,t)},V=function(){function e(t){if(r(this,e),t){var n=t.version,i=t.identifierBytes,a=t.locationStr,o=t.caveats,s=t.signatureBytes;if(1!==n&&2!==n)throw new Error("Unexpected version ".concat(n));if(this._version=n,this._locationStr=a,i=C(i,"Identifier"),1===n&&!O(i))throw new Error("Version 1 macaroon identifier must be well-formed UTF-8");this._identifierBits=i&&k(i),this._signatureBits=s&&k(C(s,"Signature")),this._caveats=o?o.map(function(e){var t=C(e.identifierBytes,"Caveat identifier");if(1===n&&!O(t))throw new Error("Version 1 caveat identifier must be well-formed UTF-8");return{_locationStr:P(e.locationStr),_identifierBits:k(t),_vidBits:e.vidBytes&&k(C(e.vidBytes,"Verification ID"))}}):[]}}return a(e,[{key:"addThirdPartyCaveat",value:function(e,t,n){var r={_identifierBits:k(C(t,"Caveat id")),_vidBits:F(this._signatureBits,U(k(C(e,"Caveat root key")))),_locationStr:P(n)};this._signatureBits=L(this._signatureBits,r._vidBits,r._identifierBits),this._caveats.push(r)}},{key:"addFirstPartyCaveat",value:function(e){var t=k(C(e,"Condition"));this._caveats.push({_identifierBits:t}),this._signatureBits=T(this._signatureBits,t)}},{key:"bindToRoot",value:function(e){var t=k(C(e,"Primary macaroon signature"));this._signatureBits=q(t,this._signatureBits)}},{key:"clone",value:function(){var t=new e(null);return t._version=this._version,t._signatureBits=this._signatureBits,t._identifierBits=this._identifierBits,t._locationStr=this._locationStr,t._caveats=this._caveats.slice(),t}},{key:"verify",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=U(k(C(e,"Root key"))),i=n.map(function(e){return 0});this._verify(this._signatureBits,r,t,n,i),n.forEach(function(e,t){if(0===i[t])throw new Error("discharge macaroon ".concat(m(e.identifier)," was not used"));if(1!==i[t])throw new Error("discharge macaroon ".concat(m(e.identifier)," was used more than once"))})}},{key:"_verify",value:function(e,t,n,r,i){var a=T(t,this._identifierBits);this._caveats.forEach(function(t){if(t._vidBits){var o,s,c=function(e,t){var n=I(e),r=I(t),i=r.slice(0,24),a=r.slice(24),o=l.secretbox.open(a,i,n);if(!1===o)throw new Error("decryption failed");return k(o)}(a,t._vidBits),f=!1;for(o=0;o<r.length;o++)if(s=r[o],u.bitArray.equal(s._identifierBits,t._identifierBits)){if(f=!0,i[o]++,i[o]>1)throw new Error("discharge macaroon ".concat(m(s.identifier)," was used more than once"));s._verify(e,c,n,r,i);break}if(!f)throw new Error("cannot find discharge macaroon for caveat ".concat(m(t._identifierBits)));a=L(a,t._vidBits,t._identifierBits)}else{var d=M(t._identifierBits),h=n(d);if(h)throw new Error("caveat check failed (".concat(d,"): ").concat(h));a=T(a,t._identifierBits)}});var o=q(e,a);if(!u.bitArray.equal(o,this._signatureBits))throw new Error("signature mismatch after caveat verification")}},{key:"exportJSON",value:function(){switch(this._version){case 1:return this._exportAsJSONObjectV1();case 2:return this._exportAsJSONObjectV2();default:throw new Error("unexpected macaroon version ".concat(this._version))}}},{key:"_exportAsJSONObjectV1",value:function(){var e={identifier:M(this._identifierBits),signature:u.codec.hex.fromBits(this._signatureBits)};return this._locationStr&&(e.location=this._locationStr),this._caveats.length>0&&(e.caveats=this._caveats.map(function(e){var t={cid:M(e._identifierBits)};return e._vidBits&&(t.vid=u.codec.base64.fromBits(e._vidBits,!0,!0),t.cl=e._locationStr),t})),e}},{key:"_exportAsJSONObjectV2",value:function(){var e={v:2};return N(e,"s",I(this._signatureBits)),N(e,"i",I(this._identifierBits)),this._locationStr&&(e.l=this._locationStr),this._caveats&&this._caveats.length>0&&(e.c=this._caveats.map(function(e){var t={};return N(t,"i",I(e._identifierBits)),e._vidBits&&(N(t,"v",I(e._vidBits)),t.l=e._locationStr),t})),e}},{key:"_exportBinaryV1",value:function(){throw new Error("V1 binary export not supported")}},{key:"_exportBinaryV2",value:function(){var e=new b(200);return e.appendByte(2),this._locationStr&&D(e,1,w(this._locationStr)),D(e,2,I(this._identifierBits)),D(e,0),this._caveats.forEach(function(t){t._locationStr&&D(e,1,w(t._locationStr)),D(e,2,I(t._identifierBits)),t._vidBits&&D(e,4,I(t._vidBits)),D(e,0)}),D(e,0),D(e,6,I(this._signatureBits)),e.bytes}},{key:"exportBinary",value:function(){switch(this._version){case 1:return this._exportBinaryV1();case 2:return this._exportBinaryV2();default:throw new Error("unexpected macaroon version ".concat(this._version))}}},{key:"caveats",get:function(){return this._caveats.map(function(e){return _(e._vidBits)?{identifier:I(e._identifierBits),location:e._locationStr,vid:I(e._vidBits)}:{identifier:I(e._identifierBits)}})}},{key:"location",get:function(){return this._locationStr}},{key:"identifier",get:function(){return I(this._identifierBits)}},{key:"signature",get:function(){return I(this._signatureBits)}}]),e}(),H=function(e){return _(e.signature)?K(e):G(e)},K=function(e){var t=e.caveats&&e.caveats.map(function(e){var t={identifierBytes:w(x(e.cid,"Caveat id")),locationStr:P(e.cl,"Caveat location")};return e.vid&&(t.vidBytes=E(x(e.vid,"Caveat verification id"))),t});return new V({version:1,locationStr:P(e.location,"Macaroon location"),identifierBytes:w(x(e.identifier,"Macaroon identifier")),caveats:t,signatureBytes:function(e){for(var t=new Uint8Array(Math.ceil(e.length/2)),n=0;n<t.length;n++)t[n]=parseInt(e.substr(2*n,2),16);return t}(e.signature)})},G=function(e){if(2!==e.v)throw new Error("Unsupported macaroon version ".concat(e.v));var t={version:2,signatureBytes:W(e,"s",!0),locationStr:S(W(e,"l",!1)),identifierBytes:W(e,"i",!0)};if(e.c){if(!Array.isArray(e.c))throw new Error("caveats field does not hold an array");t.caveats=e.c.map(function(e){return{identifierBytes:W(e,"i",!0),locationStr:S(W(e,"l"),!1),vidBytes:W(e,"v",!1)}})}return new V(t)},W=function(e,t,n){if(e.hasOwnProperty(t))return w(e[t]);var r=t+"64";if(e.hasOwnProperty(r))return E(e[r]);if(n)throw new Error("Expected key: "+t);return null},Y=function(e){if(0===e.length)throw new Error("Empty macaroon data");var t,n=e.peekByte();if(2===n)return function(e){var t=e.readByte();if(2!==t)throw new Error("Only version 2 is supported, found version ".concat(t));var n={version:t};for(n.locationStr=S(B(e,1)),n.identifierBytes=R(e,2),R(e,0),n.caveats=[];!B(e,0);){var r={};r.locationStr=S(B(e,1)),r.identifierBytes=R(e,2),r.vidBytes=B(e,4),R(e,0),n.caveats.push(r)}if(n.signatureBytes=R(e,6),0!==e.length)throw new Error("unexpected extra data at end of macaroon");return new V(n)}(e);if(48<=(t=n)&&t<=58||97<=t&&t<=102)throw new Error("Version 1 binary format not supported");throw new Error("Cannot determine data format of binary-encoded macaroon")};e.exports={newMacaroon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.identifier,n=e.location,r=e.rootKey,i=e.version,a=C(t,"Macaroon identifier"),o=C(r,"Macaroon root key");return new V({version:void 0===i?2:i,identifierBytes:a,locationStr:P(n,"Macaroon location"),signatureBytes:I(T(U(k(o)),k(a)))})},dischargeMacaroon:function(e,t,n,r){var i,a=e.signature,o=[e],s=0,c=!1,u=e.location,l=function(e){c||(e.bindToRoot(a),o.push(e),s--,i(e))},f=function(e){c||(r(e),c=!0)};(i=function(e){var r,i;for(i=0;i<e._caveats.length;i++)(r=e._caveats[i])._vidBits&&(t(u,r._locationStr,I(r._identifierBits),l,f),s++);0!==s||n(o)})(e)},importMacaroons:function(e){if("string"==typeof e&&(e=E(e)),e instanceof Uint8Array){if(0===e.length)throw new TypeError("empty macaroon data");var t=new y(e),n=[];do{n.push(Y(t))}while(t.length>0);return n}return Array.isArray(e)?e.map(function(e){return H(e)}):[H(e)]},importMacaroon:function(e){if("string"==typeof e&&(e=E(e)),e instanceof Uint8Array){var t=new y(e),n=Y(t);if(0!==t.length)throw new TypeError("extra data found at end of serialized macaroon");return n}if(Array.isArray(e))throw new TypeError("cannot import an array of macaroons as a single macaroon");return H(e)},bytesToBase64:A,base64ToBytes:E}},function(e,t,n){"use strict";e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t,n){"use strict";var r=n(0),i=n(419)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},function(e,t,n){"use strict";n(420),e.exports=n(34).RegExp.escape},function(e,t,n){"use strict";(function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var r,i=Object.prototype,a=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",l="object"===n(t),f=e.regeneratorRuntime;if(f)l&&(t.exports=f);else{(f=e.regeneratorRuntime=l?t.exports:{}).wrap=w;var d="suspendedStart",h="suspendedYield",p="executing",g="completed",m={},b={};b[s]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(j([])));y&&y!==i&&a.call(y,s)&&(b=y);var _=A.prototype=M.prototype=Object.create(b);E.prototype=_.constructor=A,A.constructor=E,A[u]=E.displayName="GeneratorFunction",f.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},f.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(_),e},f.awrap=function(e){return{__await:e}},k(I.prototype),I.prototype[c]=function(){return this},f.AsyncIterator=I,f.async=function(e,t,n,r){var i=new I(w(e,t,n,r));return f.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},k(_),_[u]="Generator",_[s]=function(){return this},_.toString=function(){return"[object Generator]"},f.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=j,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),m}}}function w(e,t,n,r){var i=t&&t.prototype instanceof M?t:M,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=d;return function(i,a){if(r===p)throw new Error("Generator is already running");if(r===g){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=O(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=S(e,t,n);if("normal"===c.type){if(r=n.done?g:h,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=g,n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function S(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function M(){}function E(){}function A(){}function k(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function I(t){function r(e,i,o,s){var c=S(t[e],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"===n(l)&&a.call(l,"__await")?Promise.resolve(l.__await).then(function(e){r("next",e,o,s)},function(e){r("throw",e,o,s)}):Promise.resolve(l).then(function(e){u.value=e,o(u)},s)}s(c.arg)}var i;"object"===n(e.process)&&e.process.domain&&(r=e.process.domain.bind(r)),this._invoke=function(e,t){function n(){return new Promise(function(n,i){r(e,t,n,i)})}return i=i?i.then(n,n):n()}}function O(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,O(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=S(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}return{next:R}}function R(){return{value:r,done:!0}}}("object"===(void 0===e?"undefined":n(e))?e:"object"===("undefined"==typeof window?"undefined":n(window))?window:"object"===("undefined"==typeof self?"undefined":n(self))?self:void 0)}).call(this,n(24),n(163)(e))},function(e,t,n){"use strict";for(var r=n(105),i=n(49),a=n(17),o=n(3),s=n(18),c=n(56),u=n(8),l=u("iterator"),f=u("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),g=0;g<p.length;g++){var m,b=p[g],v=h[b],y=o[b],_=y&&y.prototype;if(_&&(_[l]||s(_,l,d),_[f]||s(_,f,b),c[b]=d,v))for(m in r)_[m]||a(_,m,r[m],!0)}},function(e,t,n){"use strict";var r=n(0),i=n(104);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){"use strict";var r=n(3),i=n(0),a=n(100),o=[].slice,s=/MSIE .\./.test(a),c=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&o.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(e,t,n){"use strict";var r=n(0),i=n(3),a=n(34),o=n(103)(),s=n(8)("observable"),c=n(14),u=n(2),l=n(44),f=n(42),d=n(18),h=n(43),p=h.RETURN,g=function(e){return null==e?void 0:c(e)},m=function(e){var t=e._c;t&&(e._c=void 0,t())},b=function(e){return void 0===e._o},v=function(e){b(e)||(e._o=void 0,m(e))},y=function(e,t){u(e),this._c=void 0,this._o=e,e=new _(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:c(n),this._c=n)}catch(t){return void e.error(t)}b(this)&&m(this)};y.prototype=f({},{unsubscribe:function(){v(this)}});var _=function(e){this._s=e};_.prototype=f({},{next:function(e){var t=this._s;if(!b(t)){var n=t._o;try{var r=g(n.next);if(r)return r.call(n,e)}catch(e){try{v(t)}finally{throw e}}}},error:function(e){var t=this._s;if(b(t))throw e;var n=t._o;t._o=void 0;try{var r=g(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{m(t)}finally{throw e}}return m(t),e},complete:function(e){var t=this._s;if(!b(t)){var n=t._o;t._o=void 0;try{var r=g(n.complete);e=r?r.call(n,e):void 0}catch(e){try{m(t)}finally{throw e}}return m(t),e}}});var w=function(e){l(this,w,"Observable","_f")._f=c(e)};f(w.prototype,{subscribe:function(e){return new y(e,this._f)},forEach:function(e){var t=this;return new(a.Promise||i.Promise)(function(n,r){c(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n})})}}),f(w,{from:function(e){var t="function"==typeof this?this:w,n=g(u(e)[s]);if(n){var r=u(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return o(function(){if(!n){try{if(h(e,!1,function(e){if(t.next(e),n)return p})===p)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return o(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),d(w.prototype,s,function(){return this}),r(r.G,{Observable:w}),n(45)("Observable")},function(e,t,n){"use strict";var r=n(0),i=n(103)(),a=n(3).process,o="process"==n(26)(a);r(r.G,{asap:function(e){var t=o&&a.domain;i(t?t.bind(e):e)}})},function(e,t,n){"use strict";var r=n(36),i=n(2),a=n(14),o=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(void 0!==r?i:a)(n),o(r))}}})},function(e,t,n){"use strict";var r=n(36),i=n(2),a=r.has,o=r.key;r.exp({hasOwnMetadata:function(e,t){return a(e,i(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,t,n){"use strict";var r=n(36),i=n(2),a=n(21),o=r.has,s=r.key;r.exp({hasMetadata:function(e,t){return function e(t,n,r){if(o(t,n,r))return!0;var i=a(n);return null!==i&&e(t,i,r)}(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){"use strict";var r=n(36),i=n(2),a=r.keys,o=r.key;r.exp({getOwnMetadataKeys:function(e){return a(i(e),arguments.length<2?void 0:o(arguments[1]))}})},function(e,t,n){"use strict";var r=n(36),i=n(2),a=r.get,o=r.key;r.exp({getOwnMetadata:function(e,t){return a(e,i(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,t,n){"use strict";var r=n(174),i=n(165),a=n(36),o=n(2),s=n(21),c=a.keys,u=a.key;a.exp({getMetadataKeys:function(e){return function e(t,n){var a=c(t,n),o=s(t);if(null===o)return a;var u=e(o,n);return u.length?a.length?i(new r(a.concat(u))):u:a}(o(e),arguments.length<2?void 0:u(arguments[1]))}})},function(e,t,n){"use strict";var r=n(36),i=n(2),a=n(21),o=r.has,s=r.get,c=r.key;r.exp({getMetadata:function(e,t){return function e(t,n,r){if(o(t,n,r))return s(t,n,r);var i=a(n);return null!==i?e(t,i,r):void 0}(e,i(t),arguments.length<3?void 0:c(arguments[2]))}})},function(e,t,n){"use strict";var r=n(36),i=n(2),a=r.key,o=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:a(arguments[2]),r=o(i(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var c=s.get(t);return c.delete(n),!!c.size||s.delete(t)}})},function(e,t,n){"use strict";var r=n(36),i=n(2),a=r.key,o=r.set;r.exp({defineMetadata:function(e,t,n,r){o(e,t,i(n),a(r))}})},function(e,t,n){"use strict";var r=n(0),i=n(102),a=n(178);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=a(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";var r=n(0),i=n(34),a=n(3),o=n(79),s=n(177);r(r.P+r.R,"Promise",{finally:function(e){var t=o(this,i.Promise||a.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{umulh:function(e,t){var n=+e,r=+t,i=65535&n,a=65535&r,o=n>>>16,s=r>>>16,c=(o*a>>>0)+(i*a>>>16);return o*s+(c>>>16)+((i*s>>>0)+(65535&c)>>>16)}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{scale:n(164)})},function(e,t,n){"use strict";var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*i}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{imulh:function(e,t){var n=+e,r=+t,i=65535&n,a=65535&r,o=n>>16,s=r>>16,c=(o*a>>>0)+(i*a>>>16);return o*s+(c>>16)+((i*s>>>0)+(65535&c)>>16)}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,a=n>>>0;return(t>>>0)-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,a=n>>>0;return(t>>>0)+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},function(e,t,n){"use strict";var r=n(0),i=n(164),a=n(184);r(r.S,"Math",{fscale:function(e,t,n,r,o){return a(i(e,t,n,r,o))}})},function(e,t,n){"use strict";var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*i}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){"use strict";var r=n(0),i=n(26);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"System",{global:n(3)})},function(e,t,n){"use strict";var r=n(0);r(r.G,{global:n(3)})},function(e,t,n){"use strict";n(74)("WeakSet")},function(e,t,n){"use strict";n(74)("WeakMap")},function(e,t,n){"use strict";n(74)("Set")},function(e,t,n){"use strict";n(74)("Map")},function(e,t,n){"use strict";n(75)("WeakSet")},function(e,t,n){"use strict";n(75)("WeakMap")},function(e,t,n){"use strict";n(75)("Set")},function(e,t,n){"use strict";n(75)("Map")},function(e,t,n){"use strict";var r=n(0);r(r.P+r.R,"Set",{toJSON:n(166)("Set")})},function(e,t,n){"use strict";var r=n(0);r(r.P+r.R,"Map",{toJSON:n(166)("Map")})},function(e,t,n){"use strict";var r=n(0),i=n(13),a=n(33),o=n(21),s=n(22).f;n(11)&&r(r.P+n(76),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=a(e,!0);do{if(t=s(n,r))return t.set}while(n=o(n))}})},function(e,t,n){"use strict";var r=n(0),i=n(13),a=n(33),o=n(21),s=n(22).f;n(11)&&r(r.P+n(76),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=a(e,!0);do{if(t=s(n,r))return t.get}while(n=o(n))}})},function(e,t,n){"use strict";var r=n(0),i=n(13),a=n(14),o=n(10);n(11)&&r(r.P+n(76),"Object",{__defineSetter__:function(e,t){o.f(i(this),e,{set:a(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),i=n(13),a=n(14),o=n(10);n(11)&&r(r.P+n(76),"Object",{__defineGetter__:function(e,t){o.f(i(this),e,{get:a(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),i=n(167)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(0),i=n(167)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(0),i=n(170),a=n(23),o=n(22),s=n(109);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),c=o.f,u=i(r),l={},f=0;u.length>f;)void 0!==(n=c(r,t=u[f++]))&&s(l,t,n);return l}})},function(e,t,n){"use strict";n(125)("observable")},function(e,t,n){"use strict";n(125)("asyncIterator")},function(e,t,n){"use strict";var r=n(0),i=n(32),a=n(9),o=n(83),s=n(81),c=RegExp.prototype,u=function(e,t){this._r=e,this._s=t};n(113)(u,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(i(this),!o(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in c?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=a(e.lastIndex),new u(r,t)}})},function(e,t,n){"use strict";n(57)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";n(57)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";var r=n(0),i=n(168),a=n(100);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";var r=n(0),i=n(168),a=n(100);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(115)(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(169),a=n(13),o=n(9),s=n(31),c=n(107);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=a(this),n=o(t.length),r=c(t,0);return i(r,t,t,n,0,void 0===e?1:s(e)),r}}),n(39)("flatten")},function(e,t,n){"use strict";var r=n(0),i=n(169),a=n(13),o=n(9),s=n(14),c=n(107);r(r.P,"Array",{flatMap:function(e){var t,n,r=a(this);return s(e),t=o(r.length),n=c(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(39)("flatMap")},function(e,t,n){"use strict";var r=n(0),i=n(86)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(39)("includes")},function(e,t,n){"use strict";var r=n(0),i=n(121);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(10),i=n(22),a=n(21),o=n(19),s=n(0),c=n(52),u=n(2),l=n(6);s(s.S,"Reflect",{set:function e(t,n,s){var f,d,h=arguments.length<4?t:arguments[3],p=i.f(u(t),n);if(!p){if(l(d=a(t)))return e(d,n,s,h);p=c(0)}return o(p,"value")?!(!1===p.writable||!l(h)||((f=i.f(h,n)||c(0)).value=s,r.f(h,n,f),0)):void 0!==p.set&&(p.set.call(h,s),!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(2),a=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return a&&a(e),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Reflect",{ownKeys:n(170)})},function(e,t,n){"use strict";var r=n(0),i=n(2),a=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!a||a(e)}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){"use strict";var r=n(0),i=n(21),a=n(2);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(a(e))}})},function(e,t,n){"use strict";var r=n(22),i=n(0),a=n(2);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(a(e),t)}})},function(e,t,n){"use strict";var r=n(22),i=n(21),a=n(19),o=n(0),s=n(6),c=n(2);o(o.S,"Reflect",{get:function e(t,n){var o,u,l=arguments.length<3?t:arguments[2];return c(t)===l?t[n]:(o=r.f(t,n))?a(o,"value")?o.value:void 0!==o.get?o.get.call(l):void 0:s(u=i(t))?e(u,n,l):void 0}})},function(e,t,n){"use strict";var r=n(0),i=n(2),a=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(113)(a,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new a(e)}})},function(e,t,n){"use strict";var r=n(0),i=n(22).f,a=n(2);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(a(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(10),i=n(0),a=n(2),o=n(33);i(i.S+i.F*n(4)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){a(e),t=o(t,!0),a(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(0),i=n(47),a=n(14),o=n(2),s=n(6),c=n(4),u=n(191),l=(n(3).Reflect||{}).construct,f=c(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),d=!c(function(){l(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(d&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var c=n.prototype,h=i(s(c)?c:Object.prototype),p=Function.apply.call(e,h,t);return s(p)?p:h}})},function(e,t,n){"use strict";var r=n(0),i=n(14),a=n(2),o=(n(3).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(4)(function(){o(function(){})}),"Reflect",{apply:function(e,t,n){var r=i(e),c=a(n);return o?o(r,t,c):s.call(r,t,c)}})},function(e,t,n){"use strict";n(37)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(37)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(37)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(37)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(37)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(37)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(37)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){"use strict";n(37)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";n(37)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";var r=n(0);r(r.G+r.W+r.F*!n(77).ABV,{DataView:n(101).DataView})},function(e,t,n){"use strict";var r=n(0),i=n(77),a=n(101),o=n(2),s=n(48),c=n(9),u=n(6),l=n(3).ArrayBuffer,f=n(79),d=a.ArrayBuffer,h=a.DataView,p=i.ABV&&l.isView,g=d.prototype.slice,m=i.VIEW;r(r.G+r.W+r.F*(l!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return p&&p(e)||u(e)&&m in e}}),r(r.P+r.U+r.F*n(4)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==g&&void 0===t)return g.call(o(this),e);for(var n=o(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),a=new(f(this,d))(c(i-r)),u=new h(this),l=new h(a),p=0;r<i;)l.setUint8(p++,u.getUint8(r++));return a}}),n(45)("ArrayBuffer")},function(e,t,n){"use strict";var r=n(172),i=n(55);n(78)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r,i,a,o,s=n(50),c=n(3),u=n(27),l=n(65),f=n(0),d=n(6),h=n(14),p=n(44),g=n(43),m=n(79),b=n(104).set,v=n(103)(),y=n(102),_=n(178),w=n(177),S=c.TypeError,M=c.process,E=c.Promise,A="process"==l(M),k=function(){},I=i=y.f,O=!!function(){try{var e=E.resolve(1),t=(e.constructor={})[n(8)("species")]=function(e){e(k,k)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(k)instanceof t}catch(e){}}(),x=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var r=e._v,i=1==e._s,a=0,o=function(t){var n,a,o=i?t.ok:t.fail,s=t.resolve,c=t.reject,u=t.domain;try{o?(i||(2==e._h&&R(e),e._h=1),!0===o?n=r:(u&&u.enter(),n=o(r),u&&u.exit()),n===t.promise?c(S("Promise-chain cycle")):(a=x(n))?a.call(n,s,c):s(n)):c(r)}catch(e){c(e)}};n.length>a;)o(n[a++]);e._c=[],e._n=!1,t&&!e._h&&C(e)})}},C=function(e){b.call(c,function(){var t,n,r,i=e._v,a=j(e);if(a&&(t=_(function(){A?M.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=A||j(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},R=function(e){b.call(c,function(){var t;A?M.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},B=function e(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw S("Promise can't be resolved itself");(n=x(t))?v(function(){var i={_w:r,_d:!1};try{n.call(t,u(e,i,1),u(D,i,1))}catch(e){D.call(i,e)}}):(r._v=t,r._s=1,P(r,!1))}catch(e){D.call({_w:r,_d:!1},e)}}};O||(E=function(e){p(this,E,"Promise","_h"),h(e),r.call(this);try{e(u(B,this,1),u(D,this,1))}catch(e){D.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(42)(E.prototype,{then:function(e,t){var n=I(m(this,E));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?M.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=u(B,e,1),this.reject=u(D,e,1)},y.f=I=function(e){return e===E||e===o?new a(e):i(e)}),f(f.G+f.W+f.F*!O,{Promise:E}),n(58)(E,"Promise"),n(45)("Promise"),o=n(34).Promise,f(f.S+f.F*!O,"Promise",{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!O),"Promise",{resolve:function(e){return w(s&&this===o?E:this,e)}}),f(f.S+f.F*!(O&&n(82)(function(e){E.all(e).catch(k)})),"Promise",{all:function(e){var t=this,n=I(t),r=n.resolve,i=n.reject,a=_(function(){var n=[],a=0,o=1;g(e,!1,function(e){var s=a++,c=!1;n.push(void 0),o++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--o||r(n))},i)}),--o||r(n)});return a.e&&i(a.v),n.promise},race:function(e){var t=this,n=I(t),r=n.reject,i=_(function(){g(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){"use strict";n(80)("split",2,function(e,t,r){var i=n(83),a=r,o=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return a.call(n,e,t);var r,c,u,l,f,d=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,g=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,h+"g");for(s||(r=new RegExp("^"+m.source+"$(?!\\s)",h));(c=m.exec(n))&&!((u=c.index+c[0].length)>p&&(d.push(n.slice(p,c.index)),!s&&c.length>1&&c[0].replace(r,function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(c[f]=void 0)}),c.length>1&&c.index<n.length&&o.apply(d,c.slice(1)),l=c[0].length,p=u,d.length>=g));)m.lastIndex===c.index&&m.lastIndex++;return p===n.length?!l&&m.test("")||d.push(""):d.push(n.slice(p)),d.length>g?d.slice(0,g):d}}else"0".split(void 0,0).length&&(r=function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)});return[function(n,i){var a=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,a,i):r.call(String(a),n,i)},r]})},function(e,t,n){"use strict";n(80)("search",1,function(e,t,n){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";n(80)("replace",2,function(e,t,n){return[function(r,i){var a=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,a,i):n.call(String(a),r,i)},n]})},function(e,t,n){"use strict";n(80)("match",1,function(e,t,n){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";n(179);var r=n(2),i=n(81),a=n(11),o=/./.toString,s=function(e){n(17)(RegExp.prototype,"toString",e,!0)};n(4)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=o.name&&s(function(){return o.call(this)})},function(e,t,n){"use strict";var r=n(3),i=n(119),a=n(10).f,o=n(46).f,s=n(83),c=n(81),u=r.RegExp,l=u,f=u.prototype,d=/a/g,h=/a/g,p=new u(d)!==d;if(n(11)&&(!p||n(4)(function(){return h[n(8)("match")]=!1,u(d)!=d||u(h)==h||"/a/i"!=u(d,"i")}))){u=function(e,t){var n=this instanceof u,r=s(e),a=void 0===t;return!n&&r&&e.constructor===u&&a?e:i(p?new l(r&&!a?e.source:e,t):l((r=e instanceof u)?e.source:e,r&&a?c.call(e):t),n?this:f,u)};for(var g=function(e){e in u||a(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},m=o(l),b=0;m.length>b;)g(m[b++]);f.constructor=u,u.prototype=f,n(17)(r,"RegExp",u)}n(45)("RegExp")},function(e,t,n){"use strict";n(45)("Array")},function(e,t,n){"use strict";var r=n(0),i=n(29)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(39)(a)},function(e,t,n){"use strict";var r=n(0),i=n(29)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(39)("find")},function(e,t,n){"use strict";var r=n(0);r(r.P,"Array",{fill:n(106)}),n(39)("fill")},function(e,t,n){"use strict";var r=n(0);r(r.P,"Array",{copyWithin:n(181)}),n(39)("copyWithin")},function(e,t,n){"use strict";var r=n(0),i=n(23),a=n(31),o=n(9),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(25)(s)),"Array",{lastIndexOf:function(e){if(c)return s.apply(this,arguments)||0;var t=i(this),n=o(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,a(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){"use strict";var r=n(0),i=n(86)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(o||!n(25)(a)),"Array",{indexOf:function(e){return o?a.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(182);r(r.P+r.F*!n(25)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(182);r(r.P+r.F*!n(25)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(0),i=n(29)(4);r(r.P+r.F*!n(25)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(29)(3);r(r.P+r.F*!n(25)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(29)(2);r(r.P+r.F*!n(25)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(29)(1);r(r.P+r.F*!n(25)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(6),i=n(84),a=n(8)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(0),i=n(29)(0),a=n(25)([].forEach,!0);r(r.P+r.F*!a,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(14),a=n(13),o=n(4),s=[].sort,c=[1,2,3];r(r.P+r.F*(o(function(){c.sort(void 0)})||!o(function(){c.sort(null)})||!n(25)(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),i(e))}})},function(e,t,n){"use strict";var r=n(0),i=n(122),a=n(26),o=n(48),s=n(9),c=[].slice;r(r.P+r.F*n(4)(function(){i&&c.call(i)}),"Array",{slice:function(e,t){var n=s(this.length),r=a(this);if(t=void 0===t?n:t,"Array"==r)return c.call(this,e,t);for(var i=o(e,n),u=o(t,n),l=s(u-i),f=new Array(l),d=0;d<l;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},function(e,t,n){"use strict";var r=n(0),i=n(23),a=[].join;r(r.P+r.F*(n(67)!=Object||!n(25)(a)),"Array",{join:function(e){return a.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(0),i=n(109);r(r.S+r.F*n(4)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(27),i=n(0),a=n(13),o=n(183),s=n(110),c=n(9),u=n(109),l=n(108);i(i.S+i.F*!n(82)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,d=a(e),h="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,b=0,v=l(d);if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),void 0==v||h==Array&&s(v))for(n=new h(t=c(d.length));t>b;b++)u(n,b,m?g(d[b],b):d[b]);else for(f=v.call(d),n=new h;!(i=f.next()).done;b++)u(n,b,m?o(f,g,[i.value,b],!0):i.value);return n.length=b,n}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Array",{isArray:n(84)})},function(e,t,n){"use strict";var r=n(2),i=n(33);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},function(e,t,n){"use strict";var r=n(8)("toPrimitive"),i=Date.prototype;r in i||n(18)(i,r,n(536))},function(e,t,n){"use strict";var r=Date.prototype,i=r.toString,a=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(17)(r,"toString",function(){var e=a.call(this);return e==e?i.call(this):"Invalid Date"})},function(e,t,n){"use strict";var r=n(4),i=Date.prototype.getTime,a=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-5e13-1))})||!r(function(){a.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(n>99?n:"0"+o(n))+"Z"}:a},function(e,t,n){"use strict";var r=n(0),i=n(539);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){"use strict";var r=n(0),i=n(13),a=n(33);r(r.P+r.F*n(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),n=a(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";n(16)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){"use strict";n(16)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(16)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(16)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(16)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(16)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(16)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(16)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(16)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(16)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(16)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(16)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(16)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";var r=n(0),i=n(9),a=n(112),o="".startsWith;r(r.P+r.F*n(111)("startsWith"),"String",{startsWith:function(e){var t=a(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return o?o.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";var r=n(0);r(r.P,"String",{repeat:n(118)})},function(e,t,n){"use strict";var r=n(0),i=n(112);r(r.P+r.F*n(111)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(0),i=n(9),a=n(112),o="".endsWith;r(r.P+r.F*n(111)("endsWith"),"String",{endsWith:function(e){var t=a(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),c=String(e);return o?o.call(t,c,s):t.slice(s-c.length,s)===c}})},function(e,t,n){"use strict";var r=n(0),i=n(115)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(115)(!0);n(114)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";n(57)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(0),i=n(23),a=n(9);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=a(t.length),r=arguments.length,o=[],s=0;n>s;)o.push(String(t[s++])),s<r&&o.push(String(arguments[s]));return o.join("")}})},function(e,t,n){"use strict";var r=n(0),i=n(48),a=String.fromCharCode,o=String.fromCodePoint;r(r.S+r.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){"use strict";var r=n(0),i=n(116),a=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(a(e)+a(-e))}})},function(e,t,n){"use strict";var r=n(0),i=n(116),a=Math.exp;r(r.S+r.F*n(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(a(e-1)-a(-e-1))*(Math.E/2)}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{sign:n(117)})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{log1p:n(185)})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){"use strict";var r=n(0),i=Math.imul;r(r.S+r.F*n(4)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,a=65535&r;return 0|i*a+((65535&n>>>16)*a+i*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){"use strict";var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,a=0,o=0,s=arguments.length,c=0;o<s;)c<(n=i(arguments[o++]))?(a=a*(r=c/n)*r+1,c=n):a+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(a)}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{fround:n(184)})},function(e,t,n){"use strict";var r=n(0),i=n(116);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,n){"use strict";var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){"use strict";var r=n(0),i=n(117);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){"use strict";var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){"use strict";var r=n(0),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){"use strict";var r=n(0),i=n(185),a=Math.sqrt,o=Math.acosh;r(r.S+r.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+a(e-1)*a(e+1))}})},function(e,t,n){"use strict";var r=n(0),i=n(189);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){"use strict";var r=n(0),i=n(188);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){"use strict";var r=n(0),i=n(186),a=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&a(e)<=9007199254740991}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Number",{isInteger:n(186)})},function(e,t,n){"use strict";var r=n(0),i=n(3).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){"use strict";var r=n(0),i=n(4),a=n(187),o=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==o.call(1,void 0)})||!i(function(){o.call({})})),"Number",{toPrecision:function(e){var t=a(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(31),a=n(187),o=n(118),s=1..toFixed,c=Math.floor,u=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*u[n],u[n]=r%1e7,r=c(r/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)n+=u[t],u[t]=c(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var n=String(u[e]);t=""===t?n:t+o.call("0",7-n.length)+n}return t},p=function e(t,n,r){return 0===n?r:n%2==1?e(t,n-1,r*t):e(t*t,n/2,r)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(4)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,r,s,c=a(this,l),u=i(e),g="",m="0";if(u<0||u>20)throw RangeError(l);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(g="-",c=-c),c>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(c*p(2,69,1))-69)<0?c*p(2,-t,1):c/p(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),r=u;r>=7;)f(1e7,0),r-=7;for(f(p(10,r,1),0),r=t-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),m=h()}else f(0,n),f(1<<-t,0),m=h()+o.call("0",u);return m=u>0?g+((s=m.length)<=u?"0."+o.call("0",u-s)+m:m.slice(0,s-u)+"."+m.slice(s-u)):g+m}})},function(e,t,n){"use strict";var r=n(3),i=n(19),a=n(26),o=n(119),s=n(33),c=n(4),u=n(46).f,l=n(22).f,f=n(10).f,d=n(57).trim,h=r.Number,p=h,g=h.prototype,m="Number"==a(n(47)(g)),b="trim"in String.prototype,v=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,a=(t=b?t.trim():d(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var o,c=t.slice(2),u=0,l=c.length;u<l;u++)if((o=c.charCodeAt(u))<48||o>i)return NaN;return parseInt(c,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(m?c(function(){g.valueOf.call(n)}):"Number"!=a(n))?o(new p(v(t)),n,h):v(t)};for(var y,_=n(11)?u(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)i(p,y=_[w])&&!i(h,y)&&f(h,y,l(p,y));h.prototype=g,g.constructor=h,n(17)(r,"Number",h)}},function(e,t,n){"use strict";var r=n(0),i=n(188);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){"use strict";var r=n(0),i=n(189);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){"use strict";var r=n(6),i=n(21),a=n(8)("hasInstance"),o=Function.prototype;a in o||n(10).f(o,a,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){"use strict";var r=n(10).f,i=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in i||n(11)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(0);r(r.P,"Function",{bind:n(191)})},function(e,t,n){"use strict";var r=n(65),i={};i[n(8)("toStringTag")]="z",i+""!="[object z]"&&n(17)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){"use strict";var r=n(0);r(r.S,"Object",{setPrototypeOf:n(121).set})},function(e,t,n){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(0);r(r.S,"Object",{is:n(601)})},function(e,t,n){"use strict";var r=n(0);r(r.S+r.F,"Object",{assign:n(192)})},function(e,t,n){"use strict";var r=n(6);n(30)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){"use strict";var r=n(6);n(30)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){"use strict";var r=n(6);n(30)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){"use strict";var r=n(6),i=n(40).onFreeze;n(30)("preventExtensions",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){"use strict";var r=n(6),i=n(40).onFreeze;n(30)("seal",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){"use strict";var r=n(6),i=n(40).onFreeze;n(30)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){"use strict";n(30)("getOwnPropertyNames",function(){return n(193).f})},function(e,t,n){"use strict";var r=n(13),i=n(49);n(30)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){"use strict";var r=n(13),i=n(21);n(30)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){"use strict";var r=n(23),i=n(22).f;n(30)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){"use strict";var r=n(0);r(r.S+r.F*!n(11),"Object",{defineProperties:n(194)})},function(e,t,n){"use strict";var r=n(0);r(r.S+r.F*!n(11),"Object",{defineProperty:n(10).f})},function(e,t,n){"use strict";var r=n(0);r(r.S,"Object",{create:n(47)})},function(e,t,n){"use strict";var r=n(49),i=n(85),a=n(66);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var o,s=n(e),c=a.f,u=0;s.length>u;)c.call(e,o=s[u++])&&t.push(o);return t}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(3),a=n(19),o=n(11),s=n(0),c=n(17),u=n(40).KEY,l=n(4),f=n(87),d=n(58),h=n(51),p=n(8),g=n(196),m=n(125),b=n(617),v=n(84),y=n(2),_=n(6),w=n(23),S=n(33),M=n(52),E=n(47),A=n(193),k=n(22),I=n(10),O=n(49),x=k.f,P=I.f,C=A.f,j=i.Symbol,R=i.JSON,D=R&&R.stringify,B=p("_hidden"),N=p("toPrimitive"),T={}.propertyIsEnumerable,L=f("symbol-registry"),$=f("symbols"),U=f("op-symbols"),F=Object.prototype,z="function"==typeof j,q=i.QObject,V=!q||!q.prototype||!q.prototype.findChild,H=o&&l(function(){return 7!=E(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=x(F,t);r&&delete F[t],P(e,t,n),r&&e!==F&&P(F,t,r)}:P,K=function(e){var t=$[e]=E(j.prototype);return t._k=e,t},G=z&&"symbol"==r(j.iterator)?function(e){return"symbol"==r(e)}:function(e){return e instanceof j},W=function(e,t,n){return e===F&&W(U,t,n),y(e),t=S(t,!0),y(n),a($,t)?(n.enumerable?(a(e,B)&&e[B][t]&&(e[B][t]=!1),n=E(n,{enumerable:M(0,!1)})):(a(e,B)||P(e,B,M(1,{})),e[B][t]=!0),H(e,t,n)):P(e,t,n)},Y=function(e,t){y(e);for(var n,r=b(t=w(t)),i=0,a=r.length;a>i;)W(e,n=r[i++],t[n]);return e},J=function(e){var t=T.call(this,e=S(e,!0));return!(this===F&&a($,e)&&!a(U,e))&&(!(t||!a(this,e)||!a($,e)||a(this,B)&&this[B][e])||t)},X=function(e,t){if(e=w(e),t=S(t,!0),e!==F||!a($,t)||a(U,t)){var n=x(e,t);return!n||!a($,t)||a(e,B)&&e[B][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=C(w(e)),r=[],i=0;n.length>i;)a($,t=n[i++])||t==B||t==u||r.push(t);return r},Q=function(e){for(var t,n=e===F,r=C(n?U:w(e)),i=[],o=0;r.length>o;)!a($,t=r[o++])||n&&!a(F,t)||i.push($[t]);return i};z||(c((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0);return o&&V&&H(F,e,{configurable:!0,set:function t(n){this===F&&t.call(U,n),a(this,B)&&a(this[B],e)&&(this[B][e]=!1),H(this,e,M(1,n))}}),K(e)}).prototype,"toString",function(){return this._k}),k.f=X,I.f=W,n(46).f=A.f=Z,n(66).f=J,n(85).f=Q,o&&!n(50)&&c(F,"propertyIsEnumerable",J,!0),g.f=function(e){return K(p(e))}),s(s.G+s.W+s.F*!z,{Symbol:j});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=O(p.store),re=0;ne.length>re;)m(ne[re++]);s(s.S+s.F*!z,"Symbol",{for:function(e){return a(L,e+="")?L[e]:L[e]=j(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!z,"Object",{create:function(e,t){return void 0===t?E(e):Y(E(e),t)},defineProperty:W,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),R&&s(s.S+s.F*(!z||l(function(){var e=j();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(_(t)||void 0!==e)&&!G(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,D.apply(R,r)}}),j.prototype[N]||n(18)(j.prototype,N,j.prototype.valueOf),d(j,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(e,t,n){"use strict";n(618),n(616),n(615),n(614),n(613),n(612),n(611),n(610),n(609),n(608),n(607),n(606),n(605),n(604),n(603),n(602),n(600),n(599),n(598),n(597),n(596),n(595),n(594),n(593),n(592),n(591),n(590),n(589),n(588),n(587),n(586),n(585),n(584),n(583),n(582),n(581),n(580),n(579),n(578),n(577),n(576),n(575),n(574),n(573),n(572),n(571),n(570),n(569),n(568),n(567),n(566),n(565),n(564),n(563),n(562),n(561),n(560),n(559),n(558),n(557),n(556),n(555),n(554),n(553),n(552),n(551),n(550),n(549),n(548),n(547),n(546),n(545),n(544),n(543),n(542),n(541),n(540),n(538),n(537),n(535),n(534),n(533),n(532),n(531),n(530),n(529),n(527),n(526),n(525),n(524),n(523),n(522),n(521),n(520),n(519),n(518),n(517),n(516),n(515),n(105),n(514),n(513),n(179),n(512),n(511),n(510),n(509),n(508),n(176),n(174),n(173),n(507),n(506),n(505),n(504),n(503),n(502),n(501),n(500),n(499),n(498),n(497),n(496),n(495),n(494),n(493),n(492),n(491),n(490),n(489),n(488),n(487),n(486),n(485),n(484),n(483),n(482),n(481),n(480),n(479),n(478),n(477),n(476),n(475),n(474),n(473),n(472),n(471),n(470),n(469),n(468),n(467),n(466),n(465),n(464),n(463),n(462),n(461),n(460),n(459),n(458),n(457),n(456),n(455),n(454),n(453),n(452),n(451),n(450),n(449),n(448),n(447),n(446),n(445),n(444),n(443),n(442),n(441),n(440),n(439),n(438),n(437),n(436),n(435),n(434),n(433),n(432),n(431),n(430),n(429),n(428),n(427),n(426),n(425),n(424),n(423),e.exports=n(34)},function(e,t,n){"use strict";(function(e){if(n(619),n(422),n(421),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var t="defineProperty";function r(e,n,r){e[n]||Object[t](e,n,{writable:!0,configurable:!0,value:r})}r(String.prototype,"padLeft","".padStart),r(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&r(Array,e,Function.call.bind([][e]))})}).call(this,n(24))},function(e,t,n){n(620),n(162),e.exports=n(321)}]);
//# sourceMappingURL=maas-min.js.map