Initialise MAAS in the specified run mode.

```bash
maas init [-h] {region+rack,region,rack} ...

```


#### **Command-line options**
| Option | Effect |
|---|---|
| -h, --help | show this help message and exit. |



#### **Run modes**
| Mode | Effect |
|---|---|
| region+rack |         Both region and rack controllers |
| region |              Region controller only |
| rack |                Rack controller only |

When installing region or rack+region modes, MAAS needs a PostgreSQL database to connect to.

If you want to set up PostgreSQL for a non-production deployment on this machine, and configure it for use with MAAS, you can install the `maas-test-db` snap before running `maas init`:


```bash
sudo snap install maas-test-db
sudo maas init region+rack --database-uri maas-test-db:///

```




Initialise MAAS to run only a rack controller.

```bash
maas init rack [-h] [--maas-url MAAS_URL] [--secret SECRET] [--force]

```


#### **Command-line options**
| Option | Effect |
|---|---|
| -h, --help | show this help message and exit. |
| --maas-url | URL that MAAS should use for communicate from the nodes to MAAS and other controllers of MAAS. |
| --secret | Secret token required for the rack controller to talk to the region controller(s). Only used when in 'rack' mode. |
| --force | Skip confirmation questions when initialization has already been performed. |






Initialise MAAS to run only a region controller.

```bash
maas init region [-h] [--maas-url MAAS_URL]
                        [--database-uri DATABASE_URI] [--vault-uri VAULT_URI]
                        [--vault-approle-id VAULT_APPROLE_ID]
                        [--vault-wrapped-token VAULT_WRAPPED_TOKEN]
                        [--vault-secrets-path VAULT_SECRETS_PATH]
                        [--vault-secrets-mount VAULT_SECRETS_MOUNT] [--force]

```


#### **Command-line options**
| Option | Effect |
|---|---|
| -h, --help | show this help message and exit. |
| --maas-url | URL that MAAS should use for communicate from the nodes to MAAS and other controllers of MAAS. |
| --database-uri | URI for the MAAS Postgres database in the form of postgres://user:pass@host:port/dbname or maas-test-db:///. For maas-test-db:/// to work, the maas-test-db snap needs to be installed and connected. |
| --vault-uri | Vault URI. |
| --vault-approle-id | Vault AppRole Role ID. |
| --vault-wrapped-token | Vault Wrapped Token for AppRole ID. |
| --vault-secrets-path | Path prefix for MAAS secrets in Vault KV storage. |
| --vault-secrets-mount | Vault KV mount path. |
| --force | Skip confirmation questions when initialization has already been performed. |






Initialise MAAS to run both a region and rack controller.

```bash
maas init region+rack [-h] [--maas-url MAAS_URL]
                             [--database-uri DATABASE_URI]
                             [--vault-uri VAULT_URI]
                             [--vault-approle-id VAULT_APPROLE_ID]
                             [--vault-wrapped-token VAULT_WRAPPED_TOKEN]
                             [--vault-secrets-path VAULT_SECRETS_PATH]
                             [--vault-secrets-mount VAULT_SECRETS_MOUNT]
                             [--force]

```


#### **Command-line options**
| Option | Effect |
|---|---|
| -h, --help | show this help message and exit. |
| --maas-url | URL that MAAS should use for communicate from the nodes to MAAS and other controllers of MAAS. |
| --database-uri | URI for the MAAS Postgres database in the form of postgres://user:pass@host:port/dbname or maas-test-db:///. For maas-test-db:/// to work, the maas-test-db snap needs to be installed and connected. |
| --vault-uri | Vault URI. |
| --vault-approle-id | Vault AppRole Role ID. |
| --vault-wrapped-token | Vault Wrapped Token for AppRole ID. |
| --vault-secrets-path | Path prefix for MAAS secrets in Vault KV storage. |
| --vault-secrets-mount | Vault KV mount path. |
| --force | Skip confirmation questions when initialization has already been performed. |
